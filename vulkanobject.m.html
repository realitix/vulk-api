<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>vulk.vulkanobject API documentation</title>
    <meta name="description" content="Vulkan objects modules

This module contains the *High* level Vulkan object. It's not that *high*
le..." />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">
    <li class="set"><h3><a href="#header-variables">Module variables</a></h3>
      
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.logger">logger</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.btov">btov</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.find_memory_type">find_memory_type</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.immediate_buffer">immediate_buffer</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.submit_to_graphic_queue">submit_to_graphic_queue</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.submit_to_queue">submit_to_queue</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.update_descriptorsets">update_descriptorsets</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.AttachmentDescription">AttachmentDescription</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.AttachmentReference">AttachmentReference</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Buffer">Buffer</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Buffer.__init__">__init__</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.Buffer.bind">bind</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.Buffer.copy_to">copy_to</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.ClearColorValue">ClearColorValue</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.ClearColorValue.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.ClearDepthStencilValue">ClearDepthStencilValue</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.ClearDepthStencilValue.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.CommandBuffer">CommandBuffer</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBuffer.__init__">__init__</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBuffer.bind">bind</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.CommandBufferRegister">CommandBufferRegister</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.__init__">__init__</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.begin_renderpass">begin_renderpass</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.bind_descriptor_sets">bind_descriptor_sets</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.bind_index_buffer">bind_index_buffer</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.bind_pipeline">bind_pipeline</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.bind_vertex_buffers">bind_vertex_buffers</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.copy_buffer">copy_buffer</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.copy_image">copy_image</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.draw">draw</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.draw_indexed">draw_indexed</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.end_renderpass">end_renderpass</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandBufferRegister.pipeline_barrier">pipeline_barrier</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.CommandPool">CommandPool</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.CommandPool.__init__">__init__</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandPool.allocate_buffers">allocate_buffers</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandPool.free">free</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.CommandPool.free_buffers">free_buffers</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.DescriptorBufferInfo">DescriptorBufferInfo</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.DescriptorImageInfo">DescriptorImageInfo</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.DescriptorPool">DescriptorPool</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.DescriptorPool.__init__">__init__</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.DescriptorPool.allocate_descriptorsets">allocate_descriptorsets</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.DescriptorPoolSize">DescriptorPoolSize</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.DescriptorSet">DescriptorSet</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.DescriptorSet.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.DescriptorSetLayout">DescriptorSetLayout</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.DescriptorSetLayout.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.DescriptorSetLayoutBinding">DescriptorSetLayoutBinding</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Extent2D">Extent2D</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Extent3D">Extent3D</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Framebuffer">Framebuffer</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Framebuffer.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.HighPerformanceBuffer">HighPerformanceBuffer</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.HighPerformanceBuffer.__init__">__init__</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.HighPerformanceBuffer.bind">bind</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.HighPerformanceImage">HighPerformanceImage</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.HighPerformanceImage.__init__">__init__</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.HighPerformanceImage.bind">bind</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Image">Image</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Image.__init__">__init__</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.Image.bind">bind</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.Image.copy_to">copy_to</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.Image.update_layout">update_layout</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.ImageSubresourceRange">ImageSubresourceRange</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.ImageView">ImageView</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.ImageView.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Offset2D">Offset2D</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Pipeline">Pipeline</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Pipeline.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineColorBlendAttachmentState">PipelineColorBlendAttachmentState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineColorBlendState">PipelineColorBlendState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineDepthStencilState">PipelineDepthStencilState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineDynamicState">PipelineDynamicState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineInputAssemblyState">PipelineInputAssemblyState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineLayout">PipelineLayout</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.PipelineLayout.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineMultisampleState">PipelineMultisampleState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineRasterizationState">PipelineRasterizationState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineShaderStage">PipelineShaderStage</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineVertexInputState">PipelineVertexInputState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineViewportState">PipelineViewportState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Rect2d">Rect2D</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Renderpass">Renderpass</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Renderpass.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Sampler">Sampler</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Sampler.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Semaphore">Semaphore</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Semaphore.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.ShaderModule">ShaderModule</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.ShaderModule.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.ShaderProgram">ShaderProgram</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.ShaderProgram.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.SubmitInfo">SubmitInfo</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.SubpassDependency">SubpassDependency</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.SubpassDescription">SubpassDescription</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.VertexInputAttributeDescription">VertexInputAttributeDescription</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.VertexInputBindingDescription">VertexInputBindingDescription</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Viewport">Viewport</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.WriteDescriptorSet">WriteDescriptorSet</a></span>
        
        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  

    <p id="nav">
      <a href="/vulk-api/">All packages</a>
      
        
        :: <a href="/vulk-api/vulk">vulk</a>
    </p>

  <header id="section-intro">
  <h1 class="title"><span class="name">vulk.vulkanobject</span> module</h1>
  <p>Vulkan objects modules</p>

<p>This module contains the <em>High</em> level Vulkan object. It's not that <em>high</em>
level, you need to understand fully Vulkan to use theses objects.
This module must be use by Vulkan expert and is very complicated to work with.
You will see a lot of namedtuple here, they are used to better document the
object arguments. Instead of passing a dict whith unknow keys, you pass a
documented namedtuple, I think it's better.
If you want to understand internal Vulkan functions, you can hack around this
module.</p>

<p><strong>Note: All classes, functions, tuples of this module are sorted
        alphabetically.</strong></p>

<p><strong>Note: In this module, when it's needed, the parameter type is indicated. If
        the type begins with Vk..., it means a real Vulkan object and not an
        object in this module.</strong></p>

  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject" class="source">
    <div class="codehilite"><pre><span></span><span class="sd">&#39;&#39;&#39;Vulkan objects modules</span>

<span class="sd">This module contains the *High* level Vulkan object. It&#39;s not that *high*</span>
<span class="sd">level, you need to understand fully Vulkan to use theses objects.</span>
<span class="sd">This module must be use by Vulkan expert and is very complicated to work with.</span>
<span class="sd">You will see a lot of namedtuple here, they are used to better document the</span>
<span class="sd">object arguments. Instead of passing a dict whith unknow keys, you pass a</span>
<span class="sd">documented namedtuple, I think it&#39;s better.</span>
<span class="sd">If you want to understand internal Vulkan functions, you can hack around this</span>
<span class="sd">module.</span>


<span class="sd">**Note: All classes, functions, tuples of this module are sorted</span>
<span class="sd">        alphabetically.**</span>

<span class="sd">**Note: In this module, when it&#39;s needed, the parameter type is indicated. If</span>
<span class="sd">        the type begins with Vk..., it means a real Vulkan object and not an</span>
<span class="sd">        object in this module.**</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">vulkan</span> <span class="kn">as</span> <span class="nn">vk</span>  <span class="c1"># pylint: disable=import-error</span>

<span class="kn">from</span> <span class="nn">vulk.exception</span> <span class="kn">import</span> <span class="n">VulkError</span>
<span class="kn">from</span> <span class="nn">vulk</span> <span class="kn">import</span> <span class="n">vulkanconstant</span> <span class="k">as</span> <span class="n">vc</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>


<span class="c1"># ----------</span>
<span class="c1"># FUNCTIONS</span>
<span class="c1"># ----------</span>
<span class="k">def</span> <span class="nf">btov</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Convert boolean to Vulkan boolean&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span> <span class="k">if</span> <span class="n">b</span> <span class="k">else</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>


<span class="k">def</span> <span class="nf">find_memory_type</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">type_filter</span><span class="p">,</span> <span class="n">properties</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Graphics cards can offer different types of memory to allocate from.</span>
<span class="sd">    Each type of memory varies in terms of allowed operations and performance</span>
<span class="sd">    characteristics. We need to combine the requirements of the memory and our</span>
<span class="sd">    own application requirements to find the right type of memory to use.</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `type_filter`: Bit field of the memory types that are suitable</span>
<span class="sd">                     for the memory (int)</span>
<span class="sd">    - `properties`: `MemoryProperty` Vulkan constant, type of</span>
<span class="sd">                    memory we want</span>

<span class="sd">    **Todo: I made a bitwise comparaison with `type_filter`, I have to test</span>
<span class="sd">            it to be sure it&#39;s working**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">find_memory_type</span><span class="o">.</span><span class="n">cache_properties</span><span class="p">:</span>
        <span class="n">find_memory_type</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetPhysicalDeviceMemoryProperties</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">physical_device</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">memory_type</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">find_memory_type</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">memoryTypes</span><span class="p">):</span>
        <span class="c1"># TODO: Test type_filter</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">type_filter</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">))</span> <span class="ow">and</span> \
           <span class="p">(</span><span class="n">memory_type</span><span class="o">.</span><span class="n">propertyFlags</span> <span class="o">&amp;</span> <span class="n">properties</span><span class="p">)</span> <span class="o">==</span> <span class="n">properties</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">i</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t find suitable memory type&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>


<span class="c1"># Set physical device memory properties in cache since it depends</span>
<span class="c1"># only on the physical device</span>
<span class="n">find_memory_type</span><span class="o">.</span><span class="n">cache_properties</span> <span class="o">=</span> <span class="bp">None</span>


<span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Manage creation and destruction of commandbuffer for one time submit.</span>
<span class="sd">    If commandpool is not given, it is created here.</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `commandpool`: `CommandPool` (optional)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">own_commandpool</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">commandpool</span><span class="p">:</span>
        <span class="n">commandpool</span> <span class="o">=</span> <span class="n">CommandPool</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">context</span><span class="o">.</span><span class="n">queue_family_indices</span><span class="p">[</span><span class="s1">&#39;graphic&#39;</span><span class="p">],</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">CommandPoolCreate</span><span class="o">.</span><span class="n">TRANSIENT</span><span class="p">)</span>
        <span class="n">own_commandpool</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">commandbuffers</span> <span class="o">=</span> <span class="n">commandpool</span><span class="o">.</span><span class="n">allocate_buffers</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">CommandBufferLevel</span><span class="o">.</span><span class="n">PRIMARY</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">flags</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">CommandBufferUsage</span><span class="o">.</span><span class="n">ONE_TIME_SUBMIT</span>
        <span class="k">with</span> <span class="n">commandbuffers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">flags</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">cmd</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">submit</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkSubmitInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SUBMIT_INFO</span><span class="p">,</span>
            <span class="n">waitSemaphoreCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pWaitSemaphores</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pWaitDstStageMask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">commandBufferCount</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">pCommandBuffers</span><span class="o">=</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">commandbuffers</span><span class="p">],</span>
            <span class="n">signalSemaphoreCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pSignalSemaphores</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span>

        <span class="n">vk</span><span class="o">.</span><span class="n">vkQueueSubmit</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">graphic_queue</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">submit</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkQueueWaitIdle</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">graphic_queue</span><span class="p">)</span>
        <span class="n">commandpool</span><span class="o">.</span><span class="n">free_buffers</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandbuffers</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">own_commandpool</span><span class="p">:</span>
            <span class="n">commandpool</span><span class="o">.</span><span class="n">free</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">submit_to_graphic_queue</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">submits</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Convenient function to submit commands to graphic queue</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `submits`: `list` of `SubmitInfo`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">submit_to_queue</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">graphic_queue</span><span class="p">,</span> <span class="n">submits</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">submit_to_queue</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">submits</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Submit commands to queue</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `queue`: `VkQueue`</span>
<span class="sd">    - `submits`: `list` of `SubmitInfo`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_submits</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">submits</span><span class="p">:</span>
        <span class="n">wait_stages</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">wait_stages</span><span class="p">:</span>
            <span class="n">wait_stages</span> <span class="o">=</span> <span class="p">[</span><span class="n">st</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">wait_stages</span><span class="p">]</span>

        <span class="n">wait_semaphores</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">wait_semaphores</span><span class="p">:</span>
            <span class="n">wait_semaphores</span> <span class="o">=</span> <span class="p">[</span><span class="n">sem</span><span class="o">.</span><span class="n">semaphore</span> <span class="k">for</span> <span class="n">sem</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">wait_semaphores</span><span class="p">]</span>

        <span class="n">signal_semaphores</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">signal_semaphores</span><span class="p">:</span>
            <span class="n">signal_semaphores</span> <span class="o">=</span> <span class="p">[</span><span class="n">sem</span><span class="o">.</span><span class="n">semaphore</span> <span class="k">for</span> <span class="n">sem</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">signal_semaphores</span><span class="p">]</span>

        <span class="n">vk_submits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubmitInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SUBMIT_INFO</span><span class="p">,</span>
            <span class="n">waitSemaphoreCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">wait_semaphores</span><span class="p">),</span>
            <span class="n">pWaitSemaphores</span><span class="o">=</span><span class="n">wait_semaphores</span><span class="p">,</span>
            <span class="n">pWaitDstStageMask</span><span class="o">=</span><span class="n">wait_stages</span><span class="p">,</span>
            <span class="n">commandBufferCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">commandbuffers</span><span class="p">),</span>
            <span class="n">pCommandBuffers</span><span class="o">=</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">commandbuffers</span><span class="p">],</span>
            <span class="n">signalSemaphoreCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">signal_semaphores</span><span class="p">),</span>
            <span class="n">pSignalSemaphores</span><span class="o">=</span><span class="n">signal_semaphores</span>
        <span class="p">))</span>

    <span class="n">vk</span><span class="o">.</span><span class="n">vkQueueSubmit</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">vk_submits</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">update_descriptorsets</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">writes</span><span class="p">,</span> <span class="n">copies</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Update the contents of a descriptor set object</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `writes`: `list` of `WriteDescriptorSet`</span>
<span class="sd">    - `copies`: `list` of `CopyDescriptorSet`</span>

<span class="sd">    **Todo: `copies` is unusable currently**</span>
<span class="sd">    **Todo: Only `DescriptorBufferInfo` supported**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">get_type</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">descriptors</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;pImageInfo&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;pBufferInfo&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                  <span class="s1">&#39;pTexelBufferView&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>
        <span class="n">vk_descriptors</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_SAMPLER</span><span class="p">,</span>
                 <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</span><span class="p">,</span>
                 <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</span><span class="p">,</span>
                 <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</span><span class="p">,</span>
                 <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">:</span>
                <span class="n">vk_descriptors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorImageInfo</span><span class="p">(</span>
                    <span class="n">sampler</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">sampler</span><span class="o">.</span><span class="n">sampler</span><span class="p">,</span>
                    <span class="n">imageView</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">imageview</span><span class="p">,</span>
                    <span class="n">imageLayout</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">value</span>
                <span class="p">))</span>
            <span class="n">result</span><span class="p">[</span><span class="s1">&#39;pImageInfo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk_descriptors</span>

        <span class="k">elif</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</span><span class="p">,</span>
                   <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</span><span class="p">):</span>
            <span class="n">result</span><span class="p">[</span><span class="s1">&#39;pTexelBufferView&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">view</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</span><span class="p">,</span>
                   <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</span><span class="p">,</span>
                   <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</span><span class="p">,</span>
                   <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">:</span>
                <span class="n">vk_descriptors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorBufferInfo</span><span class="p">(</span>
                    <span class="nb">buffer</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span>
                    <span class="n">offset</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span>
                    <span class="nb">range</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">range</span>
                <span class="p">))</span>
            <span class="n">result</span><span class="p">[</span><span class="s1">&#39;pBufferInfo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk_descriptors</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="n">vk_writes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">writes</span><span class="p">:</span>
        <span class="n">vk_writes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkWriteDescriptorSet</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET</span><span class="p">,</span>
            <span class="n">dstSet</span><span class="o">=</span><span class="n">w</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">descriptorset</span><span class="p">,</span>
            <span class="n">dstBinding</span><span class="o">=</span><span class="n">w</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
            <span class="n">dstArrayElement</span><span class="o">=</span><span class="n">w</span><span class="o">.</span><span class="n">set_offset</span><span class="p">,</span>
            <span class="n">descriptorCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">descriptors</span><span class="p">),</span>
            <span class="n">descriptorType</span><span class="o">=</span><span class="n">w</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="o">**</span><span class="n">get_type</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">w</span><span class="o">.</span><span class="n">descriptors</span><span class="p">)</span>
        <span class="p">))</span>

    <span class="c1"># TODO: copies must be implemented</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkUpdateDescriptorSets</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">vk_writes</span><span class="p">),</span>
                              <span class="n">vk_writes</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">copies</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>


<span class="c1"># ----------</span>
<span class="c1"># NAMED TUPLES</span>
<span class="c1"># ----------</span>
<span class="n">AttachmentDescription</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;AttachmentDescription&#39;</span><span class="p">,</span>
                                   <span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">,</span> <span class="s1">&#39;samples&#39;</span><span class="p">,</span> <span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="s1">&#39;store&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;stencil_load&#39;</span><span class="p">,</span> <span class="s1">&#39;stencil_store&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;initial_layout&#39;</span><span class="p">,</span> <span class="s1">&#39;final_layout&#39;</span><span class="p">])</span>
<span class="n">AttachmentDescription</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    AttachmentDescription describes the attachment.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `format`: `Format` vulk constant</span>
<span class="s1">    - `samples`: `SampleCount` vulk constant</span>
<span class="s1">    - `load`: `AttachmentLoadOp` vulk constant</span>
<span class="s1">    - `store`: `AttachmentStoreOp` vulk constant</span>
<span class="s1">    - `stencil_load`: `AttachmentLoadOp` vulk constant</span>
<span class="s1">    - `stencil_store`: `AttachmentStoreOp` vulk constant</span>
<span class="s1">    - `initial_layout`: `ImageLayout` vulk constant</span>
<span class="s1">    - `final_layout`: `ImageLayout` vulk constant</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">AttachmentReference</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;AttachmentReference&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="s1">&#39;layout&#39;</span><span class="p">])</span>
<span class="n">AttachmentReference</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    AttachmentReference links an attachment index with a layout.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `index`: Index of attachment description</span>
<span class="s1">    - `layout`: `ImageLayout` vulk constant</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">DescriptorBufferInfo</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;DescriptorBufferInfo&#39;</span><span class="p">,</span>
                                  <span class="p">[</span><span class="s1">&#39;buffer&#39;</span><span class="p">,</span> <span class="s1">&#39;offset&#39;</span><span class="p">,</span> <span class="s1">&#39;range&#39;</span><span class="p">])</span>
<span class="n">DescriptorBufferInfo</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    Structure specifying descriptor buffer info</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `buffer`: `Buffer` ressource</span>
<span class="s1">    - `offset`: Offset in bytes from the start of buffer</span>
<span class="s1">    - `range`: Size in bytes that is used for this descriptor update</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">DescriptorImageInfo</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;DescriptorImageInfo&#39;</span><span class="p">,</span>
                                 <span class="p">[</span><span class="s1">&#39;sampler&#39;</span><span class="p">,</span> <span class="s1">&#39;view&#39;</span><span class="p">,</span> <span class="s1">&#39;layout&#39;</span><span class="p">])</span>
<span class="n">DescriptorImageInfo</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    Structure specifying descriptor image info</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `sampler`: `Sampler` ressource</span>
<span class="s1">    - `view`: `ImageView`</span>
<span class="s1">    - `layout`: `ImageLayout` vulk constant</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">DescriptorPoolSize</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;DescriptorPoolSize&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">])</span>
<span class="n">DescriptorPoolSize</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    Structure specifying descriptor pool size.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `type`: `DescriptorType` vulk constant</span>
<span class="s1">    - `count`: Number of descriptors of that type to allocate</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">DescriptorSetLayoutBinding</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;DescriptorSetLayoutBinding&#39;</span><span class="p">,</span>
                                        <span class="p">[</span><span class="s1">&#39;binding&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span>
                                         <span class="s1">&#39;stage&#39;</span><span class="p">,</span> <span class="s1">&#39;immutable_samplers&#39;</span><span class="p">])</span>
<span class="n">DescriptorSetLayoutBinding</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    Structure specifying a descriptor set layout binding.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `binding`: Binding number of this entry and corresponds to a resource</span>
<span class="s1">                 of the same binding number in the shader stages</span>
<span class="s1">    - `type`: `DescriptorType` specifying which type of resource descriptors</span>
<span class="s1">              are used for this binding</span>
<span class="s1">    - `count`:  Number of descriptors contained in the binding,</span>
<span class="s1">                accessed in a shader as an array</span>
<span class="s1">    - `stage`: `ShaderStage` vulk constant specifying which pipeline shader</span>
<span class="s1">                stages can access a resource for this binding</span>
<span class="s1">    - `immutable_samplers`: Immutable `Sampler` (can be `None`)</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">Extent2D</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Extent2D&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">])</span>
<span class="n">Extent2D</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `width`: Width</span>
<span class="s1">    - `height`: Height</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">Extent3D</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Extent3D&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="s1">&#39;depth&#39;</span><span class="p">])</span>
<span class="n">Extent3D</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `width`: Width</span>
<span class="s1">    - `height`: Height</span>
<span class="s1">    - `depth`: Depth</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">ImageSubresourceRange</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;ImageSubresourceRange&#39;</span><span class="p">,</span>
                                   <span class="p">[</span><span class="s1">&#39;aspect&#39;</span><span class="p">,</span> <span class="s1">&#39;base_miplevel&#39;</span><span class="p">,</span> <span class="s1">&#39;level_count&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;base_layer&#39;</span><span class="p">,</span> <span class="s1">&#39;layer_count&#39;</span><span class="p">])</span>
<span class="n">ImageSubresourceRange</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    `ImageSubresourceRange` object describes what the image&#39;s purpose is and</span>
<span class="s1">    which part of the image should be accessed.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `aspect`: `ImageAspect` vulk constant indicating which aspect(s) of the</span>
<span class="s1">                image are included in the view</span>
<span class="s1">    - `base_miplevel`: The first mipmap level accessible to the view</span>
<span class="s1">    - `level_count`: Number of mipmap levels (starting from base_miplevel)</span>
<span class="s1">                     accessible to the view</span>
<span class="s1">    - `base_layer`: First array layer accessible to the view</span>
<span class="s1">    - `layer_count`: Number of array layers (starting from base_layer)</span>
<span class="s1">                     accessible to the view</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">Offset2D</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Offset2D&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="n">Offset2D</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `x`: x offset</span>
<span class="s1">    - `y`: y offset</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">PipelineColorBlendAttachmentState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span>
    <span class="s1">&#39;PipelineColorBlendAttachmentState&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;enable&#39;</span><span class="p">,</span> <span class="s1">&#39;src_color&#39;</span><span class="p">,</span> <span class="s1">&#39;dst_color&#39;</span><span class="p">,</span> <span class="s1">&#39;color_op&#39;</span><span class="p">,</span>
     <span class="s1">&#39;src_alpha&#39;</span><span class="p">,</span> <span class="s1">&#39;dst_alpha&#39;</span><span class="p">,</span> <span class="s1">&#39;alpha_op&#39;</span><span class="p">,</span> <span class="s1">&#39;color_mask&#39;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">PipelineColorBlendAttachmentState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `enable`: Enable blending</span>
<span class="s1">    - `src_color`: `BlendFactor` vulk constant for source color</span>
<span class="s1">    - `dst_color`: `BlendFactor` vulk constant for destination color</span>
<span class="s1">    - `color_op`: `BlendOp` vulk constant Operation on color</span>
<span class="s1">    - `src_alpha`: `BlendFactor` vulk constant for source alpha</span>
<span class="s1">    - `dst_alpha`: `BlendFactor` vulk constant for destination alpha</span>
<span class="s1">    - `alpha_op`: `BlendOp` vulk constant operation on alpha</span>
<span class="s1">    - `color_mask`: `ColorComponent` vulk constant selecting which of the</span>
<span class="s1">                    R, G, B, and A components are enabled for writing</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineColorBlendState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineColorBlendState&#39;</span><span class="p">,</span>
                                     <span class="p">[</span><span class="s1">&#39;op_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">,</span> <span class="s1">&#39;attachments&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;constants&#39;</span><span class="p">])</span>
<span class="n">PipelineColorBlendState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `op_enable`: Enable bitwise combination</span>
<span class="s1">    - `op`: `LogicOp` vulk constant operation to perform</span>
<span class="s1">    - `attachments`: List of blend attachments for each framebuffer</span>
<span class="s1">    - `constants`: Constants depending on blend factor (`list` of 4 `float`)</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">PipelineDepthStencilState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span>
    <span class="s1">&#39;PipelineDepthStencilState&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;depth_test_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_write_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_bounds_test_enable&#39;</span><span class="p">,</span>
     <span class="s1">&#39;depth_compare&#39;</span><span class="p">,</span> <span class="s1">&#39;stencil_test_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;front&#39;</span><span class="p">,</span> <span class="s1">&#39;back&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">PipelineDepthStencilState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `depth_test_enable`: Enable depth test</span>
<span class="s1">    - `depth_write_enable`: Enable depth write</span>
<span class="s1">    - `depth_bounds_test_enable`: Enable bounds test</span>
<span class="s1">    - `depth_compare`: `CompareOp` vulk constant condition to overwrite depth</span>
<span class="s1">    - `stencil_test_enable`: Enable stencil test</span>
<span class="s1">    - `front`: Control stencil parameter (`StencilOpState`)</span>
<span class="s1">    - `back`: Control stencil parameter (`StencilOpState`)</span>
<span class="s1">    - `min`: Define the min value in depth bound test (`float`)</span>
<span class="s1">    - `max`: Define the max value in depth bound test (`float`)</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">PipelineDynamicState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineDynamicState&#39;</span><span class="p">,</span> <span class="s1">&#39;states&#39;</span><span class="p">)</span>
<span class="n">PipelineDynamicState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    - `states`: List of `VkDynamicState`</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">PipelineInputAssemblyState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineInputAssemblyState&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;topology&#39;</span><span class="p">)</span>
<span class="n">PipelineInputAssemblyState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `topology`: `PrimitiveTopology` vulk constant to use when drawing</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">PipelineMultisampleState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineMultisampleState&#39;</span><span class="p">,</span>
                                      <span class="p">[</span><span class="s1">&#39;shading_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;samples&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;min_sample_shading&#39;</span><span class="p">])</span>
<span class="n">PipelineMultisampleState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `shading_enable`: Enable multisampling (`boolean`)</span>
<span class="s1">    - `samples`: Number of samples, `SampleCount` vulk constant</span>
<span class="s1">    - `min_sample_shading`: Minimum of sample (`float`)</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">PipelineRasterizationState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span>
    <span class="s1">&#39;PipelineRasterizationState&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;depth_clamp_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;polygon_mode&#39;</span><span class="p">,</span> <span class="s1">&#39;line_width&#39;</span><span class="p">,</span> <span class="s1">&#39;cull_mode&#39;</span><span class="p">,</span>
     <span class="s1">&#39;front_face&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_bias_constant&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_bias_clamp&#39;</span><span class="p">,</span>
     <span class="s1">&#39;depth_bias_slope&#39;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">PipelineRasterizationState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `depth_clamp_enable`: Whether to enable depth clamping (`boolean`)</span>
<span class="s1">    - `polygon_mode`: Which `PolygonMode` vulk constant to use</span>
<span class="s1">    - `line_width`: Width of line (`float`)</span>
<span class="s1">    - `cull_mode`: The way of culling, `CullMode` vulk constant</span>
<span class="s1">    - `front_face`: `FrontFace` vulk constant</span>
<span class="s1">    - `depth_bias_constant`: Constant to add to depth (`float`)</span>
<span class="s1">    - `depth_bias_clamp`: Max depth bias (`float`)</span>
<span class="s1">    - `depth_bias_slope`: Factor to slope (`float`)</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">PipelineShaderStage</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineShaderStage&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;module&#39;</span><span class="p">,</span> <span class="s1">&#39;stage&#39;</span><span class="p">])</span>
<span class="n">PipelineShaderStage</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `module`: The `ShaderModule` to bind</span>
<span class="s1">    - `stage`: `ShaderStage` vulk constant</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineVertexInputState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineVertexInputState&#39;</span><span class="p">,</span>
                                      <span class="p">[</span><span class="s1">&#39;bindings&#39;</span><span class="p">,</span> <span class="s1">&#39;attributes&#39;</span><span class="p">])</span>
<span class="n">PipelineVertexInputState</span><span class="o">.</span><span class="n">__new__</span><span class="o">.</span><span class="n">__defaults__</span> <span class="o">=</span> \
        <span class="p">([],)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">PipelineVertexInputState</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
<span class="n">PipelineVertexInputState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `bindings`: List of `VertexInputBindingDescription`</span>
<span class="s1">    - `attributes`: List of `VertexInputAttributeDescription`</span>

<span class="s1">    **Note: `bindings` and `attributes` can be empty `list`**</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">PipelineViewportState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineViewportState&#39;</span><span class="p">,</span>
                                   <span class="p">[</span><span class="s1">&#39;viewports&#39;</span><span class="p">,</span> <span class="s1">&#39;scissors&#39;</span><span class="p">])</span>
<span class="n">PipelineViewportState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    The PipelineViewportState object contains viewports and scissors.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `viewports`: `list` of `Viewport`</span>
<span class="s1">    - `scissors`: `list` of `Rect2D`</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">Rect2D</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Rect2d&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;offset&#39;</span><span class="p">,</span> <span class="s1">&#39;extent&#39;</span><span class="p">])</span>
<span class="n">Rect2D</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    2D surface with offset.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `offset`: `Offset2D` object</span>
<span class="s1">    - `extent`: `Extent2D` object</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">SubmitInfo</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;SubmitInfo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;wait_semaphores&#39;</span><span class="p">,</span> <span class="s1">&#39;wait_stages&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;signal_semaphores&#39;</span><span class="p">,</span> <span class="s1">&#39;commandbuffers&#39;</span><span class="p">])</span>
<span class="n">SubmitInfo</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    Submit information when submitting to queue</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `wait_semaphores`: `list` of `Semaphore` to wait on</span>
<span class="s1">    - `wait_stages`: `list` of `PipelineStage` vulk constant at which each</span>
<span class="s1">                     corresponding semaphore wait will occur. Must be the</span>
<span class="s1">                     same size as `wait_semaphores`</span>
<span class="s1">    - `signal_semaphores`: `list` of `Semaphore` to signal when commands</span>
<span class="s1">                           are finished</span>
<span class="s1">    - `commandbuffers`: `list` of `CommandBuffer` to execute</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">SubpassDependency</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;SubpassDependency&#39;</span><span class="p">,</span>
                               <span class="p">[</span><span class="s1">&#39;src_subpass&#39;</span><span class="p">,</span> <span class="s1">&#39;src_stage&#39;</span><span class="p">,</span> <span class="s1">&#39;src_access&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;dst_subpass&#39;</span><span class="p">,</span> <span class="s1">&#39;dst_stage&#39;</span><span class="p">,</span> <span class="s1">&#39;dst_access&#39;</span><span class="p">])</span>
<span class="n">SubpassDependency</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    SubpassDependency describes all dependencies of the subpass.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `src_subpass`: Source subpass `int` or `SUBPASS_EXTERNAL` vulk constant</span>
<span class="s1">    - `src_stage`: Source stage `PipelineStage` vulk constant</span>
<span class="s1">    - `src_access`: Source `Access` vulk constant</span>
<span class="s1">    - `dst_subpass`: Destination subpass `int` or</span>
<span class="s1">                     `SUBPASS_EXTERNAL` vulk constant</span>
<span class="s1">    - `dst_stage`: Destination stage `PipelineStage` vulk constant</span>
<span class="s1">    - `dst_access`: Destination `Access` vulk constant</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">SubpassDescription</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;SubpassDescription&#39;</span><span class="p">,</span>
                                <span class="p">[</span><span class="s1">&#39;colors&#39;</span><span class="p">,</span> <span class="s1">&#39;inputs&#39;</span><span class="p">,</span> <span class="s1">&#39;resolves&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;preserves&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_stencil&#39;</span><span class="p">])</span>
<span class="n">SubpassDescription</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    `SubpassDescription` describes all attachments in the subpass.</span>
<span class="s1">    All parameters are of type `AttachmentReference`. If you don&#39;t want</span>
<span class="s1">    an attachment, set it to an empty list.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `colors`: `list` of colors attachments</span>
<span class="s1">    - `inputs`: `list` of inputs attachments</span>
<span class="s1">    - `resolves`: `list` of resolves attachments (must be the same</span>
<span class="s1">                  size as inputs)</span>
<span class="s1">    - `preserves`: `list` of preserves attachments</span>
<span class="s1">    - `depth_stencil`: `list` containing only one attachment</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">VertexInputAttributeDescription</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;VertexInputAttributeDescription&#39;</span><span class="p">,</span>
                                             <span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="s1">&#39;binding&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">,</span>
                                              <span class="s1">&#39;offset&#39;</span><span class="p">])</span>
<span class="n">VertexInputAttributeDescription</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">     Structure specifying vertex input attribute description</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `location`: Shader binding location number for this attribute (`int`)</span>
<span class="s1">    - `binding`: Binding number which this attribute takes its data from</span>
<span class="s1">    - `format`: `Format` vulk constant of the vertex attribute data</span>
<span class="s1">    - `offset`: Byte offset of this attribute relative to the start of an</span>
<span class="s1">                element in the vertex input binding (`int`)</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">VertexInputBindingDescription</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;VertexInputBindingDescription&#39;</span><span class="p">,</span>
                                           <span class="p">[</span><span class="s1">&#39;binding&#39;</span><span class="p">,</span> <span class="s1">&#39;stride&#39;</span><span class="p">,</span> <span class="s1">&#39;rate&#39;</span><span class="p">])</span>
<span class="n">VertexInputBindingDescription</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    Structure specifying vertex input binding description</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `binding`: Binding number (`int`)</span>
<span class="s1">    - `stride`: Distance in bytes between two consecutive elements within</span>
<span class="s1">                the buffer (`int`)</span>
<span class="s1">    - `rate`: `VertexInputRate` vulk constant</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">Viewport</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Viewport&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;min_depth&#39;</span><span class="p">,</span> <span class="s1">&#39;max_depth&#39;</span><span class="p">])</span>
<span class="n">Viewport</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    Structure specifying a viewport</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `x`: X upper left corner</span>
<span class="s1">    - `y`: Y upper left corner</span>
<span class="s1">    - `width`: Viewport width</span>
<span class="s1">    - `height`: Viewport height</span>
<span class="s1">    - `min_depth`: Depth range for the viewport</span>
<span class="s1">    - `max_depth`: Depth range for the viewport</span>

<span class="s1">    **Note: `min_depth` and `max_depth` must be between 0.0 and 1.0**</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">WriteDescriptorSet</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;WriteDescriptorSet&#39;</span><span class="p">,</span>
                                <span class="p">[</span><span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="s1">&#39;binding&#39;</span><span class="p">,</span> <span class="s1">&#39;set_offset&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;descriptors&#39;</span><span class="p">])</span>
<span class="n">WriteDescriptorSet</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    Structure specifying the parameters of a descriptor set write operation</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `set`: Destination `DescriptorSet` set to update</span>
<span class="s1">    - `binding`: Descriptor binding within that set</span>
<span class="s1">    - `set_offset`: Offset to start with in the descriptor</span>
<span class="s1">    - `type`: Type of descriptor `DescriptorType` vulk constant</span>
<span class="s1">    - `descriptors`: `list` of `DescriptorBufferInfo` or `DescriptorImageInfo`</span>
<span class="s1">                    or `BufferView` depending on `type`</span>

<span class="s1">    **Note: The descriptor type must correspond to the `type` parameter**</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="c1"># ----------</span>
<span class="c1"># CLASSES</span>
<span class="c1"># ----------</span>
<span class="k">class</span> <span class="nc">Buffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `Buffer` wrap a `VkBuffer` and a `VkMemory`</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span>
                 <span class="n">queue_families</span><span class="p">,</span> <span class="n">memory_properties</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a new buffer</span>

<span class="sd">        Creating a buffer is made of several steps:</span>

<span class="sd">        - Create the buffer</span>
<span class="sd">        - Allocate the memory</span>
<span class="sd">        - Bind the memory to the buffer</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `flags`: `BufferCreate` vulk constant</span>
<span class="sd">        - `size`: Buffer size in bytes</span>
<span class="sd">        - `usage`: `BufferUsage` vulk constant</span>
<span class="sd">        - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not</span>
<span class="sd">                            `CONCURRENT`) (can be [])</span>
<span class="sd">        - `memory_properties`: `MemoryProperty` vulk constant</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">=</span> <span class="n">memory_properties</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>

        <span class="c1"># Create VkBuffer</span>
        <span class="n">buffer_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkBufferCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">usage</span><span class="o">=</span><span class="n">usage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">sharingMode</span><span class="o">=</span><span class="n">sharing_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">queueFamilyIndexCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">queue_families</span><span class="p">),</span>
            <span class="n">pQueueFamilyIndices</span><span class="o">=</span><span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateBuffer</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">buffer_create</span><span class="p">)</span>

        <span class="c1"># Get memory requirements</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetBufferMemoryRequirements</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                        <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span><span class="p">)</span>

        <span class="n">alloc_info</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkMemoryAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">allocationSize</span><span class="o">=</span><span class="n">requirements</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">memoryTypeIndex</span><span class="o">=</span><span class="n">find_memory_type</span><span class="p">(</span>
                <span class="n">context</span><span class="p">,</span>
                <span class="n">requirements</span><span class="o">.</span><span class="n">memoryTypeBits</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Create memory</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">alloc_info</span><span class="p">)</span>

        <span class="c1"># Bind device memory to the buffer</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkBindBufferMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">dst_buffer</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy this buffer to the destination buffer.</span>
<span class="sd">        Commands to copy are registered in the commandbuffer but it&#39;s up to</span>
<span class="sd">        you to start and submit the command buffer to the execution queue.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `cmd`: `CommandBufferRegister` used to register commands</span>
<span class="sd">        - `dst_buffer`: Destination `Buffer`</span>

<span class="sd">        **Note: Buffers must have the same size**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">!=</span> <span class="n">dst_buffer</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Buffers must have the same size&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">region</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkBufferCopy</span><span class="p">(</span>
            <span class="n">srcOffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">dstOffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span>
        <span class="p">)</span>

        <span class="n">cmd</span><span class="o">.</span><span class="n">copy_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dst_buffer</span><span class="p">,</span> <span class="p">[</span><span class="n">region</span><span class="p">])</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Map this buffer to upload data in it.</span>
<span class="sd">        This function is a context manager and must be called with `with`.</span>
<span class="sd">        It return a python buffer and let you do what you want with it,</span>
<span class="sd">        be careful!</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>

<span class="sd">        **Warning: Buffer memory must be host visible**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">compatible_memories</span> <span class="o">=</span> <span class="p">{</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</span><span class="p">,</span>
                               <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</span><span class="p">,</span>
                               <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_CACHED_BIT</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">&amp;</span> <span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">compatible_memories</span><span class="p">]):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t map this buffer, memory must be host visible&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkMapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">data</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkUnmapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ClearColorValue</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ClearValue for color clearing&#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">float32</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">uint32</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">int32</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Take only one value depending on the type you want.</span>
<span class="sd">        `list` must be of size 4.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `float32`: Type `float`</span>
<span class="sd">        - `uint32`: Type `uint`</span>
<span class="sd">        - `int32`: Type `int`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">float32</span><span class="p">,</span> <span class="n">uint32</span><span class="p">,</span> <span class="n">int32</span><span class="p">)</span>

        <span class="c1"># Set to list</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">v</span>

        <span class="c1"># Check that only one value is set</span>
        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">if</span> <span class="n">i</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only one value in [float32, uint32, int32] must be given&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Check size of value (must be 4)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">([</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">if</span> <span class="n">t</span><span class="p">])))</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Value must be a list of 4 elements&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">float32</span><span class="p">:</span>
            <span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearColorValue</span><span class="p">(</span><span class="n">float32</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">uint32</span><span class="p">:</span>
            <span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearColorValue</span><span class="p">(</span><span class="n">uint32</span><span class="o">=</span><span class="n">uint32</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">int32</span><span class="p">:</span>
            <span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearColorValue</span><span class="p">(</span><span class="n">int32</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">clear</span> <span class="o">=</span> <span class="n">clear</span>


<span class="k">class</span> <span class="nc">ClearDepthStencilValue</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ClearValue for depth and stencil clearing&#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">stencil</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `depth`: Value in [0.0, 1.0]</span>
<span class="sd">        - `stencil`; `int` value</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearDepthStencilValue</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="n">depth</span><span class="p">,</span> <span class="n">stencil</span><span class="o">=</span><span class="n">stencil</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">CommandBuffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Commands in Vulkan, like drawing operations and memory transfers, are not</span>
<span class="sd">    executed directly using function calls. You have to record all of the</span>
<span class="sd">    operations you want to perform in command buffer objects. The advantage of</span>
<span class="sd">    this is that all of the hard work of setting up the drawing commands can</span>
<span class="sd">    be done in advance and in multiple threads. After that, you just have to</span>
<span class="sd">    tell Vulkan to execute the commands in the main loop.</span>

<span class="sd">    Commands are executed directly from the `CommandBufferRegister` subclass.</span>
<span class="sd">    The naming convention is simple:</span>
<span class="sd">    `vkCmd[CommandName]` becomes `command_name`</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commandbuffer</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        This object must be initialized with an existing `VkCommandBuffer`</span>
<span class="sd">        because it is generated from `CommandPool`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `commandbuffer`: `VkCommandBuffer`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="o">=</span> <span class="n">commandbuffer</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">CommandBufferUsage</span><span class="o">.</span><span class="n">NONE</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Bind this buffer to register command.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `flags`: `CommandBufferUsage` vulk constant, default to 0</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        `CommandBufferRegister` object</span>

<span class="sd">        ``</span>

<span class="sd">        **Todo: `pInheritanceInfo` must be implemented**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">commandbuffer_begin_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkCommandBufferBeginInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">pInheritanceInfo</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkBeginCommandBuffer</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span>
                <span class="n">commandbuffer_begin_create</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">CommandBufferRegister</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkEndCommandBuffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">CommandBufferRegister</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Allow to call command on command buffer.</span>
<span class="sd">    `CommandBufferRegister` is not in charge of begin and end the command</span>
<span class="sd">    buffer. You should not use it directly but with `bind` method of</span>
<span class="sd">    `CommandBuffer`.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commandbuffer</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `commandbuffer`: The `VkCommandBuffer`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="o">=</span> <span class="n">commandbuffer</span>

    <span class="k">def</span> <span class="nf">begin_renderpass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">,</span> <span class="n">framebuffer</span><span class="p">,</span> <span class="n">renderarea</span><span class="p">,</span>
                         <span class="n">clears</span><span class="p">,</span> <span class="n">contents</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">SubpassContents</span><span class="o">.</span><span class="n">INLINE</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Begin a new renderpass</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `renderpass`: The `RenderPass` to begin an instance of</span>
<span class="sd">        - `framebuffer`: The `Framebuffer` containing the attachments that</span>
<span class="sd">                         are used with the render pass</span>
<span class="sd">        - `renderarea`: `Rect2D` size to render</span>
<span class="sd">        - `clears`:  `list` of `ClearValue` for each `Framebuffer`</span>
<span class="sd">        - `contents`: `SubpassContents` vulk constant (default: `INLINE`)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_renderarea</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRect2D</span><span class="p">(</span>
            <span class="n">offset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset2D</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="p">),</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkExtent2D</span><span class="p">(</span>
                <span class="n">width</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                <span class="n">height</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">vk_clearvalues</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clears</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">ClearColorValue</span><span class="p">):</span>
                <span class="n">vk_clearvalues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkClearValue</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">clear</span><span class="p">))</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">ClearDepthStencilValue</span><span class="p">):</span>
                <span class="n">vk_clearvalues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkClearValue</span><span class="p">(</span><span class="n">depthStencil</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">clear</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unknown clear value&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">renderpass_begin</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRenderPassBeginInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">framebuffer</span><span class="o">=</span><span class="n">framebuffer</span><span class="o">.</span><span class="n">framebuffer</span><span class="p">,</span>
            <span class="n">renderArea</span><span class="o">=</span><span class="n">vk_renderarea</span><span class="p">,</span>
            <span class="n">clearValueCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_clearvalues</span><span class="p">),</span>
            <span class="n">pClearValues</span><span class="o">=</span><span class="n">vk_clearvalues</span>
        <span class="p">)</span>

        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBeginRenderPass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">renderpass_begin</span><span class="p">,</span>
                                <span class="n">contents</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_descriptor_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layout</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">descriptors</span><span class="p">,</span> <span class="n">offsets</span><span class="p">,</span>
                             <span class="n">bind_point</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">PipelineBindPoint</span><span class="o">.</span><span class="n">GRAPHICS</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Binds descriptor sets to this `CommandBuffer`</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `layout`: `PipelineLayout`</span>
<span class="sd">        - `first`: Number of the first descriptor set to be bound</span>
<span class="sd">        - `descriptors`: `list` of `DescriptorSet`</span>
<span class="sd">        - `offsets`: `list` of dynamic offsets</span>
<span class="sd">        - `bind_point`: `PipelineBindPoint` vulk constant (default: GRAPHICS)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_descriptors</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">descriptorset</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">]</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindDescriptorSets</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">bind_point</span><span class="p">,</span> <span class="n">layout</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">vk_descriptors</span><span class="p">),</span> <span class="n">vk_descriptors</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">offsets</span><span class="p">),</span>
            <span class="n">offsets</span> <span class="k">if</span> <span class="n">offsets</span> <span class="k">else</span> <span class="bp">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span>
                      <span class="n">bind_point</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">PipelineBindPoint</span><span class="o">.</span><span class="n">GRAPHICS</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Bind the pipeline to this `CommandBuffer`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `pipeline`: The `Pipeline` to bind</span>
<span class="sd">        - `bind_point`: `PipelineBindPoint` vulk constant (default: GRAPHICS)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindPipeline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">bind_point</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_vertex_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">buffers</span><span class="p">,</span> <span class="n">offsets</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Bind vertex buffers to a command buffer</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `first`: Index of the first vertex input binding</span>
<span class="sd">        - `count`: Number of vertex input bindings</span>
<span class="sd">        - `buffers`: `list` of `Buffer`</span>
<span class="sd">        - `offsets`: `list` of offset (`int`)</span>

<span class="sd">        **Note: I don&#39;t understand what is the point with offset but you</span>
<span class="sd">                must pass an array of the same size as `buffers`.**</span>

<span class="sd">        **Note: Generally, `count = len(buffers)` and `first = 0`**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindVertexBuffers</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span>
                                  <span class="p">[</span><span class="n">b</span><span class="o">.</span><span class="n">buffer</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buffers</span><span class="p">],</span> <span class="n">offsets</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_index_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">buffer</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">index_type</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Bind an index buffer to a command buffer</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `buffer`: Index `Buffer`</span>
<span class="sd">        - `offset`: Offset (`int`)</span>
<span class="sd">        - `index_type`: `IndexType` vulk constant</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindIndexBuffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="nb">buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span>
                                <span class="n">index_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertex_count</span><span class="p">,</span> <span class="n">first_vertex</span><span class="p">,</span>
             <span class="n">instance_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">first_instance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Draw the vertice buffer.</span>

<span class="sd">        When the command is executed, primitives are assembled using the</span>
<span class="sd">        current primitive topology and vertexCount consecutive vertex</span>
<span class="sd">        indices with the first vertexIndex value equal to firstVertex.</span>
<span class="sd">        The primitives are drawn instanceCount times with instanceIndex</span>
<span class="sd">        starting with firstInstance and increasing sequentially for each</span>
<span class="sd">        instance. The assembled primitives execute the currently bound</span>
<span class="sd">        graphics pipeline.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `vertex_count`: Number of vertices to draw</span>
<span class="sd">        - `first_vertex`: Index of the first vertex to draw</span>
<span class="sd">        - `instance_count`: Number of instance to draw (default: 1)</span>
<span class="sd">        - `first_instance`: First instance to draw (default: 0)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdDraw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">vertex_count</span><span class="p">,</span> <span class="n">instance_count</span><span class="p">,</span>
                     <span class="n">first_vertex</span><span class="p">,</span> <span class="n">first_instance</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">draw_indexed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_count</span><span class="p">,</span> <span class="n">first_index</span><span class="p">,</span> <span class="n">vertex_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">instance_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">first_instance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Draw the index buffer.</span>

<span class="sd">        When the command is executed, primitives are assembled using the</span>
<span class="sd">        current primitive topology and indexCount vertices whose indices are</span>
<span class="sd">        retrieved from the index buffer. The index buffer is treated as an</span>
<span class="sd">        array of tightly packed unsigned integers of size defined by the</span>
<span class="sd">        vkCmdBindIndexBuffer::indexType parameter with which the buffer</span>
<span class="sd">        was bound.</span>

<span class="sd">        The first vertex index is at an offset of</span>
<span class="sd">        firstIndex * indexSize + offset within the currently bound index</span>
<span class="sd">        buffer, where offset is the offset specified by vkCmdBindIndexBuffer</span>
<span class="sd">        and indexSize is the byte size of the type specified by indexType.</span>
<span class="sd">        Subsequent index values are retrieved from consecutive locations in</span>
<span class="sd">        the index buffer. Indices are first compared to the primitive restart</span>
<span class="sd">        value, then zero extended to 32 bits</span>
<span class="sd">        (if the indexType is VK_INDEX_TYPE_UINT16) and have vertexOffset added</span>
<span class="sd">        to them, before being supplied as the vertexIndex value.</span>

<span class="sd">        The primitives are drawn instanceCount times with instanceIndex</span>
<span class="sd">        starting with firstInstance and increasing sequentially for each</span>
<span class="sd">        instance. The assembled primitives execute the currently bound</span>
<span class="sd">        graphics pipeline.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `index_count`: Number of vertices to draw</span>
<span class="sd">        - `first_index`: Base index within the index buffer</span>
<span class="sd">        - `vertex_offset`: Value added to the vertex index before indexing</span>
<span class="sd">                           into the vertex buffer (default: 0)</span>
<span class="sd">        - `instance_count`: Number of instance to draw (default: 1)</span>
<span class="sd">        - `first_instance`: First instance to draw (default: 0)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdDrawIndexed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">index_count</span><span class="p">,</span> <span class="n">instance_count</span><span class="p">,</span>
                            <span class="n">first_index</span><span class="p">,</span> <span class="n">vertex_offset</span><span class="p">,</span> <span class="n">first_instance</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pipeline_barrier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_stage</span><span class="p">,</span> <span class="n">dst_stage</span><span class="p">,</span> <span class="n">dependency</span><span class="p">,</span> <span class="n">memories</span><span class="p">,</span>
                         <span class="n">buffers</span><span class="p">,</span> <span class="n">images</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Insert a memory dependency</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `src_stage`: `PipelineStage` vulk constant</span>
<span class="sd">        - `dst_stage`: `PipelineStage` vulk constant</span>
<span class="sd">        - `dependency`: `Dependency` vulk constant</span>
<span class="sd">        - `memories`: `list` of `VkMemoryBarrier` Vulkan objects</span>
<span class="sd">        - `buffers`: `list` of `VkBufferMemoryBarrier` Vulkan objects</span>
<span class="sd">        - `images`: `list` of `VkImageMemoryBarrier` Vulkan objects</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_memories</span> <span class="o">=</span> <span class="n">memories</span> <span class="k">if</span> <span class="n">memories</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="n">vk_buffers</span> <span class="o">=</span> <span class="n">buffers</span> <span class="k">if</span> <span class="n">buffers</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="n">vk_images</span> <span class="o">=</span> <span class="n">images</span> <span class="k">if</span> <span class="n">images</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdPipelineBarrier</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">src_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">dst_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dependency</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">memories</span><span class="p">),</span> <span class="n">vk_memories</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buffers</span><span class="p">),</span>
            <span class="n">vk_buffers</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">images</span><span class="p">),</span> <span class="n">vk_images</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_image</span><span class="p">,</span> <span class="n">src_layout</span><span class="p">,</span> <span class="n">dst_image</span><span class="p">,</span>
                   <span class="n">dst_layout</span><span class="p">,</span> <span class="n">regions</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy data between images</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `src_image`: `Image`</span>
<span class="sd">        - `src_layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `dst_image`: `Image`</span>
<span class="sd">        - `dst_layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `regions`: `list` of `VkImageCopy`</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdCopyImage</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">src_image</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="n">src_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dst_image</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="n">dst_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">regions</span><span class="p">),</span> <span class="n">regions</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_buffer</span><span class="p">,</span> <span class="n">dst_buffer</span><span class="p">,</span> <span class="n">regions</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy data between buffers</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `src_buffer`: `Buffer`</span>
<span class="sd">        - `dst_buffer`: `Buffer`</span>
<span class="sd">        - `regions`: `list` of `VkBufferCopy`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdCopyBuffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">src_buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span>
                           <span class="n">dst_buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">regions</span><span class="p">),</span> <span class="n">regions</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">end_renderpass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;End the current render pass&#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdEndRenderPass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">CommandPool</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Command pools manage the memory that is used to store the buffers and</span>
<span class="sd">    command buffers are allocated from them.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">queue_family_index</span><span class="p">,</span>
                 <span class="n">flags</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">CommandPoolCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `queue_family_index`: Index of the queue family to use</span>
<span class="sd">        - `flags`: `CommandPoolCreate` vulk constant, default to 0</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">commandpool_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkCommandPoolCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO</span><span class="p">,</span>
            <span class="n">queueFamilyIndex</span><span class="o">=</span><span class="n">queue_family_index</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>

        <span class="c1"># The Vulkan command pool</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateCommandPool</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                  <span class="n">commandpool_create</span><span class="p">)</span>
        <span class="c1"># Command buffers allocated from this pool</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffers</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">allocate_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Allocate `list` of `CommandBuffer` from pool.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `level`: `CommandBufferLevel` vulk constant</span>
<span class="sd">        - `count`: Number of `CommandBuffer` to create</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        `list` of `CommandBuffer`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">commandbuffers_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkCommandBufferAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">commandPool</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span><span class="p">,</span>
            <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">commandBufferCount</span><span class="o">=</span><span class="n">count</span>
        <span class="p">)</span>

        <span class="n">vk_commandbuffers</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateCommandBuffers</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
            <span class="n">commandbuffers_create</span><span class="p">)</span>

        <span class="n">commandbuffers</span> <span class="o">=</span> <span class="p">[</span><span class="n">CommandBuffer</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span> <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="n">vk_commandbuffers</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">commandbuffers</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">commandbuffers</span>

    <span class="k">def</span> <span class="nf">free_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">buffers</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Free list of `CommandBuffer` allocated from this pool.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `buffers`: `list` of `CommandBuffer` to free</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">b</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffers</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buffers</span><span class="p">]):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t free a commandbuffer not allocated by this pool&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">vk</span><span class="o">.</span><span class="n">vkFreeCommandBuffers</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buffers</span><span class="p">),</span>
            <span class="p">[</span><span class="n">b</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buffers</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">free</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Free this command pool</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkDestroyCommandPool</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">DescriptorPool</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A descriptor pool maintains a pool of descriptors, from which descriptor</span>
<span class="sd">    sets are allocated. Descriptor pools are externally synchronized, meaning</span>
<span class="sd">    that the application must not allocate and/or free descriptor sets from</span>
<span class="sd">    the same pool in multiple threads simultaneously.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">poolsizes</span><span class="p">,</span> <span class="n">max_sets</span><span class="p">,</span>
                 <span class="n">flags</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">DescriptorPoolCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `poolsizes`: `list` of `PoolSize`</span>
<span class="sd">        - `max_sets`: Maximum number of descriptor sets that can be</span>
<span class="sd">                      allocated from the pool</span>
<span class="sd">        - `flags`: `DescriptorPoolCreate`  vulk constant (default=0)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_poolsizes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">poolsizes</span><span class="p">:</span>
            <span class="n">vk_poolsizes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorPoolSize</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">descriptorCount</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">count</span>
            <span class="p">))</span>

        <span class="n">descriptorpool_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorPoolCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">maxSets</span><span class="o">=</span><span class="n">max_sets</span><span class="p">,</span>
            <span class="n">poolSizeCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_poolsizes</span><span class="p">),</span>
            <span class="n">pPoolSizes</span><span class="o">=</span><span class="n">vk_poolsizes</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">descriptorpool</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateDescriptorPool</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">descriptorpool_create</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">allocate_descriptorsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">layouts</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Allocate `list` of `DescriptorSet` from pool.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `count`: Number of `DescriptorSet` to create</span>
<span class="sd">        - `layouts`: `list` of `DescriptorSetLayout`</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        `list` of `DescriptorSet`</span>

<span class="sd">        **Note: Size of `layouts` list must be equals to `count`**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">descriptorsets_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorSetAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">descriptorPool</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">descriptorpool</span><span class="p">,</span>
            <span class="n">descriptorSetCount</span><span class="o">=</span><span class="n">count</span><span class="p">,</span>
            <span class="n">pSetLayouts</span><span class="o">=</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">descriptorsetlayout</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">layouts</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="n">vk_descriptorsets</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateDescriptorSets</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">descriptorsets_create</span><span class="p">)</span>

        <span class="n">descriptorsets</span> <span class="o">=</span> <span class="p">[</span><span class="n">DescriptorSet</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">vk_descriptorsets</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">descriptorsets</span>


<span class="k">class</span> <span class="nc">DescriptorSet</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A *descriptor set* specifies the actual buffer or image resources that</span>
<span class="sd">    will be bound to the descriptors, just like a framebuffer specifies the</span>
<span class="sd">    actual image views to bind to render pass attachments. The descriptor set</span>
<span class="sd">    is then bound for the drawing commands just like the vertex buffers</span>
<span class="sd">    and framebuffer.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">descriptorset</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        This object must be initialized with an existing `VkDescriptorSet`</span>
<span class="sd">        because it is generated from `DescriptorPool`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `descriptorset`: `VkDescriptorSet`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">descriptorset</span> <span class="o">=</span> <span class="n">descriptorset</span>


<span class="k">class</span> <span class="nc">DescriptorSetLayout</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A descriptor set layout object is defined by an array of zero or more</span>
<span class="sd">    descriptor bindings. Each individual descriptor binding is specified by</span>
<span class="sd">    a descriptor type, a count (array size) of the number of descriptors in</span>
<span class="sd">    the binding, a set of shader stages that can access the binding,</span>
<span class="sd">    and (if using immutable samplers) an array of sampler descriptors.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">bindings</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `bindings`: `list` of `DescriptorSetLayoutBinding`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_bindings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">bindings</span><span class="p">:</span>
            <span class="n">vk_bindings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorSetLayoutBinding</span><span class="p">(</span>
                <span class="n">binding</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
                <span class="n">descriptorType</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">descriptorCount</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">,</span>
                <span class="n">stageFlags</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">pImmutableSamplers</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">immutable_samplers</span>
            <span class="p">))</span>

        <span class="n">layout_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorSetLayoutCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">bindingCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_bindings</span><span class="p">),</span>
            <span class="n">pBindings</span><span class="o">=</span><span class="n">vk_bindings</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">descriptorsetlayout</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateDescriptorSetLayout</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">layout_create</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Framebuffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    In Vulkan, a `Framebuffer` references all of the `VkImageView` objects that</span>
<span class="sd">    represent the attachments of a `Renderpass`.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span>
                 <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">layers</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `renderpass`: The compatible `Renderpass` of this `Framebuffer`</span>
<span class="sd">        - `attachments`: List of `ImageView`</span>
<span class="sd">        - `width`: Width (`int`)</span>
<span class="sd">        - `height`: Height (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">framebuffer_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkFramebufferCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">imageview</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">],</span>
            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">layers</span><span class="o">=</span><span class="n">layers</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">framebuffer</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateFramebuffer</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                  <span class="n">framebuffer_create</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">HighPerformanceBuffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `HighPerformanceBuffer` allows to use high performance buffer to be</span>
<span class="sd">    accessed in your vertex stage.</span>

<span class="sd">    To get the maximum performance, we are going to create two `Buffer`,</span>
<span class="sd">    a staging buffer which memory can be updated and a final buffer with</span>
<span class="sd">    very fast memory that we will use in pipeline.</span>
<span class="sd">    When we create a buffer, we first upload data in the staging buffer</span>
<span class="sd">    and then copy the memory in the final buffer. Of course, both of the</span>
<span class="sd">    buffer have the same properties.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span>
                 <span class="n">sharing_mode</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">SharingMode</span><span class="o">.</span><span class="n">EXCLUSIVE</span><span class="p">,</span>
                 <span class="n">queue_families</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a high performance buffer</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `size`: Buffer size in bytes</span>
<span class="sd">        - `usage`: `BufferUsage` vulk constant</span>
<span class="sd">        - &#39;buffer_type&#39;: `str` in [&#39;index&#39;, &#39;uniform&#39;, &#39;vertex&#39;]</span>
<span class="sd">        - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not CONCURRENT)</span>
<span class="sd">                            (can be [])</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">queue_families</span> <span class="o">=</span> <span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">staging_buffer</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">BufferCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">BufferUsage</span><span class="o">.</span><span class="n">TRANSFER_SRC</span><span class="p">,</span>
            <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_VISIBLE</span> <span class="o">|</span> <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_COHERENT</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">final_buffer</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">BufferCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">BufferUsage</span><span class="o">.</span><span class="n">TRANSFER_DST</span> <span class="o">|</span> <span class="n">usage</span><span class="p">,</span>
            <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">DEVICE_LOCAL</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_finalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy the staging buffer to the final buffer.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">staging_buffer</span><span class="o">.</span><span class="n">copy_to</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_buffer</span><span class="p">)</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Bind buffer for writing</span>

<span class="sd">        It calls `bind` method of the staging buffer and copy the buffer</span>
<span class="sd">        when the contextmanager is released. Must be used with `with`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_buffer</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">b</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_finalize</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">HighPerformanceImage</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `HighPerformanceImage` allows to use high performance image to be</span>
<span class="sd">    sampled in your shaders.</span>

<span class="sd">    To get the maximum performance, we are going to create two `Image`,</span>
<span class="sd">    a staging image which memory can be updated (with our texture) and</span>
<span class="sd">    a final image with very fast memory that we will use in shaders.</span>
<span class="sd">    When we create an image, we first upload the pixels in the staging</span>
<span class="sd">    image and then copy the memory in the final image. Of course, both of</span>
<span class="sd">    the image have the same properties.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span>
                 <span class="n">depth</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span> <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span>
                 <span class="n">sharing_mode</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">SharingMode</span><span class="o">.</span><span class="n">EXCLUSIVE</span><span class="p">,</span>
                 <span class="n">queue_families</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a high performance image</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `image_type`: `ImageType` vulk constant</span>
<span class="sd">        - `image_format`: `Format` of the image</span>
<span class="sd">        - `width`: Image width</span>
<span class="sd">        - `heigth`: Image height</span>
<span class="sd">        - `depth`: Image depth</span>
<span class="sd">        - `mip_level`: Level of mip (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        - `samples`: This `SampleCount` vulk constant is related</span>
<span class="sd">                     to multisampling</span>
<span class="sd">        - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not `CONCURRENT`)</span>
<span class="sd">                            (can be [])</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">queue_families</span><span class="p">:</span>
            <span class="n">queue_families</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span>
            <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageTiling</span><span class="o">.</span><span class="n">LINEAR</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">ImageUsage</span><span class="o">.</span><span class="n">TRANSFER_SRC</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_VISIBLE</span> <span class="o">|</span> <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_COHERENT</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">final_image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span>
            <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageTiling</span><span class="o">.</span><span class="n">OPTIMAL</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">ImageUsage</span><span class="o">.</span><span class="n">TRANSFER_DST</span> <span class="o">|</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageUsage</span><span class="o">.</span><span class="n">SAMPLED</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">DEVICE_LOCAL</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_finalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Prepare and copy the staging image to the final image.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">commandpool</span> <span class="o">=</span> <span class="n">CommandPool</span><span class="p">(</span><span class="n">context</span><span class="p">,</span>
                                  <span class="n">context</span><span class="o">.</span><span class="n">queue_family_indices</span><span class="p">[</span><span class="s1">&#39;graphic&#39;</span><span class="p">])</span>

        <span class="c1"># Transition the staging image to optimal source transfert layout</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
                <span class="n">cmd</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_SRC_OPTIMAL</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">HOST_WRITE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">TRANSFER_READ</span>
            <span class="p">)</span>

        <span class="c1"># Transition the final image to optimal destination transfert layout</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">final_image</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
                <span class="n">cmd</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_DST_OPTIMAL</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">HOST_WRITE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">TRANSFER_WRITE</span>
            <span class="p">)</span>

        <span class="c1"># Copy staging image into final image</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span><span class="o">.</span><span class="n">copy_to</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_image</span><span class="p">)</span>

        <span class="c1"># Set the best layout for the final image</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">final_image</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
                <span class="n">cmd</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_DST_OPTIMAL</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">SHADER_READ_ONLY_OPTIMAL</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">TRANSFER_WRITE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">SHADER_READ</span>
            <span class="p">)</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Bind image for writing</span>

<span class="sd">        It calls `bind` method of the staging image and copy the image</span>
<span class="sd">        when the contextmanager is released. Must be used with `with`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">b</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_finalize</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Image</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `Image` is a wrapper around a `VkImage` and a `VkMemory`</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span>
                 <span class="n">mip_level</span><span class="p">,</span> <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
                 <span class="n">layout</span><span class="p">,</span> <span class="n">tiling</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span> <span class="n">memory_properties</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a new image</span>

<span class="sd">        Creating an image is made of several steps:</span>

<span class="sd">        - Create the image</span>
<span class="sd">        - Allocate the memory</span>
<span class="sd">        - Bind the memory to the image</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `image_type`: `ImageType` vulk constant</span>
<span class="sd">        - `image_format`: `Format` vulk constant</span>
<span class="sd">        - `width`: Image width</span>
<span class="sd">        - `heigth`: Image height</span>
<span class="sd">        - `depth`: Image depth</span>
<span class="sd">        - `mip_level`: Level of mip (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        - `samples`: This `SampleCount` vulk constant is related</span>
<span class="sd">                     to multisampling</span>
<span class="sd">        - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not `CONCURRENT`)</span>
<span class="sd">                            (can be [])</span>
<span class="sd">        - `layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `tiling`: `ImageTiling` vulk constant</span>
<span class="sd">        - `usage`: `ImageUsage` vulk constant</span>
<span class="sd">        - `memory_properties`: `MemoryProperty` vulk constant</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">depth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">image_format</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">=</span> <span class="n">memory_properties</span>
        <span class="n">image_type</span> <span class="o">=</span> <span class="n">image_type</span><span class="o">.</span><span class="n">value</span>
        <span class="n">tiling</span> <span class="o">=</span> <span class="n">tiling</span><span class="o">.</span><span class="n">value</span>
        <span class="n">usage</span> <span class="o">=</span> <span class="n">usage</span><span class="o">.</span><span class="n">value</span>
        <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Check that image can be created</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkGetPhysicalDeviceImageFormatProperties</span><span class="p">(</span>
                <span class="n">context</span><span class="o">.</span><span class="n">physical_device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">tiling</span><span class="p">,</span>
                <span class="n">usage</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkErrorFormatNotSupported</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t create image, format &quot;</span>
                            <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> not supported&quot;</span> <span class="o">%</span> <span class="n">image_format</span><span class="p">)</span>

        <span class="c1"># Create the VkImage</span>
        <span class="n">vk_extent</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkExtent3D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
                                  <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
                                  <span class="n">depth</span><span class="o">=</span><span class="n">depth</span><span class="p">)</span>

        <span class="n">image_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">imageType</span><span class="o">=</span><span class="n">image_type</span><span class="p">,</span>
            <span class="n">format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">vk_extent</span><span class="p">,</span>
            <span class="n">mipLevels</span><span class="o">=</span><span class="n">mip_level</span><span class="p">,</span>
            <span class="n">arrayLayers</span><span class="o">=</span><span class="n">layers</span><span class="p">,</span>
            <span class="n">samples</span><span class="o">=</span><span class="n">samples</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">tiling</span><span class="o">=</span><span class="n">tiling</span><span class="p">,</span>
            <span class="n">usage</span><span class="o">=</span><span class="n">usage</span><span class="p">,</span>
            <span class="n">sharingMode</span><span class="o">=</span><span class="n">sharing_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">queueFamilyIndexCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">queue_families</span><span class="p">),</span>
            <span class="n">pQueueFamilyIndices</span><span class="o">=</span><span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">initialLayout</span><span class="o">=</span><span class="n">layout</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImage</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">image_create</span><span class="p">)</span>

        <span class="c1"># Get memory requirements</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetImageMemoryRequirements</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                       <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>

        <span class="n">alloc_info</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkMemoryAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">allocationSize</span><span class="o">=</span><span class="n">requirements</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">memoryTypeIndex</span><span class="o">=</span><span class="n">find_memory_type</span><span class="p">(</span>
                <span class="n">context</span><span class="p">,</span>
                <span class="n">requirements</span><span class="o">.</span><span class="n">memoryTypeBits</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">alloc_info</span><span class="p">)</span>

        <span class="c1"># Bind device memory to the image</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkBindImageMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">old_layout</span><span class="p">,</span> <span class="n">new_layout</span><span class="p">,</span> <span class="n">src_stage</span><span class="p">,</span>
                      <span class="n">dst_stage</span><span class="p">,</span> <span class="n">src_access</span><span class="p">,</span> <span class="n">dst_access</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Update the image layout.</span>
<span class="sd">        Command to update layout are registered in the commandbuffer</span>
<span class="sd">        but it&#39;s up to you to start and submit the command buffer to</span>
<span class="sd">        the execution queue.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `cmd`: `CommandBufferRegister` used to register commands</span>
<span class="sd">        - `old_layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `new_layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `src_stage`: `PipelineStage` vulk constant</span>
<span class="sd">        - `dst_stage`: `PipelineStage` vulk constant</span>
<span class="sd">        - `src_access`: `Access` vulk constant</span>
<span class="sd">        - `dst_access`: `Access` vulk constant</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">subresource_range</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageSubresourceRange</span><span class="p">(</span>
            <span class="n">aspectMask</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ImageAspect</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span>
            <span class="n">baseMipLevel</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">levelCount</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">baseArrayLayer</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">layerCount</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="n">barrier</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageMemoryBarrier</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER</span><span class="p">,</span>
            <span class="n">srcAccessMask</span><span class="o">=</span><span class="n">src_access</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dstAccessMask</span><span class="o">=</span><span class="n">dst_access</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">oldLayout</span><span class="o">=</span><span class="n">old_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">newLayout</span><span class="o">=</span><span class="n">new_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">srcQueueFamilyIndex</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">QUEUE_FAMILY_IGNORED</span><span class="p">,</span>
            <span class="n">dstQueueFamilyIndex</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">QUEUE_FAMILY_IGNORED</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
            <span class="n">subresourceRange</span><span class="o">=</span><span class="n">subresource_range</span>
        <span class="p">)</span>

        <span class="n">cmd</span><span class="o">.</span><span class="n">pipeline_barrier</span><span class="p">(</span><span class="n">src_stage</span><span class="p">,</span> <span class="n">dst_stage</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">Dependency</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span>
                             <span class="p">[],</span> <span class="p">[],</span> <span class="p">[</span><span class="n">barrier</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">copy_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">dst_image</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy this image to the destination image.</span>
<span class="sd">        Commands to copy are registered in the commandbuffer but it&#39;s up to</span>
<span class="sd">        you to start and submit the command buffer to the execution queue.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `cmd`: `CommandBufferRegister` used to register commands</span>
<span class="sd">        - `dst_image`: Destination `Image`</span>

<span class="sd">        **Note: Layout of source image must be `TRANSFERT_SRC_OPTIMAL` and</span>
<span class="sd">                layout of destination image must be `TRANSFERT_DST_OPTIMAL`.</span>
<span class="sd">                It&#39;s up to you.**</span>

<span class="sd">        **Warning: Format of both images must be compatible**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># Copy image</span>
        <span class="n">subresource</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageSubresourceLayers</span><span class="p">(</span>
            <span class="n">aspectMask</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ImageAspect</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span>
            <span class="n">baseArrayLayer</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">mipLevel</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">layerCount</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">extent</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkExtent3D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                               <span class="n">depth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>
        <span class="n">region</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageCopy</span><span class="p">(</span>
            <span class="n">srcSubresource</span><span class="o">=</span><span class="n">subresource</span><span class="p">,</span>
            <span class="n">dstSubresource</span><span class="o">=</span><span class="n">subresource</span><span class="p">,</span>
            <span class="n">srcOffset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset3D</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">dstOffset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset3D</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">extent</span>
        <span class="p">)</span>

        <span class="n">src_layout</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_SRC_OPTIMAL</span>
        <span class="n">dst_layout</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_DST_OPTIMAL</span>

        <span class="n">cmd</span><span class="o">.</span><span class="n">copy_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_layout</span><span class="p">,</span> <span class="n">dst_image</span><span class="p">,</span>
                       <span class="n">dst_layout</span><span class="p">,</span> <span class="p">[</span><span class="n">region</span><span class="p">])</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Map this image to upload data in it.</span>
<span class="sd">        This function is a context manager and must be called with `with`.</span>
<span class="sd">        It return a python buffer and let you do what you want with it,</span>
<span class="sd">        be careful!</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>

<span class="sd">        **Warning: Image memory must be host visible**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">compatible_memories</span> <span class="o">=</span> <span class="p">{</span><span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_VISIBLE</span><span class="p">,</span>
                               <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_COHERENT</span><span class="p">,</span>
                               <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_CACHED</span><span class="p">}</span>
        <span class="c1"># TODO: To try, not sure it works</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">&amp;</span> <span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">compatible_memories</span><span class="p">]):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t map this image, memory must be host visible&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">format_size</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">format_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>
        <span class="n">image_size</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">*</span> <span class="n">format_size</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkMapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                  <span class="n">image_size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">data</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkUnmapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ImageView</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    An image view is quite literally a view into an image.</span>
<span class="sd">    It describes how to access the image and which part of the image</span>
<span class="sd">    to access, for example if it should be treated as a 2D texture depth</span>
<span class="sd">    texture without any mipmapping levels.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">view_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span>
                 <span class="n">subresource_range</span><span class="p">,</span> <span class="n">swizzle_r</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">,</span>
                 <span class="n">swizzle_g</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">,</span>
                 <span class="n">swizzle_b</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">,</span>
                 <span class="n">swizzle_a</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create ImageView</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `image`: The `Image` to work on</span>
<span class="sd">        - `view_type`: `ImageViewType` vulk constant</span>
<span class="sd">        - `image_format`: `Format` vulk constant</span>
<span class="sd">        - `subresource_range`: The `ImageSubresourceRange` to use</span>
<span class="sd">        - `swizzle_r`: `ComponentSwizzle` of the red color channel</span>
<span class="sd">        - `swizzle_g`: `ComponentSwizzle` of the green color channel</span>
<span class="sd">        - `swizzle_b`: `ComponentSwizzle` of the blue color channel</span>
<span class="sd">        - `swizzle_a`: `ComponentSwizzle` of the alpha color channel</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">components</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkComponentMapping</span><span class="p">(</span>
            <span class="n">r</span><span class="o">=</span><span class="n">swizzle_r</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="n">swizzle_g</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">swizzle_b</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">a</span><span class="o">=</span><span class="n">swizzle_a</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>

        <span class="n">vk_subresource_range</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageSubresourceRange</span><span class="p">(</span>
            <span class="n">aspectMask</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">aspect</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">baseMipLevel</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">base_miplevel</span><span class="p">,</span>
            <span class="n">levelCount</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">level_count</span><span class="p">,</span>
            <span class="n">baseArrayLayer</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">base_layer</span><span class="p">,</span>
            <span class="n">layerCount</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">layer_count</span>
        <span class="p">)</span>

        <span class="n">imageview_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageViewCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
            <span class="n">viewType</span><span class="o">=</span><span class="n">view_type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">format</span><span class="o">=</span><span class="n">image_format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
            <span class="n">subresourceRange</span><span class="o">=</span><span class="n">vk_subresource_range</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imageview</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImageView</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">imageview_create</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Pipeline</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Pipeline (graphic) object</span>

<span class="sd">    The graphics pipeline is the sequence of operations that take the</span>
<span class="sd">    vertices and textures of your meshes all the way to the pixels in</span>
<span class="sd">    the render targets. The pipeline combines the following elements:</span>

<span class="sd">      - Shader stages: the shader modules that define the functionality of</span>
<span class="sd">                       the programmable stages of the graphics pipeline</span>
<span class="sd">      - Fixed-function state: all of the structures that define the</span>
<span class="sd">                              fixed-function stages of the pipeline, like</span>
<span class="sd">                              input assembly, rasterizer, viewport and</span>
<span class="sd">                              color blending</span>
<span class="sd">      - Pipeline layout: the uniform and push values referenced by the</span>
<span class="sd">                         shader that can be updated at draw time</span>
<span class="sd">      - Render pass: the attachments referenced by the pipeline stages</span>
<span class="sd">                     and their usage</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">stages</span><span class="p">,</span> <span class="n">vertex_input</span><span class="p">,</span> <span class="n">input_assembly</span><span class="p">,</span>
                 <span class="n">viewport_state</span><span class="p">,</span> <span class="n">rasterization</span><span class="p">,</span> <span class="n">multisample</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">blend</span><span class="p">,</span>
                 <span class="n">dynamic</span><span class="p">,</span> <span class="n">layout</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `stages`: List of `PipelineShaderStage`</span>
<span class="sd">        - `vertex_input`: `PipelineVertexInputState`</span>
<span class="sd">        - `input_assembly`: `PipelineInputAssemblyState`</span>
<span class="sd">        - `viewport_state`: `PipelineViewportState`</span>
<span class="sd">        - `rasterization`: `PipelineRasterizationState`</span>
<span class="sd">        - `multisample`: `PipelineMultisampleState`</span>
<span class="sd">        - `depth`: `PipelineDepthStencilState` (can be `None`)</span>
<span class="sd">        - `blend`: `PipelineColorBlendState`</span>
<span class="sd">        - `dynamic`: `PipelineDynamicState` (may be `None`)</span>
<span class="sd">        - `layout`: `PipelineLayout`</span>
<span class="sd">        - `renderpass`: The `Renderpass` of this pipeline</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">vk_stages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">stages</span><span class="p">:</span>
            <span class="n">vk_stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineShaderStageCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</span><span class="p">,</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">stage</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">module</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">module</span><span class="p">,</span>
                <span class="n">pSpecializationInfo</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">pName</span><span class="o">=</span><span class="s1">&#39;main&#39;</span>
            <span class="p">))</span>

        <span class="n">vk_vertex_bindings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">binding</span> <span class="ow">in</span> <span class="n">vertex_input</span><span class="o">.</span><span class="n">bindings</span><span class="p">:</span>
            <span class="n">vk_vertex_bindings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkVertexInputBindingDescription</span><span class="p">(</span>
                <span class="n">binding</span><span class="o">=</span><span class="n">binding</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
                <span class="n">stride</span><span class="o">=</span><span class="n">binding</span><span class="o">.</span><span class="n">stride</span><span class="p">,</span>
                <span class="n">inputRate</span><span class="o">=</span><span class="n">binding</span><span class="o">.</span><span class="n">rate</span><span class="o">.</span><span class="n">value</span>
            <span class="p">))</span>

        <span class="n">vk_vertex_attributes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">vertex_input</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
            <span class="n">vk_vertex_attributes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkVertexInputAttributeDescription</span><span class="p">(</span>
                <span class="n">location</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
                <span class="n">binding</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
                <span class="n">format</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">offset</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">offset</span>
            <span class="p">))</span>

        <span class="n">vk_vertex_input</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineVertexInputStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">vertexBindingDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_vertex_bindings</span><span class="p">),</span>
            <span class="n">pVertexBindingDescriptions</span><span class="o">=</span><span class="n">vk_vertex_bindings</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">vertexAttributeDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_vertex_attributes</span><span class="p">),</span>
            <span class="n">pVertexAttributeDescriptions</span><span class="o">=</span><span class="n">vk_vertex_attributes</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="p">)</span>

        <span class="n">vk_input_assembly</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineInputAssemblyStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">topology</span><span class="o">=</span><span class="n">input_assembly</span><span class="o">.</span><span class="n">topology</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">primitiveRestartEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="p">)</span>

        <span class="n">vk_viewports</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">viewport_state</span><span class="o">.</span><span class="n">viewports</span><span class="p">:</span>
            <span class="n">vk_viewports</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkViewport</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                <span class="n">minDepth</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">min_depth</span><span class="p">,</span> <span class="n">maxDepth</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">max_depth</span>
            <span class="p">))</span>

        <span class="n">vk_scissors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">viewport_state</span><span class="o">.</span><span class="n">scissors</span><span class="p">:</span>
            <span class="n">vk_scissors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkRect2D</span><span class="p">(</span>
                <span class="n">offset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset2D</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="p">),</span>
                <span class="n">extent</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkExtent2D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                                     <span class="n">height</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span><span class="p">),</span>
            <span class="p">))</span>

        <span class="n">vk_viewport_state</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineViewportStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">viewportCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_viewports</span><span class="p">),</span>
            <span class="n">pViewports</span><span class="o">=</span><span class="n">vk_viewports</span><span class="p">,</span>
            <span class="n">scissorCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_scissors</span><span class="p">),</span>
            <span class="n">pScissors</span><span class="o">=</span><span class="n">vk_scissors</span>
        <span class="p">)</span>

        <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span> <span class="ow">or</span>
           <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span> <span class="ow">or</span>
           <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span><span class="p">):</span>
            <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span>

        <span class="n">vk_rasterization</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineRasterizationStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">depthClampEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_clamp_enable</span><span class="p">),</span>
            <span class="n">rasterizerDiscardEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
            <span class="n">polygonMode</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">polygon_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">lineWidth</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">line_width</span><span class="p">,</span>
            <span class="n">cullMode</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">cull_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">frontFace</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">front_face</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">depthBiasEnable</span><span class="o">=</span><span class="n">dbe</span><span class="p">,</span>
            <span class="n">depthBiasConstantFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span><span class="p">,</span>
            <span class="n">depthBiasClamp</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span><span class="p">,</span>
            <span class="n">depthBiasSlopeFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span>
        <span class="p">)</span>

        <span class="n">vk_multisample</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineMultisampleStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">sampleShadingEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">multisample</span><span class="o">.</span><span class="n">shading_enable</span><span class="p">),</span>
            <span class="n">rasterizationSamples</span><span class="o">=</span><span class="n">multisample</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">minSampleShading</span><span class="o">=</span><span class="n">multisample</span><span class="o">.</span><span class="n">min_sample_shading</span><span class="p">,</span>
            <span class="n">pSampleMask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">alphaToCoverageEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
            <span class="n">alphaToOneEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="p">)</span>

        <span class="n">vk_depth</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">depth</span><span class="p">:</span>
            <span class="n">vk_depth</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDepthStencilStateCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">depthTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_test_enable</span><span class="p">),</span>
                <span class="n">depthWriteEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_write_enable</span><span class="p">),</span>
                <span class="n">depthCompareOp</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_compare</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">depthBoundsTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_bounds_test_enable</span><span class="p">),</span>
                <span class="n">stencilTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">stencil_test_enable</span><span class="p">),</span>
                <span class="n">front</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">front</span><span class="p">,</span>
                <span class="n">back</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">back</span><span class="p">,</span>
                <span class="n">minDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
                <span class="n">maxDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">max</span>
            <span class="p">)</span>

        <span class="n">vk_blend_attachments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">blend</span><span class="o">.</span><span class="n">attachments</span><span class="p">:</span>
            <span class="n">vk_a</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendAttachmentState</span><span class="p">(</span>
                <span class="n">colorWriteMask</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">color_mask</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">blendEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">enable</span><span class="p">),</span>
                <span class="n">srcColorBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">src_color</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">dstColorBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">dst_color</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">colorBlendOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">color_op</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">srcAlphaBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">src_alpha</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">dstAlphaBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">dst_alpha</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">alphaBlendOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">alpha_op</span><span class="o">.</span><span class="n">value</span>
            <span class="p">)</span>
            <span class="n">vk_blend_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk_a</span><span class="p">)</span>

        <span class="n">vk_blend</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">logicOpEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">op_enable</span><span class="p">),</span>
            <span class="n">logicOp</span><span class="o">=</span><span class="n">blend</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_blend_attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_blend_attachments</span><span class="p">,</span>
            <span class="n">blendConstants</span><span class="o">=</span><span class="n">blend</span><span class="o">.</span><span class="n">constants</span>
        <span class="p">)</span>

        <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">dynamic</span><span class="p">:</span>
            <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDynamicStateCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</span><span class="p">,</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">dynamicStateCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span><span class="p">),</span>
                <span class="n">pDynamicStates</span><span class="o">=</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span>
            <span class="p">)</span>

        <span class="n">pipeline_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkGraphicsPipelineCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">stageCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_stages</span><span class="p">),</span>
            <span class="n">pStages</span><span class="o">=</span><span class="n">vk_stages</span><span class="p">,</span>
            <span class="n">pVertexInputState</span><span class="o">=</span><span class="n">vk_vertex_input</span><span class="p">,</span>
            <span class="n">pInputAssemblyState</span><span class="o">=</span><span class="n">vk_input_assembly</span><span class="p">,</span>
            <span class="n">pTessellationState</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pViewportState</span><span class="o">=</span><span class="n">vk_viewport_state</span><span class="p">,</span>
            <span class="n">pRasterizationState</span><span class="o">=</span><span class="n">vk_rasterization</span><span class="p">,</span>
            <span class="n">pMultisampleState</span><span class="o">=</span><span class="n">vk_multisample</span><span class="p">,</span>
            <span class="n">pDepthStencilState</span><span class="o">=</span><span class="n">vk_depth</span><span class="p">,</span>
            <span class="n">pColorBlendState</span><span class="o">=</span><span class="n">vk_blend</span><span class="p">,</span>
            <span class="n">pDynamicState</span><span class="o">=</span><span class="n">vk_dynamic</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">subpass</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">basePipelineHandle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">basePipelineIndex</span><span class="o">=-</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateGraphicsPipelines</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                                                     <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">pipeline_create</span><span class="p">])</span>


<span class="k">class</span> <span class="nc">PipelineLayout</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Pipeline layout object</span>

<span class="sd">    Access to descriptor sets from a pipeline is accomplished through a</span>
<span class="sd">    pipeline layout. Zero or more descriptor set layouts and zero or more</span>
<span class="sd">    push constant ranges are combined to form a pipeline layout object which</span>
<span class="sd">    describes the complete set of resources that can be accessed by a</span>
<span class="sd">    pipeline. The pipeline layout represents a sequence of descriptor sets</span>
<span class="sd">    with each having a specific layout. This sequence of layouts is used to</span>
<span class="sd">    determine the interface between shader stages and shader resources.</span>
<span class="sd">    Each pipeline is created using a pipeline layout.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">descriptors</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `descriptors`: `list` of `DescriptorSetLayout`</span>

<span class="sd">        **Todo: push constant muse be implemented**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_descriptors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">:</span>
            <span class="n">vk_descriptors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">descriptorsetlayout</span><span class="p">)</span>

        <span class="n">layout_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineLayoutCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">setLayoutCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_descriptors</span><span class="p">),</span>
            <span class="n">pSetLayouts</span><span class="o">=</span><span class="n">vk_descriptors</span> <span class="k">if</span> <span class="n">vk_descriptors</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">pushConstantRangeCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pPushConstantRanges</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreatePipelineLayout</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                <span class="n">layout_create</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Renderpass</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Renderpass object</span>

<span class="sd">    When creating the pipeline, we need to tell Vulkan about the</span>
<span class="sd">    framebuffer attachments that will be used while rendering. We need to</span>
<span class="sd">    specify how many color and depth buffers there will be, how many samples</span>
<span class="sd">    to use for each of them and how their contents should be handled</span>
<span class="sd">    throughout the rendering operations. All of this information is wrapped</span>
<span class="sd">    in a RenderPass object</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span> <span class="n">subpasses</span><span class="p">,</span> <span class="n">dependencies</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Renderpass constructor</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `attachments`: `list` of `AttachmentDescription`</span>
<span class="sd">        - `subpasses`: `list` of `SubpassDescription`</span>
<span class="sd">        - `dependencies`: `list` of `SubpassDependency`</span>

<span class="sd">        **Warning: Arguments ar not checked, you must know</span>
<span class="sd">                   what you are doing.**</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">vk_attachments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">:</span>
            <span class="n">vk_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentDescription</span><span class="p">(</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">format</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">samples</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">loadOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">storeOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">stencilLoadOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_load</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">stencilStoreOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_store</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">initialLayout</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">initial_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">finalLayout</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">final_layout</span><span class="o">.</span><span class="n">value</span>
            <span class="p">))</span>

        <span class="c1"># Loop through the list of subpasses to create the reference</span>
        <span class="c1"># reference key is index_layout</span>
        <span class="n">vk_references</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">inputs</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">resolves</span> <span class="o">+</span>
                      <span class="n">s</span><span class="o">.</span><span class="n">preserves</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">):</span>
                <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vk_references</span><span class="p">:</span>
                    <span class="n">vk_references</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentReference</span><span class="p">(</span>
                        <span class="n">attachment</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                        <span class="n">layout</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">value</span>
                    <span class="p">)</span>

        <span class="k">def</span> <span class="nf">ref</span><span class="p">(</span><span class="n">references</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">            Convert a list of `AttachmentReference` to a list of</span>
<span class="sd">            `VkAttachmentReference` by using the cached references in</span>
<span class="sd">            `vk_references`</span>
<span class="sd">            &#39;&#39;&#39;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">references</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>

            <span class="k">return</span> <span class="p">[</span><span class="n">vk_references</span><span class="p">[(</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">references</span><span class="p">]</span>

        <span class="c1"># Create the subpasses using references</span>
        <span class="n">vk_subpasses</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
            <span class="n">leninputs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
            <span class="n">lenpreserves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">preserves</span><span class="p">)</span>
            <span class="n">lencolors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span><span class="p">)</span>
            <span class="n">lenresolves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">resolves</span><span class="p">)</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">preserves</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">preserves</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">resolves</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">resolves</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">depth_stencil</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">)),</span> <span class="bp">None</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">resolves</span> <span class="ow">and</span> <span class="n">inputs</span> <span class="ow">and</span> <span class="n">lenresolves</span> <span class="o">!=</span> <span class="n">lencolors</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;resolves and inputs list must be of the same size&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">vk_subpasses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDescription</span><span class="p">(</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">pipelineBindPoint</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">PipelineBindPoint</span><span class="o">.</span><span class="n">GRAPHICS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">inputAttachmentCount</span><span class="o">=</span><span class="n">leninputs</span><span class="p">,</span>
                <span class="n">pInputAttachments</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
                <span class="n">colorAttachmentCount</span><span class="o">=</span><span class="n">lencolors</span><span class="p">,</span>
                <span class="n">pColorAttachments</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
                <span class="n">pResolveAttachments</span><span class="o">=</span><span class="n">resolves</span><span class="p">,</span>
                <span class="n">preserveAttachmentCount</span><span class="o">=</span><span class="n">lenpreserves</span><span class="p">,</span>
                <span class="n">pPreserveAttachments</span><span class="o">=</span><span class="n">preserves</span><span class="p">,</span>
                <span class="n">pDepthStencilAttachment</span><span class="o">=</span><span class="n">depth_stencil</span>
            <span class="p">))</span>

        <span class="c1"># Create the dependancies</span>
        <span class="n">vk_dependencies</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dependencies</span><span class="p">:</span>
            <span class="n">vk_dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDependency</span><span class="p">(</span>
                <span class="n">dependencyFlags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">srcSubpass</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">src_subpass</span><span class="p">,</span>
                <span class="n">dstSubpass</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">dst_subpass</span><span class="p">,</span>
                <span class="n">srcStageMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">src_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">dstStageMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">dst_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">srcAccessMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">src_access</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">dstAccessMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">dst_access</span><span class="o">.</span><span class="n">value</span>
            <span class="p">))</span>

        <span class="c1"># Create the render pass</span>
        <span class="n">renderpass_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRenderPassCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_attachments</span><span class="p">,</span>
            <span class="n">subpassCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_subpasses</span><span class="p">),</span>
            <span class="n">pSubpasses</span><span class="o">=</span><span class="n">vk_subpasses</span><span class="p">,</span>
            <span class="n">dependencyCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_dependencies</span><span class="p">),</span>
            <span class="n">pDependencies</span><span class="o">=</span><span class="n">vk_dependencies</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renderpass</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateRenderPass</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">renderpass_create</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Sampler</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `Sampler` objects represent the state of an image sampler which is used</span>
<span class="sd">    by the implementation to read image data and apply filtering and other</span>
<span class="sd">    transformations for the shader.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">mag_filter</span><span class="p">,</span> <span class="n">min_filter</span><span class="p">,</span> <span class="n">mipmap_mode</span><span class="p">,</span>
                 <span class="n">address_mode_u</span><span class="p">,</span> <span class="n">address_mode_v</span><span class="p">,</span> <span class="n">address_mode_w</span><span class="p">,</span> <span class="n">mip_lod_bias</span><span class="p">,</span>
                 <span class="n">anisotropy_enable</span><span class="p">,</span> <span class="n">max_anisotropy</span><span class="p">,</span> <span class="n">compare_enable</span><span class="p">,</span>
                 <span class="n">compare_op</span><span class="p">,</span> <span class="n">min_lod</span><span class="p">,</span> <span class="n">max_lod</span><span class="p">,</span> <span class="n">border_color</span><span class="p">,</span>
                 <span class="n">unnormalized_coordinates</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `mag_filter`: Magnification `Filter` to apply to lookups</span>
<span class="sd">        - `min_filter`: Minification `Filter` to apply to lookups</span>
<span class="sd">        - `mipmap_mode`: `SamplerMipmapMode` mipmap filter to apply to</span>
<span class="sd">                         lookups</span>
<span class="sd">        - `address_mode_u`: `SamplerAddressMode` vulk constant</span>
<span class="sd">        - `address_mode_v`: `SamplerAddressMode` vulk contant</span>
<span class="sd">        - `address_mode_w`: `SamplerAddressMode` vulk contant</span>
<span class="sd">        - `mip_lod_bias`: Bias to be added to mipmap LOD calculation</span>
<span class="sd">        - `anisotropy_enable`: `True` to enable anisotropic filtering</span>
<span class="sd">        - `max_anisotropy`: Anisotropy value clamp</span>
<span class="sd">        - `compare_enable`: `True` to enable comparison against a reference</span>
<span class="sd">                            value during lookups</span>
<span class="sd">        - `compare_op`: `CompareOp` vulk constant comparison function to apply</span>
<span class="sd">                        to fetched data before filtering</span>
<span class="sd">        - `min_lod`: Value used to clamp the computed level-of-detail value</span>
<span class="sd">        - `max_lod`: Value used to clamp the computed level-of-detail value</span>
<span class="sd">        - `border_color`: `BorderColor` predefined border color to use</span>
<span class="sd">        - `unnormalized_coordinates`: `True` to use unnormalized texel</span>
<span class="sd">                                      coordinates</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">sampler_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkSamplerCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">magFilter</span><span class="o">=</span><span class="n">mag_filter</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">minFilter</span><span class="o">=</span><span class="n">min_filter</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">mipmapMode</span><span class="o">=</span><span class="n">mipmap_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">addressModeU</span><span class="o">=</span><span class="n">address_mode_u</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">addressModeV</span><span class="o">=</span><span class="n">address_mode_v</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">addressModeW</span><span class="o">=</span><span class="n">address_mode_w</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">mipLodBias</span><span class="o">=</span><span class="n">mip_lod_bias</span><span class="p">,</span>
            <span class="n">anisotropyEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">anisotropy_enable</span><span class="p">),</span>
            <span class="n">maxAnisotropy</span><span class="o">=</span><span class="n">max_anisotropy</span><span class="p">,</span>
            <span class="n">compareEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">compare_enable</span><span class="p">),</span>
            <span class="n">compareOp</span><span class="o">=</span><span class="n">compare_op</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">minLod</span><span class="o">=</span><span class="n">min_lod</span><span class="p">,</span>
            <span class="n">maxLod</span><span class="o">=</span><span class="n">max_lod</span><span class="p">,</span>
            <span class="n">borderColor</span><span class="o">=</span><span class="n">border_color</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">unnormalizedCoordinates</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">unnormalized_coordinates</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sampler</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateSampler</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">sampler_create</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Semaphore</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Semaphores are a synchronization primitive that can be used to insert a</span>
<span class="sd">    dependency between batches submitted to queues. Semaphores have two</span>
<span class="sd">    states - signaled and unsignaled. The state of a semaphore can be signaled</span>
<span class="sd">    after execution of a batch of commands is completed. A batch can wait for</span>
<span class="sd">    a semaphore to become signaled before it begins execution, and the</span>
<span class="sd">    semaphore is also unsignaled before the batch begins execution.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">semaphore_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkSemaphoreCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">semaphore</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateSemaphore</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">semaphore_create</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ShaderModule</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ShaderModule Vulkan object</span>

<span class="sd">    A shader module is a Spir-V shader loaded into Vulkan.</span>
<span class="sd">    After being created, it must be inserted in a pipeline stage.</span>
<span class="sd">    The real Vulkan module can be accessed by the &#39;module&#39; property.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Initialize the module</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext` object</span>
<span class="sd">        - `code`: Binary Spir-V loaded file (bytes)</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        The created `ShaderModule`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Type of code is not &#39;bytes&#39;, it may be an error&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>

        <span class="c1"># Create the shader module</span>
        <span class="n">shader_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkShaderModuleCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">codeSize</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">code</span><span class="p">),</span> <span class="n">pCode</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateShaderModule</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">shader_create</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ShaderProgram</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ShaderProgram</span>

<span class="sd">    A `ShaderProgram` embed all `ShaderModule` of a `Pipeline`.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">modules</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `modules`: `dict` containing a mapping between `ShaderStage` and the</span>
<span class="sd">                     actual shader. The shader must be a `bytes` object like</span>
<span class="sd">                     obtained by open(path, &#39;rb&#39;).read()</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">stage</span><span class="p">,</span> <span class="n">spirv</span> <span class="ow">in</span> <span class="n">modules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">spirv</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;shader must be a bytes object&quot;</span><span class="p">)</span>

            <span class="n">module</span> <span class="o">=</span> <span class="n">ShaderModule</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">spirv</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PipelineShaderStage</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">stage</span><span class="p">))</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">
    <h2 class="section-title" id="header-variables">Module variables</h2>
      <div class="item">
      <p id="vulk.vulkanobject.logger" class="name">var <span class="ident">logger</span></p>
      
  
  <div class="source_cont">
</div>

      </div>

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.btov">
    <p>def <span class="ident">btov</span>(</p><p>b)</p>
    </div>
    

    
  
    <div class="desc"><p>Convert boolean to Vulkan boolean</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.btov', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.btov" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">btov</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Convert boolean to Vulkan boolean&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span> <span class="k">if</span> <span class="n">b</span> <span class="k">else</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.find_memory_type">
    <p>def <span class="ident">find_memory_type</span>(</p><p>context, type_filter, properties)</p>
    </div>
    

    
  
    <div class="desc"><p>Graphics cards can offer different types of memory to allocate from.
Each type of memory varies in terms of allowed operations and performance
characteristics. We need to combine the requirements of the memory and our
own application requirements to find the right type of memory to use.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>type_filter</code>: Bit field of the memory types that are suitable
             for the memory (int)</li>
<li><code>properties</code>: <code>MemoryProperty</code> Vulkan constant, type of
            memory we want</li>
</ul>

<p><strong>Todo: I made a bitwise comparaison with <code>type_filter</code>, I have to test
        it to be sure it's working</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.find_memory_type', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.find_memory_type" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">find_memory_type</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">type_filter</span><span class="p">,</span> <span class="n">properties</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Graphics cards can offer different types of memory to allocate from.</span>
<span class="sd">    Each type of memory varies in terms of allowed operations and performance</span>
<span class="sd">    characteristics. We need to combine the requirements of the memory and our</span>
<span class="sd">    own application requirements to find the right type of memory to use.</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `type_filter`: Bit field of the memory types that are suitable</span>
<span class="sd">                     for the memory (int)</span>
<span class="sd">    - `properties`: `MemoryProperty` Vulkan constant, type of</span>
<span class="sd">                    memory we want</span>

<span class="sd">    **Todo: I made a bitwise comparaison with `type_filter`, I have to test</span>
<span class="sd">            it to be sure it&#39;s working**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">find_memory_type</span><span class="o">.</span><span class="n">cache_properties</span><span class="p">:</span>
        <span class="n">find_memory_type</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetPhysicalDeviceMemoryProperties</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">physical_device</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">memory_type</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">find_memory_type</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">memoryTypes</span><span class="p">):</span>
        <span class="c1"># TODO: Test type_filter</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">type_filter</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">))</span> <span class="ow">and</span> \
           <span class="p">(</span><span class="n">memory_type</span><span class="o">.</span><span class="n">propertyFlags</span> <span class="o">&amp;</span> <span class="n">properties</span><span class="p">)</span> <span class="o">==</span> <span class="n">properties</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">i</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t find suitable memory type&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.immediate_buffer">
    <p>def <span class="ident">immediate_buffer</span>(</p><p>*args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Manage creation and destruction of commandbuffer for one time submit.
If commandpool is not given, it is created here.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>commandpool</code>: <code>CommandPool</code> (optional)</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.immediate_buffer', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.immediate_buffer" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Manage creation and destruction of commandbuffer for one time submit.</span>
<span class="sd">    If commandpool is not given, it is created here.</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `commandpool`: `CommandPool` (optional)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">own_commandpool</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">commandpool</span><span class="p">:</span>
        <span class="n">commandpool</span> <span class="o">=</span> <span class="n">CommandPool</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">context</span><span class="o">.</span><span class="n">queue_family_indices</span><span class="p">[</span><span class="s1">&#39;graphic&#39;</span><span class="p">],</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">CommandPoolCreate</span><span class="o">.</span><span class="n">TRANSIENT</span><span class="p">)</span>
        <span class="n">own_commandpool</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">commandbuffers</span> <span class="o">=</span> <span class="n">commandpool</span><span class="o">.</span><span class="n">allocate_buffers</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">CommandBufferLevel</span><span class="o">.</span><span class="n">PRIMARY</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">flags</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">CommandBufferUsage</span><span class="o">.</span><span class="n">ONE_TIME_SUBMIT</span>
        <span class="k">with</span> <span class="n">commandbuffers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">flags</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">cmd</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">submit</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkSubmitInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SUBMIT_INFO</span><span class="p">,</span>
            <span class="n">waitSemaphoreCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pWaitSemaphores</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pWaitDstStageMask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">commandBufferCount</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">pCommandBuffers</span><span class="o">=</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">commandbuffers</span><span class="p">],</span>
            <span class="n">signalSemaphoreCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pSignalSemaphores</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span>

        <span class="n">vk</span><span class="o">.</span><span class="n">vkQueueSubmit</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">graphic_queue</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">submit</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkQueueWaitIdle</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">graphic_queue</span><span class="p">)</span>
        <span class="n">commandpool</span><span class="o">.</span><span class="n">free_buffers</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandbuffers</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">own_commandpool</span><span class="p">:</span>
            <span class="n">commandpool</span><span class="o">.</span><span class="n">free</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.submit_to_graphic_queue">
    <p>def <span class="ident">submit_to_graphic_queue</span>(</p><p>context, submits)</p>
    </div>
    

    
  
    <div class="desc"><p>Convenient function to submit commands to graphic queue</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>submits</code>: <code>list</code> of <code>SubmitInfo</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.submit_to_graphic_queue', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.submit_to_graphic_queue" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">submit_to_graphic_queue</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">submits</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Convenient function to submit commands to graphic queue</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `submits`: `list` of `SubmitInfo`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">submit_to_queue</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">graphic_queue</span><span class="p">,</span> <span class="n">submits</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.submit_to_queue">
    <p>def <span class="ident">submit_to_queue</span>(</p><p>queue, submits)</p>
    </div>
    

    
  
    <div class="desc"><p>Submit commands to queue</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>queue</code>: <code>VkQueue</code></li>
<li><code>submits</code>: <code>list</code> of <code>SubmitInfo</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.submit_to_queue', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.submit_to_queue" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">submit_to_queue</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">submits</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Submit commands to queue</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `queue`: `VkQueue`</span>
<span class="sd">    - `submits`: `list` of `SubmitInfo`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_submits</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">submits</span><span class="p">:</span>
        <span class="n">wait_stages</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">wait_stages</span><span class="p">:</span>
            <span class="n">wait_stages</span> <span class="o">=</span> <span class="p">[</span><span class="n">st</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">wait_stages</span><span class="p">]</span>

        <span class="n">wait_semaphores</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">wait_semaphores</span><span class="p">:</span>
            <span class="n">wait_semaphores</span> <span class="o">=</span> <span class="p">[</span><span class="n">sem</span><span class="o">.</span><span class="n">semaphore</span> <span class="k">for</span> <span class="n">sem</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">wait_semaphores</span><span class="p">]</span>

        <span class="n">signal_semaphores</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">signal_semaphores</span><span class="p">:</span>
            <span class="n">signal_semaphores</span> <span class="o">=</span> <span class="p">[</span><span class="n">sem</span><span class="o">.</span><span class="n">semaphore</span> <span class="k">for</span> <span class="n">sem</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">signal_semaphores</span><span class="p">]</span>

        <span class="n">vk_submits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubmitInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SUBMIT_INFO</span><span class="p">,</span>
            <span class="n">waitSemaphoreCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">wait_semaphores</span><span class="p">),</span>
            <span class="n">pWaitSemaphores</span><span class="o">=</span><span class="n">wait_semaphores</span><span class="p">,</span>
            <span class="n">pWaitDstStageMask</span><span class="o">=</span><span class="n">wait_stages</span><span class="p">,</span>
            <span class="n">commandBufferCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">commandbuffers</span><span class="p">),</span>
            <span class="n">pCommandBuffers</span><span class="o">=</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">commandbuffers</span><span class="p">],</span>
            <span class="n">signalSemaphoreCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">signal_semaphores</span><span class="p">),</span>
            <span class="n">pSignalSemaphores</span><span class="o">=</span><span class="n">signal_semaphores</span>
        <span class="p">))</span>

    <span class="n">vk</span><span class="o">.</span><span class="n">vkQueueSubmit</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">vk_submits</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.update_descriptorsets">
    <p>def <span class="ident">update_descriptorsets</span>(</p><p>context, writes, copies)</p>
    </div>
    

    
  
    <div class="desc"><p>Update the contents of a descriptor set object</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>writes</code>: <code>list</code> of <code>WriteDescriptorSet</code></li>
<li><code>copies</code>: <code>list</code> of <code>CopyDescriptorSet</code></li>
</ul>

<p><strong>Todo: <code>copies</code> is unusable currently</strong>
<strong>Todo: Only <code>DescriptorBufferInfo</code> supported</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.update_descriptorsets', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.update_descriptorsets" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_descriptorsets</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">writes</span><span class="p">,</span> <span class="n">copies</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Update the contents of a descriptor set object</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `writes`: `list` of `WriteDescriptorSet`</span>
<span class="sd">    - `copies`: `list` of `CopyDescriptorSet`</span>

<span class="sd">    **Todo: `copies` is unusable currently**</span>
<span class="sd">    **Todo: Only `DescriptorBufferInfo` supported**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">get_type</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">descriptors</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;pImageInfo&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;pBufferInfo&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                  <span class="s1">&#39;pTexelBufferView&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>
        <span class="n">vk_descriptors</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_SAMPLER</span><span class="p">,</span>
                 <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER</span><span class="p">,</span>
                 <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_SAMPLED_IMAGE</span><span class="p">,</span>
                 <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_STORAGE_IMAGE</span><span class="p">,</span>
                 <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_INPUT_ATTACHMENT</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">:</span>
                <span class="n">vk_descriptors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorImageInfo</span><span class="p">(</span>
                    <span class="n">sampler</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">sampler</span><span class="o">.</span><span class="n">sampler</span><span class="p">,</span>
                    <span class="n">imageView</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">imageview</span><span class="p">,</span>
                    <span class="n">imageLayout</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">value</span>
                <span class="p">))</span>
            <span class="n">result</span><span class="p">[</span><span class="s1">&#39;pImageInfo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk_descriptors</span>

        <span class="k">elif</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_TEXEL_BUFFER</span><span class="p">,</span>
                   <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_STORAGE_TEXEL_BUFFER</span><span class="p">):</span>
            <span class="n">result</span><span class="p">[</span><span class="s1">&#39;pTexelBufferView&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">view</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER</span><span class="p">,</span>
                   <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER</span><span class="p">,</span>
                   <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_UNIFORM_BUFFER_DYNAMIC</span><span class="p">,</span>
                   <span class="n">vk</span><span class="o">.</span><span class="n">VK_DESCRIPTOR_TYPE_STORAGE_BUFFER_DYNAMIC</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">:</span>
                <span class="n">vk_descriptors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorBufferInfo</span><span class="p">(</span>
                    <span class="nb">buffer</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span>
                    <span class="n">offset</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span>
                    <span class="nb">range</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">range</span>
                <span class="p">))</span>
            <span class="n">result</span><span class="p">[</span><span class="s1">&#39;pBufferInfo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk_descriptors</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="n">vk_writes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">writes</span><span class="p">:</span>
        <span class="n">vk_writes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkWriteDescriptorSet</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_WRITE_DESCRIPTOR_SET</span><span class="p">,</span>
            <span class="n">dstSet</span><span class="o">=</span><span class="n">w</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">descriptorset</span><span class="p">,</span>
            <span class="n">dstBinding</span><span class="o">=</span><span class="n">w</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
            <span class="n">dstArrayElement</span><span class="o">=</span><span class="n">w</span><span class="o">.</span><span class="n">set_offset</span><span class="p">,</span>
            <span class="n">descriptorCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">descriptors</span><span class="p">),</span>
            <span class="n">descriptorType</span><span class="o">=</span><span class="n">w</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="o">**</span><span class="n">get_type</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">w</span><span class="o">.</span><span class="n">descriptors</span><span class="p">)</span>
        <span class="p">))</span>

    <span class="c1"># TODO: copies must be implemented</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkUpdateDescriptorSets</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">vk_writes</span><span class="p">),</span>
                              <span class="n">vk_writes</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">copies</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  

    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="vulk.vulkanobject.AttachmentDescription" class="name">class <span class="ident">AttachmentDescription</span></p>
      
  
    <div class="desc"><p>AttachmentDescription describes the attachment.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>format</code>: <code>Format</code> vulk constant</li>
<li><code>samples</code>: <code>SampleCount</code> vulk constant</li>
<li><code>load</code>: <code>AttachmentLoadOp</code> vulk constant</li>
<li><code>store</code>: <code>AttachmentStoreOp</code> vulk constant</li>
<li><code>stencil_load</code>: <code>AttachmentLoadOp</code> vulk constant</li>
<li><code>stencil_store</code>: <code>AttachmentStoreOp</code> vulk constant</li>
<li><code>initial_layout</code>: <code>ImageLayout</code> vulk constant</li>
<li><code>final_layout</code>: <code>ImageLayout</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.AttachmentDescription">AttachmentDescription</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.final_layout" class="name">var <span class="ident">final_layout</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 7</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.format" class="name">var <span class="ident">format</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.initial_layout" class="name">var <span class="ident">initial_layout</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 6</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.load" class="name">var <span class="ident">load</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.samples" class="name">var <span class="ident">samples</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.stencil_load" class="name">var <span class="ident">stencil_load</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.stencil_store" class="name">var <span class="ident">stencil_store</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.store" class="name">var <span class="ident">store</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.AttachmentReference" class="name">class <span class="ident">AttachmentReference</span></p>
      
  
    <div class="desc"><p>AttachmentReference links an attachment index with a layout.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>index</code>: Index of attachment description</li>
<li><code>layout</code>: <code>ImageLayout</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.AttachmentReference">AttachmentReference</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentReference.index" class="name">var <span class="ident">index</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentReference.layout" class="name">var <span class="ident">layout</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Buffer" class="name">class <span class="ident">Buffer</span></p>
      
  
    <div class="desc"><p><code>Buffer</code> wrap a <code>VkBuffer</code> and a <code>VkMemory</code></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Buffer', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Buffer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Buffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `Buffer` wrap a `VkBuffer` and a `VkMemory`</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span>
                 <span class="n">queue_families</span><span class="p">,</span> <span class="n">memory_properties</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a new buffer</span>

<span class="sd">        Creating a buffer is made of several steps:</span>

<span class="sd">        - Create the buffer</span>
<span class="sd">        - Allocate the memory</span>
<span class="sd">        - Bind the memory to the buffer</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `flags`: `BufferCreate` vulk constant</span>
<span class="sd">        - `size`: Buffer size in bytes</span>
<span class="sd">        - `usage`: `BufferUsage` vulk constant</span>
<span class="sd">        - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not</span>
<span class="sd">                            `CONCURRENT`) (can be [])</span>
<span class="sd">        - `memory_properties`: `MemoryProperty` vulk constant</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">=</span> <span class="n">memory_properties</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>

        <span class="c1"># Create VkBuffer</span>
        <span class="n">buffer_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkBufferCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">usage</span><span class="o">=</span><span class="n">usage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">sharingMode</span><span class="o">=</span><span class="n">sharing_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">queueFamilyIndexCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">queue_families</span><span class="p">),</span>
            <span class="n">pQueueFamilyIndices</span><span class="o">=</span><span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateBuffer</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">buffer_create</span><span class="p">)</span>

        <span class="c1"># Get memory requirements</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetBufferMemoryRequirements</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                        <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span><span class="p">)</span>

        <span class="n">alloc_info</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkMemoryAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">allocationSize</span><span class="o">=</span><span class="n">requirements</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">memoryTypeIndex</span><span class="o">=</span><span class="n">find_memory_type</span><span class="p">(</span>
                <span class="n">context</span><span class="p">,</span>
                <span class="n">requirements</span><span class="o">.</span><span class="n">memoryTypeBits</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Create memory</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">alloc_info</span><span class="p">)</span>

        <span class="c1"># Bind device memory to the buffer</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkBindBufferMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">dst_buffer</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy this buffer to the destination buffer.</span>
<span class="sd">        Commands to copy are registered in the commandbuffer but it&#39;s up to</span>
<span class="sd">        you to start and submit the command buffer to the execution queue.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `cmd`: `CommandBufferRegister` used to register commands</span>
<span class="sd">        - `dst_buffer`: Destination `Buffer`</span>

<span class="sd">        **Note: Buffers must have the same size**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">!=</span> <span class="n">dst_buffer</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Buffers must have the same size&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">region</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkBufferCopy</span><span class="p">(</span>
            <span class="n">srcOffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">dstOffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span>
        <span class="p">)</span>

        <span class="n">cmd</span><span class="o">.</span><span class="n">copy_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dst_buffer</span><span class="p">,</span> <span class="p">[</span><span class="n">region</span><span class="p">])</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Map this buffer to upload data in it.</span>
<span class="sd">        This function is a context manager and must be called with `with`.</span>
<span class="sd">        It return a python buffer and let you do what you want with it,</span>
<span class="sd">        be careful!</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>

<span class="sd">        **Warning: Buffer memory must be host visible**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">compatible_memories</span> <span class="o">=</span> <span class="p">{</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</span><span class="p">,</span>
                               <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</span><span class="p">,</span>
                               <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_CACHED_BIT</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">&amp;</span> <span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">compatible_memories</span><span class="p">]):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t map this buffer, memory must be host visible&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkMapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">data</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkUnmapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Buffer">Buffer</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Buffer.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, flags, size, usage, sharing_mode, queue_families, memory_properties)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a new buffer</p>

<p>Creating a buffer is made of several steps:</p>

<ul>
<li>Create the buffer</li>
<li>Allocate the memory</li>
<li>Bind the memory to the buffer</li>
</ul>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>flags</code>: <code>BufferCreate</code> vulk constant</li>
<li><code>size</code>: Buffer size in bytes</li>
<li><code>usage</code>: <code>BufferUsage</code> vulk constant</li>
<li><code>sharing_mode</code>: <code>SharingMode</code> vulk constant</li>
<li><code>queue_families</code>: List of queue families accessing this image
                (ignored if sharingMode is not
                <code>CONCURRENT</code>) (can be [])</li>
<li><code>memory_properties</code>: <code>MemoryProperty</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Buffer.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Buffer.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span>
             <span class="n">queue_families</span><span class="p">,</span> <span class="n">memory_properties</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Create a new buffer</span>
<span class="sd">    Creating a buffer is made of several steps:</span>
<span class="sd">    - Create the buffer</span>
<span class="sd">    - Allocate the memory</span>
<span class="sd">    - Bind the memory to the buffer</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `flags`: `BufferCreate` vulk constant</span>
<span class="sd">    - `size`: Buffer size in bytes</span>
<span class="sd">    - `usage`: `BufferUsage` vulk constant</span>
<span class="sd">    - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">    - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                        (ignored if sharingMode is not</span>
<span class="sd">                        `CONCURRENT`) (can be [])</span>
<span class="sd">    - `memory_properties`: `MemoryProperty` vulk constant</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">=</span> <span class="n">memory_properties</span><span class="o">.</span><span class="n">value</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
    <span class="c1"># Create VkBuffer</span>
    <span class="n">buffer_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkBufferCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="n">usage</span><span class="o">=</span><span class="n">usage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">sharingMode</span><span class="o">=</span><span class="n">sharing_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">queueFamilyIndexCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">queue_families</span><span class="p">),</span>
        <span class="n">pQueueFamilyIndices</span><span class="o">=</span><span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="bp">None</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateBuffer</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">buffer_create</span><span class="p">)</span>
    <span class="c1"># Get memory requirements</span>
    <span class="n">requirements</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetBufferMemoryRequirements</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span><span class="p">)</span>
    <span class="n">alloc_info</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkMemoryAllocateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="p">,</span>
        <span class="n">allocationSize</span><span class="o">=</span><span class="n">requirements</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="n">memoryTypeIndex</span><span class="o">=</span><span class="n">find_memory_type</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">.</span><span class="n">memoryTypeBits</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># Create memory</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">alloc_info</span><span class="p">)</span>
    <span class="c1"># Bind device memory to the buffer</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkBindBufferMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Buffer.bind">
    <p>def <span class="ident">bind</span>(</p><p>*args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Map this buffer to upload data in it.
This function is a context manager and must be called with <code>with</code>.
It return a python buffer and let you do what you want with it,
be careful!</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
</ul>

<p><strong>Warning: Buffer memory must be host visible</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Buffer.bind', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Buffer.bind" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Map this buffer to upload data in it.</span>
<span class="sd">    This function is a context manager and must be called with `with`.</span>
<span class="sd">    It return a python buffer and let you do what you want with it,</span>
<span class="sd">    be careful!</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    **Warning: Buffer memory must be host visible**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">compatible_memories</span> <span class="o">=</span> <span class="p">{</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</span><span class="p">,</span>
                           <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</span><span class="p">,</span>
                           <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_CACHED_BIT</span><span class="p">}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">&amp;</span> <span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">compatible_memories</span><span class="p">]):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t map this buffer, memory must be host visible&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkMapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                              <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">data</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkUnmapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Buffer.copy_to">
    <p>def <span class="ident">copy_to</span>(</p><p>self, cmd, dst_buffer)</p>
    </div>
    

    
  
    <div class="desc"><p>Copy this buffer to the destination buffer.
Commands to copy are registered in the commandbuffer but it's up to
you to start and submit the command buffer to the execution queue.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>cmd</code>: <code>CommandBufferRegister</code> used to register commands</li>
<li><code>dst_buffer</code>: Destination <code>Buffer</code></li>
</ul>

<p><strong>Note: Buffers must have the same size</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Buffer.copy_to', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Buffer.copy_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">copy_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">dst_buffer</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Copy this buffer to the destination buffer.</span>
<span class="sd">    Commands to copy are registered in the commandbuffer but it&#39;s up to</span>
<span class="sd">    you to start and submit the command buffer to the execution queue.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `cmd`: `CommandBufferRegister` used to register commands</span>
<span class="sd">    - `dst_buffer`: Destination `Buffer`</span>
<span class="sd">    **Note: Buffers must have the same size**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">!=</span> <span class="n">dst_buffer</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Buffers must have the same size&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">region</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkBufferCopy</span><span class="p">(</span>
        <span class="n">srcOffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">dstOffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span>
    <span class="p">)</span>
    <span class="n">cmd</span><span class="o">.</span><span class="n">copy_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dst_buffer</span><span class="p">,</span> <span class="p">[</span><span class="n">region</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Buffer.buffer" class="name">var <span class="ident">buffer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Buffer.memory" class="name">var <span class="ident">memory</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Buffer.memory_properties" class="name">var <span class="ident">memory_properties</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Buffer.size" class="name">var <span class="ident">size</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.ClearColorValue" class="name">class <span class="ident">ClearColorValue</span></p>
      
  
    <div class="desc"><p>ClearValue for color clearing</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ClearColorValue', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ClearColorValue" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ClearColorValue</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ClearValue for color clearing&#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">float32</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">uint32</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">int32</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Take only one value depending on the type you want.</span>
<span class="sd">        `list` must be of size 4.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `float32`: Type `float`</span>
<span class="sd">        - `uint32`: Type `uint`</span>
<span class="sd">        - `int32`: Type `int`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">float32</span><span class="p">,</span> <span class="n">uint32</span><span class="p">,</span> <span class="n">int32</span><span class="p">)</span>

        <span class="c1"># Set to list</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">v</span>

        <span class="c1"># Check that only one value is set</span>
        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">if</span> <span class="n">i</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only one value in [float32, uint32, int32] must be given&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Check size of value (must be 4)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">([</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">if</span> <span class="n">t</span><span class="p">])))</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Value must be a list of 4 elements&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">float32</span><span class="p">:</span>
            <span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearColorValue</span><span class="p">(</span><span class="n">float32</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">uint32</span><span class="p">:</span>
            <span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearColorValue</span><span class="p">(</span><span class="n">uint32</span><span class="o">=</span><span class="n">uint32</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">int32</span><span class="p">:</span>
            <span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearColorValue</span><span class="p">(</span><span class="n">int32</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">clear</span> <span class="o">=</span> <span class="n">clear</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.ClearColorValue">ClearColorValue</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.ClearColorValue.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, float32=None, uint32=None, int32=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Take only one value depending on the type you want.
<code>list</code> must be of size 4.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>float32</code>: Type <code>float</code></li>
<li><code>uint32</code>: Type <code>uint</code></li>
<li><code>int32</code>: Type <code>int</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ClearColorValue.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ClearColorValue.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">float32</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">uint32</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">int32</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Take only one value depending on the type you want.</span>
<span class="sd">    `list` must be of size 4.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `float32`: Type `float`</span>
<span class="sd">    - `uint32`: Type `uint`</span>
<span class="sd">    - `int32`: Type `int`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">float32</span><span class="p">,</span> <span class="n">uint32</span><span class="p">,</span> <span class="n">int32</span><span class="p">)</span>
    <span class="c1"># Set to list</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">v</span>
    <span class="c1"># Check that only one value is set</span>
    <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">if</span> <span class="n">i</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Only one value in [float32, uint32, int32] must be given&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="c1"># Check size of value (must be 4)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">([</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">if</span> <span class="n">t</span><span class="p">])))</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Value must be a list of 4 elements&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">float32</span><span class="p">:</span>
        <span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearColorValue</span><span class="p">(</span><span class="n">float32</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">uint32</span><span class="p">:</span>
        <span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearColorValue</span><span class="p">(</span><span class="n">uint32</span><span class="o">=</span><span class="n">uint32</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">int32</span><span class="p">:</span>
        <span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearColorValue</span><span class="p">(</span><span class="n">int32</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clear</span> <span class="o">=</span> <span class="n">clear</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.ClearColorValue.clear" class="name">var <span class="ident">clear</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.ClearDepthStencilValue" class="name">class <span class="ident">ClearDepthStencilValue</span></p>
      
  
    <div class="desc"><p>ClearValue for depth and stencil clearing</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ClearDepthStencilValue', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ClearDepthStencilValue" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ClearDepthStencilValue</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ClearValue for depth and stencil clearing&#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">stencil</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `depth`: Value in [0.0, 1.0]</span>
<span class="sd">        - `stencil`; `int` value</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearDepthStencilValue</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="n">depth</span><span class="p">,</span> <span class="n">stencil</span><span class="o">=</span><span class="n">stencil</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.ClearDepthStencilValue">ClearDepthStencilValue</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.ClearDepthStencilValue.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, depth, stencil)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>depth</code>: Value in [0.0, 1.0]</li>
<li><code>stencil</code>; <code>int</code> value</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ClearDepthStencilValue.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ClearDepthStencilValue.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">stencil</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `depth`: Value in [0.0, 1.0]</span>
<span class="sd">    - `stencil`; `int` value</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clear</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkClearDepthStencilValue</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="n">depth</span><span class="p">,</span> <span class="n">stencil</span><span class="o">=</span><span class="n">stencil</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.ClearDepthStencilValue.clear" class="name">var <span class="ident">clear</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.CommandBuffer" class="name">class <span class="ident">CommandBuffer</span></p>
      
  
    <div class="desc"><p>Commands in Vulkan, like drawing operations and memory transfers, are not
executed directly using function calls. You have to record all of the
operations you want to perform in command buffer objects. The advantage of
this is that all of the hard work of setting up the drawing commands can
be done in advance and in multiple threads. After that, you just have to
tell Vulkan to execute the commands in the main loop.</p>

<p>Commands are executed directly from the <code>CommandBufferRegister</code> subclass.
The naming convention is simple:
<code>vkCmd[CommandName]</code> becomes <code>command_name</code></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBuffer', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBuffer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">CommandBuffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Commands in Vulkan, like drawing operations and memory transfers, are not</span>
<span class="sd">    executed directly using function calls. You have to record all of the</span>
<span class="sd">    operations you want to perform in command buffer objects. The advantage of</span>
<span class="sd">    this is that all of the hard work of setting up the drawing commands can</span>
<span class="sd">    be done in advance and in multiple threads. After that, you just have to</span>
<span class="sd">    tell Vulkan to execute the commands in the main loop.</span>

<span class="sd">    Commands are executed directly from the `CommandBufferRegister` subclass.</span>
<span class="sd">    The naming convention is simple:</span>
<span class="sd">    `vkCmd[CommandName]` becomes `command_name`</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commandbuffer</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        This object must be initialized with an existing `VkCommandBuffer`</span>
<span class="sd">        because it is generated from `CommandPool`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `commandbuffer`: `VkCommandBuffer`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="o">=</span> <span class="n">commandbuffer</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">CommandBufferUsage</span><span class="o">.</span><span class="n">NONE</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Bind this buffer to register command.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `flags`: `CommandBufferUsage` vulk constant, default to 0</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        `CommandBufferRegister` object</span>

<span class="sd">        ``</span>

<span class="sd">        **Todo: `pInheritanceInfo` must be implemented**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">commandbuffer_begin_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkCommandBufferBeginInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">pInheritanceInfo</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkBeginCommandBuffer</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span>
                <span class="n">commandbuffer_begin_create</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">CommandBufferRegister</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkEndCommandBuffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.CommandBuffer">CommandBuffer</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBuffer.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, commandbuffer)</p>
    </div>
    

    
  
    <div class="desc"><p>This object must be initialized with an existing <code>VkCommandBuffer</code>
because it is generated from <code>CommandPool</code>.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>commandbuffer</code>: <code>VkCommandBuffer</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBuffer.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBuffer.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commandbuffer</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This object must be initialized with an existing `VkCommandBuffer`</span>
<span class="sd">    because it is generated from `CommandPool`.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `commandbuffer`: `VkCommandBuffer`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="o">=</span> <span class="n">commandbuffer</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBuffer.bind">
    <p>def <span class="ident">bind</span>(</p><p>*args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Bind this buffer to register command.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>flags</code>: <code>CommandBufferUsage</code> vulk constant, default to 0</li>
</ul>

<p><em>Returns:</em></p>

<p><code>CommandBufferRegister</code> object</p>

<p>``</p>

<p><strong>Todo: <code>pInheritanceInfo</code> must be implemented</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBuffer.bind', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBuffer.bind" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">CommandBufferUsage</span><span class="o">.</span><span class="n">NONE</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Bind this buffer to register command.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `flags`: `CommandBufferUsage` vulk constant, default to 0</span>
<span class="sd">    *Returns:*</span>
<span class="sd">    `CommandBufferRegister` object</span>
<span class="sd">    ``</span>
<span class="sd">    **Todo: `pInheritanceInfo` must be implemented**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">commandbuffer_begin_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkCommandBufferBeginInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">pInheritanceInfo</span><span class="o">=</span><span class="bp">None</span>
    <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkBeginCommandBuffer</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span>
            <span class="n">commandbuffer_begin_create</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">CommandBufferRegister</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkEndCommandBuffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.CommandBuffer.commandbuffer" class="name">var <span class="ident">commandbuffer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.CommandBufferRegister" class="name">class <span class="ident">CommandBufferRegister</span></p>
      
  
    <div class="desc"><p>Allow to call command on command buffer.
<code>CommandBufferRegister</code> is not in charge of begin and end the command
buffer. You should not use it directly but with <code>bind</code> method of
<code>CommandBuffer</code>.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">CommandBufferRegister</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Allow to call command on command buffer.</span>
<span class="sd">    `CommandBufferRegister` is not in charge of begin and end the command</span>
<span class="sd">    buffer. You should not use it directly but with `bind` method of</span>
<span class="sd">    `CommandBuffer`.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commandbuffer</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `commandbuffer`: The `VkCommandBuffer`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="o">=</span> <span class="n">commandbuffer</span>

    <span class="k">def</span> <span class="nf">begin_renderpass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">,</span> <span class="n">framebuffer</span><span class="p">,</span> <span class="n">renderarea</span><span class="p">,</span>
                         <span class="n">clears</span><span class="p">,</span> <span class="n">contents</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">SubpassContents</span><span class="o">.</span><span class="n">INLINE</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Begin a new renderpass</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `renderpass`: The `RenderPass` to begin an instance of</span>
<span class="sd">        - `framebuffer`: The `Framebuffer` containing the attachments that</span>
<span class="sd">                         are used with the render pass</span>
<span class="sd">        - `renderarea`: `Rect2D` size to render</span>
<span class="sd">        - `clears`:  `list` of `ClearValue` for each `Framebuffer`</span>
<span class="sd">        - `contents`: `SubpassContents` vulk constant (default: `INLINE`)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_renderarea</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRect2D</span><span class="p">(</span>
            <span class="n">offset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset2D</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="p">),</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkExtent2D</span><span class="p">(</span>
                <span class="n">width</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                <span class="n">height</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">vk_clearvalues</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clears</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">ClearColorValue</span><span class="p">):</span>
                <span class="n">vk_clearvalues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkClearValue</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">clear</span><span class="p">))</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">ClearDepthStencilValue</span><span class="p">):</span>
                <span class="n">vk_clearvalues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkClearValue</span><span class="p">(</span><span class="n">depthStencil</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">clear</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unknown clear value&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">renderpass_begin</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRenderPassBeginInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">framebuffer</span><span class="o">=</span><span class="n">framebuffer</span><span class="o">.</span><span class="n">framebuffer</span><span class="p">,</span>
            <span class="n">renderArea</span><span class="o">=</span><span class="n">vk_renderarea</span><span class="p">,</span>
            <span class="n">clearValueCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_clearvalues</span><span class="p">),</span>
            <span class="n">pClearValues</span><span class="o">=</span><span class="n">vk_clearvalues</span>
        <span class="p">)</span>

        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBeginRenderPass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">renderpass_begin</span><span class="p">,</span>
                                <span class="n">contents</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_descriptor_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layout</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">descriptors</span><span class="p">,</span> <span class="n">offsets</span><span class="p">,</span>
                             <span class="n">bind_point</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">PipelineBindPoint</span><span class="o">.</span><span class="n">GRAPHICS</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Binds descriptor sets to this `CommandBuffer`</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `layout`: `PipelineLayout`</span>
<span class="sd">        - `first`: Number of the first descriptor set to be bound</span>
<span class="sd">        - `descriptors`: `list` of `DescriptorSet`</span>
<span class="sd">        - `offsets`: `list` of dynamic offsets</span>
<span class="sd">        - `bind_point`: `PipelineBindPoint` vulk constant (default: GRAPHICS)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_descriptors</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">descriptorset</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">]</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindDescriptorSets</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">bind_point</span><span class="p">,</span> <span class="n">layout</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">vk_descriptors</span><span class="p">),</span> <span class="n">vk_descriptors</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">offsets</span><span class="p">),</span>
            <span class="n">offsets</span> <span class="k">if</span> <span class="n">offsets</span> <span class="k">else</span> <span class="bp">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span>
                      <span class="n">bind_point</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">PipelineBindPoint</span><span class="o">.</span><span class="n">GRAPHICS</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Bind the pipeline to this `CommandBuffer`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `pipeline`: The `Pipeline` to bind</span>
<span class="sd">        - `bind_point`: `PipelineBindPoint` vulk constant (default: GRAPHICS)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindPipeline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">bind_point</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_vertex_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">buffers</span><span class="p">,</span> <span class="n">offsets</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Bind vertex buffers to a command buffer</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `first`: Index of the first vertex input binding</span>
<span class="sd">        - `count`: Number of vertex input bindings</span>
<span class="sd">        - `buffers`: `list` of `Buffer`</span>
<span class="sd">        - `offsets`: `list` of offset (`int`)</span>

<span class="sd">        **Note: I don&#39;t understand what is the point with offset but you</span>
<span class="sd">                must pass an array of the same size as `buffers`.**</span>

<span class="sd">        **Note: Generally, `count = len(buffers)` and `first = 0`**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindVertexBuffers</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span>
                                  <span class="p">[</span><span class="n">b</span><span class="o">.</span><span class="n">buffer</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buffers</span><span class="p">],</span> <span class="n">offsets</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_index_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">buffer</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">index_type</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Bind an index buffer to a command buffer</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `buffer`: Index `Buffer`</span>
<span class="sd">        - `offset`: Offset (`int`)</span>
<span class="sd">        - `index_type`: `IndexType` vulk constant</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindIndexBuffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="nb">buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span>
                                <span class="n">index_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertex_count</span><span class="p">,</span> <span class="n">first_vertex</span><span class="p">,</span>
             <span class="n">instance_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">first_instance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Draw the vertice buffer.</span>

<span class="sd">        When the command is executed, primitives are assembled using the</span>
<span class="sd">        current primitive topology and vertexCount consecutive vertex</span>
<span class="sd">        indices with the first vertexIndex value equal to firstVertex.</span>
<span class="sd">        The primitives are drawn instanceCount times with instanceIndex</span>
<span class="sd">        starting with firstInstance and increasing sequentially for each</span>
<span class="sd">        instance. The assembled primitives execute the currently bound</span>
<span class="sd">        graphics pipeline.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `vertex_count`: Number of vertices to draw</span>
<span class="sd">        - `first_vertex`: Index of the first vertex to draw</span>
<span class="sd">        - `instance_count`: Number of instance to draw (default: 1)</span>
<span class="sd">        - `first_instance`: First instance to draw (default: 0)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdDraw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">vertex_count</span><span class="p">,</span> <span class="n">instance_count</span><span class="p">,</span>
                     <span class="n">first_vertex</span><span class="p">,</span> <span class="n">first_instance</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">draw_indexed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_count</span><span class="p">,</span> <span class="n">first_index</span><span class="p">,</span> <span class="n">vertex_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">instance_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">first_instance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Draw the index buffer.</span>

<span class="sd">        When the command is executed, primitives are assembled using the</span>
<span class="sd">        current primitive topology and indexCount vertices whose indices are</span>
<span class="sd">        retrieved from the index buffer. The index buffer is treated as an</span>
<span class="sd">        array of tightly packed unsigned integers of size defined by the</span>
<span class="sd">        vkCmdBindIndexBuffer::indexType parameter with which the buffer</span>
<span class="sd">        was bound.</span>

<span class="sd">        The first vertex index is at an offset of</span>
<span class="sd">        firstIndex * indexSize + offset within the currently bound index</span>
<span class="sd">        buffer, where offset is the offset specified by vkCmdBindIndexBuffer</span>
<span class="sd">        and indexSize is the byte size of the type specified by indexType.</span>
<span class="sd">        Subsequent index values are retrieved from consecutive locations in</span>
<span class="sd">        the index buffer. Indices are first compared to the primitive restart</span>
<span class="sd">        value, then zero extended to 32 bits</span>
<span class="sd">        (if the indexType is VK_INDEX_TYPE_UINT16) and have vertexOffset added</span>
<span class="sd">        to them, before being supplied as the vertexIndex value.</span>

<span class="sd">        The primitives are drawn instanceCount times with instanceIndex</span>
<span class="sd">        starting with firstInstance and increasing sequentially for each</span>
<span class="sd">        instance. The assembled primitives execute the currently bound</span>
<span class="sd">        graphics pipeline.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `index_count`: Number of vertices to draw</span>
<span class="sd">        - `first_index`: Base index within the index buffer</span>
<span class="sd">        - `vertex_offset`: Value added to the vertex index before indexing</span>
<span class="sd">                           into the vertex buffer (default: 0)</span>
<span class="sd">        - `instance_count`: Number of instance to draw (default: 1)</span>
<span class="sd">        - `first_instance`: First instance to draw (default: 0)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdDrawIndexed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">index_count</span><span class="p">,</span> <span class="n">instance_count</span><span class="p">,</span>
                            <span class="n">first_index</span><span class="p">,</span> <span class="n">vertex_offset</span><span class="p">,</span> <span class="n">first_instance</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pipeline_barrier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_stage</span><span class="p">,</span> <span class="n">dst_stage</span><span class="p">,</span> <span class="n">dependency</span><span class="p">,</span> <span class="n">memories</span><span class="p">,</span>
                         <span class="n">buffers</span><span class="p">,</span> <span class="n">images</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Insert a memory dependency</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `src_stage`: `PipelineStage` vulk constant</span>
<span class="sd">        - `dst_stage`: `PipelineStage` vulk constant</span>
<span class="sd">        - `dependency`: `Dependency` vulk constant</span>
<span class="sd">        - `memories`: `list` of `VkMemoryBarrier` Vulkan objects</span>
<span class="sd">        - `buffers`: `list` of `VkBufferMemoryBarrier` Vulkan objects</span>
<span class="sd">        - `images`: `list` of `VkImageMemoryBarrier` Vulkan objects</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_memories</span> <span class="o">=</span> <span class="n">memories</span> <span class="k">if</span> <span class="n">memories</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="n">vk_buffers</span> <span class="o">=</span> <span class="n">buffers</span> <span class="k">if</span> <span class="n">buffers</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="n">vk_images</span> <span class="o">=</span> <span class="n">images</span> <span class="k">if</span> <span class="n">images</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdPipelineBarrier</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">src_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">dst_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dependency</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">memories</span><span class="p">),</span> <span class="n">vk_memories</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buffers</span><span class="p">),</span>
            <span class="n">vk_buffers</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">images</span><span class="p">),</span> <span class="n">vk_images</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_image</span><span class="p">,</span> <span class="n">src_layout</span><span class="p">,</span> <span class="n">dst_image</span><span class="p">,</span>
                   <span class="n">dst_layout</span><span class="p">,</span> <span class="n">regions</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy data between images</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `src_image`: `Image`</span>
<span class="sd">        - `src_layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `dst_image`: `Image`</span>
<span class="sd">        - `dst_layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `regions`: `list` of `VkImageCopy`</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdCopyImage</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">src_image</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="n">src_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dst_image</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="n">dst_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">regions</span><span class="p">),</span> <span class="n">regions</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_buffer</span><span class="p">,</span> <span class="n">dst_buffer</span><span class="p">,</span> <span class="n">regions</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy data between buffers</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `src_buffer`: `Buffer`</span>
<span class="sd">        - `dst_buffer`: `Buffer`</span>
<span class="sd">        - `regions`: `list` of `VkBufferCopy`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdCopyBuffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">src_buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span>
                           <span class="n">dst_buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">regions</span><span class="p">),</span> <span class="n">regions</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">end_renderpass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;End the current render pass&#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdEndRenderPass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.CommandBufferRegister">CommandBufferRegister</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, commandbuffer)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>commandbuffer</code>: The <code>VkCommandBuffer</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commandbuffer</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `commandbuffer`: The `VkCommandBuffer`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="o">=</span> <span class="n">commandbuffer</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.begin_renderpass">
    <p>def <span class="ident">begin_renderpass</span>(</p><p>self, renderpass, framebuffer, renderarea, clears, contents=&lt;SubpassContents.INLINE: 1&gt;)</p>
    </div>
    

    
  
    <div class="desc"><p>Begin a new renderpass</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>renderpass</code>: The <code>RenderPass</code> to begin an instance of</li>
<li><code>framebuffer</code>: The <code>Framebuffer</code> containing the attachments that
             are used with the render pass</li>
<li><code>renderarea</code>: <code>Rect2D</code> size to render</li>
<li><code>clears</code>:  <code>list</code> of <code>ClearValue</code> for each <code>Framebuffer</code></li>
<li><code>contents</code>: <code>SubpassContents</code> vulk constant (default: <code>INLINE</code>)</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.begin_renderpass', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.begin_renderpass" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">begin_renderpass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">,</span> <span class="n">framebuffer</span><span class="p">,</span> <span class="n">renderarea</span><span class="p">,</span>
                     <span class="n">clears</span><span class="p">,</span> <span class="n">contents</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">SubpassContents</span><span class="o">.</span><span class="n">INLINE</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Begin a new renderpass</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `renderpass`: The `RenderPass` to begin an instance of</span>
<span class="sd">    - `framebuffer`: The `Framebuffer` containing the attachments that</span>
<span class="sd">                     are used with the render pass</span>
<span class="sd">    - `renderarea`: `Rect2D` size to render</span>
<span class="sd">    - `clears`:  `list` of `ClearValue` for each `Framebuffer`</span>
<span class="sd">    - `contents`: `SubpassContents` vulk constant (default: `INLINE`)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_renderarea</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRect2D</span><span class="p">(</span>
        <span class="n">offset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset2D</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
            <span class="n">y</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="p">),</span>
        <span class="n">extent</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkExtent2D</span><span class="p">(</span>
            <span class="n">width</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">renderarea</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">vk_clearvalues</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clears</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">ClearColorValue</span><span class="p">):</span>
            <span class="n">vk_clearvalues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkClearValue</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">clear</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">ClearDepthStencilValue</span><span class="p">):</span>
            <span class="n">vk_clearvalues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkClearValue</span><span class="p">(</span><span class="n">depthStencil</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">clear</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unknown clear value&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">renderpass_begin</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRenderPassBeginInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO</span><span class="p">,</span>
        <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
        <span class="n">framebuffer</span><span class="o">=</span><span class="n">framebuffer</span><span class="o">.</span><span class="n">framebuffer</span><span class="p">,</span>
        <span class="n">renderArea</span><span class="o">=</span><span class="n">vk_renderarea</span><span class="p">,</span>
        <span class="n">clearValueCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_clearvalues</span><span class="p">),</span>
        <span class="n">pClearValues</span><span class="o">=</span><span class="n">vk_clearvalues</span>
    <span class="p">)</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBeginRenderPass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">renderpass_begin</span><span class="p">,</span>
                            <span class="n">contents</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.bind_descriptor_sets">
    <p>def <span class="ident">bind_descriptor_sets</span>(</p><p>self, layout, first, descriptors, offsets, bind_point=&lt;PipelineBindPoint.GRAPHICS: 1&gt;)</p>
    </div>
    

    
  
    <div class="desc"><p>Binds descriptor sets to this <code>CommandBuffer</code></p>

<p><em>Parameters:</em></p>

<ul>
<li><code>layout</code>: <code>PipelineLayout</code></li>
<li><code>first</code>: Number of the first descriptor set to be bound</li>
<li><code>descriptors</code>: <code>list</code> of <code>DescriptorSet</code></li>
<li><code>offsets</code>: <code>list</code> of dynamic offsets</li>
<li><code>bind_point</code>: <code>PipelineBindPoint</code> vulk constant (default: GRAPHICS)</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.bind_descriptor_sets', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.bind_descriptor_sets" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">bind_descriptor_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layout</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">descriptors</span><span class="p">,</span> <span class="n">offsets</span><span class="p">,</span>
                         <span class="n">bind_point</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">PipelineBindPoint</span><span class="o">.</span><span class="n">GRAPHICS</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Binds descriptor sets to this `CommandBuffer`</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `layout`: `PipelineLayout`</span>
<span class="sd">    - `first`: Number of the first descriptor set to be bound</span>
<span class="sd">    - `descriptors`: `list` of `DescriptorSet`</span>
<span class="sd">    - `offsets`: `list` of dynamic offsets</span>
<span class="sd">    - `bind_point`: `PipelineBindPoint` vulk constant (default: GRAPHICS)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_descriptors</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">descriptorset</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">]</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindDescriptorSets</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">bind_point</span><span class="p">,</span> <span class="n">layout</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">vk_descriptors</span><span class="p">),</span> <span class="n">vk_descriptors</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">offsets</span><span class="p">),</span>
        <span class="n">offsets</span> <span class="k">if</span> <span class="n">offsets</span> <span class="k">else</span> <span class="bp">None</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.bind_index_buffer">
    <p>def <span class="ident">bind_index_buffer</span>(</p><p>self, buffer, offset, index_type)</p>
    </div>
    

    
  
    <div class="desc"><p>Bind an index buffer to a command buffer</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>buffer</code>: Index <code>Buffer</code></li>
<li><code>offset</code>: Offset (<code>int</code>)</li>
<li><code>index_type</code>: <code>IndexType</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.bind_index_buffer', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.bind_index_buffer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">bind_index_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">buffer</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">index_type</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Bind an index buffer to a command buffer</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `buffer`: Index `Buffer`</span>
<span class="sd">    - `offset`: Offset (`int`)</span>
<span class="sd">    - `index_type`: `IndexType` vulk constant</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindIndexBuffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="nb">buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span>
                            <span class="n">index_type</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.bind_pipeline">
    <p>def <span class="ident">bind_pipeline</span>(</p><p>self, pipeline, bind_point=&lt;PipelineBindPoint.GRAPHICS: 1&gt;)</p>
    </div>
    

    
  
    <div class="desc"><p>Bind the pipeline to this <code>CommandBuffer</code>.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>pipeline</code>: The <code>Pipeline</code> to bind</li>
<li><code>bind_point</code>: <code>PipelineBindPoint</code> vulk constant (default: GRAPHICS)</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.bind_pipeline', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.bind_pipeline" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">bind_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span>
                  <span class="n">bind_point</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">PipelineBindPoint</span><span class="o">.</span><span class="n">GRAPHICS</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Bind the pipeline to this `CommandBuffer`.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `pipeline`: The `Pipeline` to bind</span>
<span class="sd">    - `bind_point`: `PipelineBindPoint` vulk constant (default: GRAPHICS)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindPipeline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">bind_point</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">pipeline</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.bind_vertex_buffers">
    <p>def <span class="ident">bind_vertex_buffers</span>(</p><p>self, first, count, buffers, offsets)</p>
    </div>
    

    
  
    <div class="desc"><p>Bind vertex buffers to a command buffer</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>first</code>: Index of the first vertex input binding</li>
<li><code>count</code>: Number of vertex input bindings</li>
<li><code>buffers</code>: <code>list</code> of <code>Buffer</code></li>
<li><code>offsets</code>: <code>list</code> of offset (<code>int</code>)</li>
</ul>

<p><strong>Note: I don't understand what is the point with offset but you
        must pass an array of the same size as <code>buffers</code>.</strong></p>

<p><strong>Note: Generally, <code>count = len(buffers)</code> and <code>first = 0</code></strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.bind_vertex_buffers', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.bind_vertex_buffers" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">bind_vertex_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">buffers</span><span class="p">,</span> <span class="n">offsets</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Bind vertex buffers to a command buffer</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `first`: Index of the first vertex input binding</span>
<span class="sd">    - `count`: Number of vertex input bindings</span>
<span class="sd">    - `buffers`: `list` of `Buffer`</span>
<span class="sd">    - `offsets`: `list` of offset (`int`)</span>
<span class="sd">    **Note: I don&#39;t understand what is the point with offset but you</span>
<span class="sd">            must pass an array of the same size as `buffers`.**</span>
<span class="sd">    **Note: Generally, `count = len(buffers)` and `first = 0`**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdBindVertexBuffers</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span>
                              <span class="p">[</span><span class="n">b</span><span class="o">.</span><span class="n">buffer</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buffers</span><span class="p">],</span> <span class="n">offsets</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.copy_buffer">
    <p>def <span class="ident">copy_buffer</span>(</p><p>self, src_buffer, dst_buffer, regions)</p>
    </div>
    

    
  
    <div class="desc"><p>Copy data between buffers</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>src_buffer</code>: <code>Buffer</code></li>
<li><code>dst_buffer</code>: <code>Buffer</code></li>
<li><code>regions</code>: <code>list</code> of <code>VkBufferCopy</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.copy_buffer', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.copy_buffer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">copy_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_buffer</span><span class="p">,</span> <span class="n">dst_buffer</span><span class="p">,</span> <span class="n">regions</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Copy data between buffers</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `src_buffer`: `Buffer`</span>
<span class="sd">    - `dst_buffer`: `Buffer`</span>
<span class="sd">    - `regions`: `list` of `VkBufferCopy`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdCopyBuffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">src_buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span>
                       <span class="n">dst_buffer</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">regions</span><span class="p">),</span> <span class="n">regions</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.copy_image">
    <p>def <span class="ident">copy_image</span>(</p><p>self, src_image, src_layout, dst_image, dst_layout, regions)</p>
    </div>
    

    
  
    <div class="desc"><p>Copy data between images</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>src_image</code>: <code>Image</code></li>
<li><code>src_layout</code>: <code>ImageLayout</code> vulk constant</li>
<li><code>dst_image</code>: <code>Image</code></li>
<li><code>dst_layout</code>: <code>ImageLayout</code> vulk constant</li>
<li><code>regions</code>: <code>list</code> of <code>VkImageCopy</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.copy_image', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.copy_image" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">copy_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_image</span><span class="p">,</span> <span class="n">src_layout</span><span class="p">,</span> <span class="n">dst_image</span><span class="p">,</span>
               <span class="n">dst_layout</span><span class="p">,</span> <span class="n">regions</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Copy data between images</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `src_image`: `Image`</span>
<span class="sd">    - `src_layout`: `ImageLayout` vulk constant</span>
<span class="sd">    - `dst_image`: `Image`</span>
<span class="sd">    - `dst_layout`: `ImageLayout` vulk constant</span>
<span class="sd">    - `regions`: `list` of `VkImageCopy`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdCopyImage</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">src_image</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="n">src_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">dst_image</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="n">dst_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">regions</span><span class="p">),</span> <span class="n">regions</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.draw">
    <p>def <span class="ident">draw</span>(</p><p>self, vertex_count, first_vertex, instance_count=1, first_instance=0)</p>
    </div>
    

    
  
    <div class="desc"><p>Draw the vertice buffer.</p>

<p>When the command is executed, primitives are assembled using the
current primitive topology and vertexCount consecutive vertex
indices with the first vertexIndex value equal to firstVertex.
The primitives are drawn instanceCount times with instanceIndex
starting with firstInstance and increasing sequentially for each
instance. The assembled primitives execute the currently bound
graphics pipeline.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>vertex_count</code>: Number of vertices to draw</li>
<li><code>first_vertex</code>: Index of the first vertex to draw</li>
<li><code>instance_count</code>: Number of instance to draw (default: 1)</li>
<li><code>first_instance</code>: First instance to draw (default: 0)</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.draw', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.draw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertex_count</span><span class="p">,</span> <span class="n">first_vertex</span><span class="p">,</span>
         <span class="n">instance_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">first_instance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Draw the vertice buffer.</span>
<span class="sd">    When the command is executed, primitives are assembled using the</span>
<span class="sd">    current primitive topology and vertexCount consecutive vertex</span>
<span class="sd">    indices with the first vertexIndex value equal to firstVertex.</span>
<span class="sd">    The primitives are drawn instanceCount times with instanceIndex</span>
<span class="sd">    starting with firstInstance and increasing sequentially for each</span>
<span class="sd">    instance. The assembled primitives execute the currently bound</span>
<span class="sd">    graphics pipeline.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `vertex_count`: Number of vertices to draw</span>
<span class="sd">    - `first_vertex`: Index of the first vertex to draw</span>
<span class="sd">    - `instance_count`: Number of instance to draw (default: 1)</span>
<span class="sd">    - `first_instance`: First instance to draw (default: 0)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdDraw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">vertex_count</span><span class="p">,</span> <span class="n">instance_count</span><span class="p">,</span>
                 <span class="n">first_vertex</span><span class="p">,</span> <span class="n">first_instance</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.draw_indexed">
    <p>def <span class="ident">draw_indexed</span>(</p><p>self, index_count, first_index, vertex_offset=0, instance_count=1, first_instance=0)</p>
    </div>
    

    
  
    <div class="desc"><p>Draw the index buffer.</p>

<p>When the command is executed, primitives are assembled using the
current primitive topology and indexCount vertices whose indices are
retrieved from the index buffer. The index buffer is treated as an
array of tightly packed unsigned integers of size defined by the
vkCmdBindIndexBuffer::indexType parameter with which the buffer
was bound.</p>

<p>The first vertex index is at an offset of
firstIndex * indexSize + offset within the currently bound index
buffer, where offset is the offset specified by vkCmdBindIndexBuffer
and indexSize is the byte size of the type specified by indexType.
Subsequent index values are retrieved from consecutive locations in
the index buffer. Indices are first compared to the primitive restart
value, then zero extended to 32 bits
(if the indexType is VK<em>INDEX</em>TYPE_UINT16) and have vertexOffset added
to them, before being supplied as the vertexIndex value.</p>

<p>The primitives are drawn instanceCount times with instanceIndex
starting with firstInstance and increasing sequentially for each
instance. The assembled primitives execute the currently bound
graphics pipeline.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>index_count</code>: Number of vertices to draw</li>
<li><code>first_index</code>: Base index within the index buffer</li>
<li><code>vertex_offset</code>: Value added to the vertex index before indexing
               into the vertex buffer (default: 0)</li>
<li><code>instance_count</code>: Number of instance to draw (default: 1)</li>
<li><code>first_instance</code>: First instance to draw (default: 0)</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.draw_indexed', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.draw_indexed" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw_indexed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_count</span><span class="p">,</span> <span class="n">first_index</span><span class="p">,</span> <span class="n">vertex_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">instance_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">first_instance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Draw the index buffer.</span>
<span class="sd">    When the command is executed, primitives are assembled using the</span>
<span class="sd">    current primitive topology and indexCount vertices whose indices are</span>
<span class="sd">    retrieved from the index buffer. The index buffer is treated as an</span>
<span class="sd">    array of tightly packed unsigned integers of size defined by the</span>
<span class="sd">    vkCmdBindIndexBuffer::indexType parameter with which the buffer</span>
<span class="sd">    was bound.</span>
<span class="sd">    The first vertex index is at an offset of</span>
<span class="sd">    firstIndex * indexSize + offset within the currently bound index</span>
<span class="sd">    buffer, where offset is the offset specified by vkCmdBindIndexBuffer</span>
<span class="sd">    and indexSize is the byte size of the type specified by indexType.</span>
<span class="sd">    Subsequent index values are retrieved from consecutive locations in</span>
<span class="sd">    the index buffer. Indices are first compared to the primitive restart</span>
<span class="sd">    value, then zero extended to 32 bits</span>
<span class="sd">    (if the indexType is VK_INDEX_TYPE_UINT16) and have vertexOffset added</span>
<span class="sd">    to them, before being supplied as the vertexIndex value.</span>
<span class="sd">    The primitives are drawn instanceCount times with instanceIndex</span>
<span class="sd">    starting with firstInstance and increasing sequentially for each</span>
<span class="sd">    instance. The assembled primitives execute the currently bound</span>
<span class="sd">    graphics pipeline.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `index_count`: Number of vertices to draw</span>
<span class="sd">    - `first_index`: Base index within the index buffer</span>
<span class="sd">    - `vertex_offset`: Value added to the vertex index before indexing</span>
<span class="sd">                       into the vertex buffer (default: 0)</span>
<span class="sd">    - `instance_count`: Number of instance to draw (default: 1)</span>
<span class="sd">    - `first_instance`: First instance to draw (default: 0)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdDrawIndexed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">index_count</span><span class="p">,</span> <span class="n">instance_count</span><span class="p">,</span>
                        <span class="n">first_index</span><span class="p">,</span> <span class="n">vertex_offset</span><span class="p">,</span> <span class="n">first_instance</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.end_renderpass">
    <p>def <span class="ident">end_renderpass</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>End the current render pass</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.end_renderpass', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.end_renderpass" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">end_renderpass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;End the current render pass&#39;&#39;&#39;</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdEndRenderPass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandBufferRegister.pipeline_barrier">
    <p>def <span class="ident">pipeline_barrier</span>(</p><p>self, src_stage, dst_stage, dependency, memories, buffers, images)</p>
    </div>
    

    
  
    <div class="desc"><p>Insert a memory dependency</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>src_stage</code>: <code>PipelineStage</code> vulk constant</li>
<li><code>dst_stage</code>: <code>PipelineStage</code> vulk constant</li>
<li><code>dependency</code>: <code>Dependency</code> vulk constant</li>
<li><code>memories</code>: <code>list</code> of <code>VkMemoryBarrier</code> Vulkan objects</li>
<li><code>buffers</code>: <code>list</code> of <code>VkBufferMemoryBarrier</code> Vulkan objects</li>
<li><code>images</code>: <code>list</code> of <code>VkImageMemoryBarrier</code> Vulkan objects</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandBufferRegister.pipeline_barrier', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandBufferRegister.pipeline_barrier" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">pipeline_barrier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_stage</span><span class="p">,</span> <span class="n">dst_stage</span><span class="p">,</span> <span class="n">dependency</span><span class="p">,</span> <span class="n">memories</span><span class="p">,</span>
                     <span class="n">buffers</span><span class="p">,</span> <span class="n">images</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Insert a memory dependency</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `src_stage`: `PipelineStage` vulk constant</span>
<span class="sd">    - `dst_stage`: `PipelineStage` vulk constant</span>
<span class="sd">    - `dependency`: `Dependency` vulk constant</span>
<span class="sd">    - `memories`: `list` of `VkMemoryBarrier` Vulkan objects</span>
<span class="sd">    - `buffers`: `list` of `VkBufferMemoryBarrier` Vulkan objects</span>
<span class="sd">    - `images`: `list` of `VkImageMemoryBarrier` Vulkan objects</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_memories</span> <span class="o">=</span> <span class="n">memories</span> <span class="k">if</span> <span class="n">memories</span> <span class="k">else</span> <span class="bp">None</span>
    <span class="n">vk_buffers</span> <span class="o">=</span> <span class="n">buffers</span> <span class="k">if</span> <span class="n">buffers</span> <span class="k">else</span> <span class="bp">None</span>
    <span class="n">vk_images</span> <span class="o">=</span> <span class="n">images</span> <span class="k">if</span> <span class="n">images</span> <span class="k">else</span> <span class="bp">None</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkCmdPipelineBarrier</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffer</span><span class="p">,</span> <span class="n">src_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">dst_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">dependency</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">memories</span><span class="p">),</span> <span class="n">vk_memories</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buffers</span><span class="p">),</span>
        <span class="n">vk_buffers</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">images</span><span class="p">),</span> <span class="n">vk_images</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.CommandBufferRegister.commandbuffer" class="name">var <span class="ident">commandbuffer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.CommandPool" class="name">class <span class="ident">CommandPool</span></p>
      
  
    <div class="desc"><p>Command pools manage the memory that is used to store the buffers and
command buffers are allocated from them.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandPool', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandPool" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">CommandPool</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Command pools manage the memory that is used to store the buffers and</span>
<span class="sd">    command buffers are allocated from them.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">queue_family_index</span><span class="p">,</span>
                 <span class="n">flags</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">CommandPoolCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `queue_family_index`: Index of the queue family to use</span>
<span class="sd">        - `flags`: `CommandPoolCreate` vulk constant, default to 0</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">commandpool_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkCommandPoolCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO</span><span class="p">,</span>
            <span class="n">queueFamilyIndex</span><span class="o">=</span><span class="n">queue_family_index</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>

        <span class="c1"># The Vulkan command pool</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateCommandPool</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                  <span class="n">commandpool_create</span><span class="p">)</span>
        <span class="c1"># Command buffers allocated from this pool</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffers</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">allocate_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Allocate `list` of `CommandBuffer` from pool.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `level`: `CommandBufferLevel` vulk constant</span>
<span class="sd">        - `count`: Number of `CommandBuffer` to create</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        `list` of `CommandBuffer`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">commandbuffers_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkCommandBufferAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">commandPool</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span><span class="p">,</span>
            <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">commandBufferCount</span><span class="o">=</span><span class="n">count</span>
        <span class="p">)</span>

        <span class="n">vk_commandbuffers</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateCommandBuffers</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
            <span class="n">commandbuffers_create</span><span class="p">)</span>

        <span class="n">commandbuffers</span> <span class="o">=</span> <span class="p">[</span><span class="n">CommandBuffer</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span> <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="n">vk_commandbuffers</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">commandbuffers</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">commandbuffers</span>

    <span class="k">def</span> <span class="nf">free_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">buffers</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Free list of `CommandBuffer` allocated from this pool.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `buffers`: `list` of `CommandBuffer` to free</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">b</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffers</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buffers</span><span class="p">]):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t free a commandbuffer not allocated by this pool&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">vk</span><span class="o">.</span><span class="n">vkFreeCommandBuffers</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buffers</span><span class="p">),</span>
            <span class="p">[</span><span class="n">b</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buffers</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">free</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Free this command pool</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkDestroyCommandPool</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.CommandPool">CommandPool</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandPool.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, queue_family_index, flags=&lt;CommandPoolCreate.NONE: 0&gt;)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>queue_family_index</code>: Index of the queue family to use</li>
<li><code>flags</code>: <code>CommandPoolCreate</code> vulk constant, default to 0</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandPool.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandPool.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">queue_family_index</span><span class="p">,</span>
             <span class="n">flags</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">CommandPoolCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `queue_family_index`: Index of the queue family to use</span>
<span class="sd">    - `flags`: `CommandPoolCreate` vulk constant, default to 0</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">commandpool_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkCommandPoolCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO</span><span class="p">,</span>
        <span class="n">queueFamilyIndex</span><span class="o">=</span><span class="n">queue_family_index</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span>
    <span class="p">)</span>
    <span class="c1"># The Vulkan command pool</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateCommandPool</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                              <span class="n">commandpool_create</span><span class="p">)</span>
    <span class="c1"># Command buffers allocated from this pool</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffers</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandPool.allocate_buffers">
    <p>def <span class="ident">allocate_buffers</span>(</p><p>self, context, level, count)</p>
    </div>
    

    
  
    <div class="desc"><p>Allocate <code>list</code> of <code>CommandBuffer</code> from pool.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>level</code>: <code>CommandBufferLevel</code> vulk constant</li>
<li><code>count</code>: Number of <code>CommandBuffer</code> to create</li>
</ul>

<p><em>Returns:</em></p>

<p><code>list</code> of <code>CommandBuffer</code></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandPool.allocate_buffers', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandPool.allocate_buffers" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">allocate_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Allocate `list` of `CommandBuffer` from pool.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `level`: `CommandBufferLevel` vulk constant</span>
<span class="sd">    - `count`: Number of `CommandBuffer` to create</span>
<span class="sd">    *Returns:*</span>
<span class="sd">    `list` of `CommandBuffer`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">commandbuffers_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkCommandBufferAllocateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO</span><span class="p">,</span>
        <span class="n">commandPool</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span><span class="p">,</span>
        <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">commandBufferCount</span><span class="o">=</span><span class="n">count</span>
    <span class="p">)</span>
    <span class="n">vk_commandbuffers</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateCommandBuffers</span><span class="p">(</span>
        <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
        <span class="n">commandbuffers_create</span><span class="p">)</span>
    <span class="n">commandbuffers</span> <span class="o">=</span> <span class="p">[</span><span class="n">CommandBuffer</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span> <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="n">vk_commandbuffers</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">commandbuffers</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">commandbuffers</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandPool.free">
    <p>def <span class="ident">free</span>(</p><p>self, context)</p>
    </div>
    

    
  
    <div class="desc"><p>Free this command pool</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandPool.free', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandPool.free" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">free</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Free this command pool</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkDestroyCommandPool</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.CommandPool.free_buffers">
    <p>def <span class="ident">free_buffers</span>(</p><p>self, context, buffers)</p>
    </div>
    

    
  
    <div class="desc"><p>Free list of <code>CommandBuffer</code> allocated from this pool.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>buffers</code>: <code>list</code> of <code>CommandBuffer</code> to free</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.CommandPool.free_buffers', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.CommandPool.free_buffers" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">free_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">buffers</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Free list of `CommandBuffer` allocated from this pool.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `buffers`: `list` of `CommandBuffer` to free</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">b</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandbuffers</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buffers</span><span class="p">]):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t free a commandbuffer not allocated by this pool&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkFreeCommandBuffers</span><span class="p">(</span>
        <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandpool</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buffers</span><span class="p">),</span>
        <span class="p">[</span><span class="n">b</span><span class="o">.</span><span class="n">commandbuffer</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buffers</span><span class="p">]</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.CommandPool.commandbuffers" class="name">var <span class="ident">commandbuffers</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.CommandPool.commandpool" class="name">var <span class="ident">commandpool</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.DescriptorBufferInfo" class="name">class <span class="ident">DescriptorBufferInfo</span></p>
      
  
    <div class="desc"><p>Structure specifying descriptor buffer info</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>buffer</code>: <code>Buffer</code> ressource</li>
<li><code>offset</code>: Offset in bytes from the start of buffer</li>
<li><code>range</code>: Size in bytes that is used for this descriptor update</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.DescriptorBufferInfo">DescriptorBufferInfo</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorBufferInfo.buffer" class="name">var <span class="ident">buffer</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorBufferInfo.offset" class="name">var <span class="ident">offset</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorBufferInfo.range" class="name">var <span class="ident">range</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.DescriptorImageInfo" class="name">class <span class="ident">DescriptorImageInfo</span></p>
      
  
    <div class="desc"><p>Structure specifying descriptor image info</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>sampler</code>: <code>Sampler</code> ressource</li>
<li><code>view</code>: <code>ImageView</code></li>
<li><code>layout</code>: <code>ImageLayout</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.DescriptorImageInfo">DescriptorImageInfo</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorImageInfo.layout" class="name">var <span class="ident">layout</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorImageInfo.sampler" class="name">var <span class="ident">sampler</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorImageInfo.view" class="name">var <span class="ident">view</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.DescriptorPool" class="name">class <span class="ident">DescriptorPool</span></p>
      
  
    <div class="desc"><p>A descriptor pool maintains a pool of descriptors, from which descriptor
sets are allocated. Descriptor pools are externally synchronized, meaning
that the application must not allocate and/or free descriptor sets from
the same pool in multiple threads simultaneously.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.DescriptorPool', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.DescriptorPool" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">DescriptorPool</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A descriptor pool maintains a pool of descriptors, from which descriptor</span>
<span class="sd">    sets are allocated. Descriptor pools are externally synchronized, meaning</span>
<span class="sd">    that the application must not allocate and/or free descriptor sets from</span>
<span class="sd">    the same pool in multiple threads simultaneously.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">poolsizes</span><span class="p">,</span> <span class="n">max_sets</span><span class="p">,</span>
                 <span class="n">flags</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">DescriptorPoolCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `poolsizes`: `list` of `PoolSize`</span>
<span class="sd">        - `max_sets`: Maximum number of descriptor sets that can be</span>
<span class="sd">                      allocated from the pool</span>
<span class="sd">        - `flags`: `DescriptorPoolCreate`  vulk constant (default=0)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_poolsizes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">poolsizes</span><span class="p">:</span>
            <span class="n">vk_poolsizes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorPoolSize</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">descriptorCount</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">count</span>
            <span class="p">))</span>

        <span class="n">descriptorpool_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorPoolCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">maxSets</span><span class="o">=</span><span class="n">max_sets</span><span class="p">,</span>
            <span class="n">poolSizeCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_poolsizes</span><span class="p">),</span>
            <span class="n">pPoolSizes</span><span class="o">=</span><span class="n">vk_poolsizes</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">descriptorpool</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateDescriptorPool</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">descriptorpool_create</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">allocate_descriptorsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">layouts</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Allocate `list` of `DescriptorSet` from pool.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `count`: Number of `DescriptorSet` to create</span>
<span class="sd">        - `layouts`: `list` of `DescriptorSetLayout`</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        `list` of `DescriptorSet`</span>

<span class="sd">        **Note: Size of `layouts` list must be equals to `count`**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">descriptorsets_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorSetAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">descriptorPool</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">descriptorpool</span><span class="p">,</span>
            <span class="n">descriptorSetCount</span><span class="o">=</span><span class="n">count</span><span class="p">,</span>
            <span class="n">pSetLayouts</span><span class="o">=</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">descriptorsetlayout</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">layouts</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="n">vk_descriptorsets</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateDescriptorSets</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">descriptorsets_create</span><span class="p">)</span>

        <span class="n">descriptorsets</span> <span class="o">=</span> <span class="p">[</span><span class="n">DescriptorSet</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">vk_descriptorsets</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">descriptorsets</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.DescriptorPool">DescriptorPool</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.DescriptorPool.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, poolsizes, max_sets, flags=&lt;DescriptorPoolCreate.NONE: 0&gt;)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>poolsizes</code>: <code>list</code> of <code>PoolSize</code></li>
<li><code>max_sets</code>: Maximum number of descriptor sets that can be
          allocated from the pool</li>
<li><code>flags</code>: <code>DescriptorPoolCreate</code>  vulk constant (default=0)</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.DescriptorPool.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.DescriptorPool.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">poolsizes</span><span class="p">,</span> <span class="n">max_sets</span><span class="p">,</span>
             <span class="n">flags</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">DescriptorPoolCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `poolsizes`: `list` of `PoolSize`</span>
<span class="sd">    - `max_sets`: Maximum number of descriptor sets that can be</span>
<span class="sd">                  allocated from the pool</span>
<span class="sd">    - `flags`: `DescriptorPoolCreate`  vulk constant (default=0)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_poolsizes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">poolsizes</span><span class="p">:</span>
        <span class="n">vk_poolsizes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorPoolSize</span><span class="p">(</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">descriptorCount</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">count</span>
        <span class="p">))</span>
    <span class="n">descriptorpool_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorPoolCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_POOL_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">maxSets</span><span class="o">=</span><span class="n">max_sets</span><span class="p">,</span>
        <span class="n">poolSizeCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_poolsizes</span><span class="p">),</span>
        <span class="n">pPoolSizes</span><span class="o">=</span><span class="n">vk_poolsizes</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">descriptorpool</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateDescriptorPool</span><span class="p">(</span>
        <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">descriptorpool_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.DescriptorPool.allocate_descriptorsets">
    <p>def <span class="ident">allocate_descriptorsets</span>(</p><p>self, context, count, layouts)</p>
    </div>
    

    
  
    <div class="desc"><p>Allocate <code>list</code> of <code>DescriptorSet</code> from pool.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>count</code>: Number of <code>DescriptorSet</code> to create</li>
<li><code>layouts</code>: <code>list</code> of <code>DescriptorSetLayout</code></li>
</ul>

<p><em>Returns:</em></p>

<p><code>list</code> of <code>DescriptorSet</code></p>

<p><strong>Note: Size of <code>layouts</code> list must be equals to <code>count</code></strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.DescriptorPool.allocate_descriptorsets', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.DescriptorPool.allocate_descriptorsets" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">allocate_descriptorsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">layouts</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Allocate `list` of `DescriptorSet` from pool.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `count`: Number of `DescriptorSet` to create</span>
<span class="sd">    - `layouts`: `list` of `DescriptorSetLayout`</span>
<span class="sd">    *Returns:*</span>
<span class="sd">    `list` of `DescriptorSet`</span>
<span class="sd">    **Note: Size of `layouts` list must be equals to `count`**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">descriptorsets_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorSetAllocateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_ALLOCATE_INFO</span><span class="p">,</span>
        <span class="n">descriptorPool</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">descriptorpool</span><span class="p">,</span>
        <span class="n">descriptorSetCount</span><span class="o">=</span><span class="n">count</span><span class="p">,</span>
        <span class="n">pSetLayouts</span><span class="o">=</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">descriptorsetlayout</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">layouts</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">vk_descriptorsets</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateDescriptorSets</span><span class="p">(</span>
        <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">descriptorsets_create</span><span class="p">)</span>
    <span class="n">descriptorsets</span> <span class="o">=</span> <span class="p">[</span><span class="n">DescriptorSet</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">vk_descriptorsets</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">descriptorsets</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorPool.descriptorpool" class="name">var <span class="ident">descriptorpool</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.DescriptorPoolSize" class="name">class <span class="ident">DescriptorPoolSize</span></p>
      
  
    <div class="desc"><p>Structure specifying descriptor pool size.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>type</code>: <code>DescriptorType</code> vulk constant</li>
<li><code>count</code>: Number of descriptors of that type to allocate</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.DescriptorPoolSize">DescriptorPoolSize</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorPoolSize.count" class="name">var <span class="ident">count</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorPoolSize.type" class="name">var <span class="ident">type</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.DescriptorSet" class="name">class <span class="ident">DescriptorSet</span></p>
      
  
    <div class="desc"><p>A <em>descriptor set</em> specifies the actual buffer or image resources that
will be bound to the descriptors, just like a framebuffer specifies the
actual image views to bind to render pass attachments. The descriptor set
is then bound for the drawing commands just like the vertex buffers
and framebuffer.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.DescriptorSet', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.DescriptorSet" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">DescriptorSet</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A *descriptor set* specifies the actual buffer or image resources that</span>
<span class="sd">    will be bound to the descriptors, just like a framebuffer specifies the</span>
<span class="sd">    actual image views to bind to render pass attachments. The descriptor set</span>
<span class="sd">    is then bound for the drawing commands just like the vertex buffers</span>
<span class="sd">    and framebuffer.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">descriptorset</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        This object must be initialized with an existing `VkDescriptorSet`</span>
<span class="sd">        because it is generated from `DescriptorPool`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `descriptorset`: `VkDescriptorSet`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">descriptorset</span> <span class="o">=</span> <span class="n">descriptorset</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.DescriptorSet">DescriptorSet</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.DescriptorSet.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, descriptorset)</p>
    </div>
    

    
  
    <div class="desc"><p>This object must be initialized with an existing <code>VkDescriptorSet</code>
because it is generated from <code>DescriptorPool</code>.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>descriptorset</code>: <code>VkDescriptorSet</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.DescriptorSet.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.DescriptorSet.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">descriptorset</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This object must be initialized with an existing `VkDescriptorSet`</span>
<span class="sd">    because it is generated from `DescriptorPool`.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `descriptorset`: `VkDescriptorSet`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">descriptorset</span> <span class="o">=</span> <span class="n">descriptorset</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorSet.descriptorset" class="name">var <span class="ident">descriptorset</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.DescriptorSetLayout" class="name">class <span class="ident">DescriptorSetLayout</span></p>
      
  
    <div class="desc"><p>A descriptor set layout object is defined by an array of zero or more
descriptor bindings. Each individual descriptor binding is specified by
a descriptor type, a count (array size) of the number of descriptors in
the binding, a set of shader stages that can access the binding,
and (if using immutable samplers) an array of sampler descriptors.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.DescriptorSetLayout', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.DescriptorSetLayout" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">DescriptorSetLayout</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A descriptor set layout object is defined by an array of zero or more</span>
<span class="sd">    descriptor bindings. Each individual descriptor binding is specified by</span>
<span class="sd">    a descriptor type, a count (array size) of the number of descriptors in</span>
<span class="sd">    the binding, a set of shader stages that can access the binding,</span>
<span class="sd">    and (if using immutable samplers) an array of sampler descriptors.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">bindings</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `bindings`: `list` of `DescriptorSetLayoutBinding`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_bindings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">bindings</span><span class="p">:</span>
            <span class="n">vk_bindings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorSetLayoutBinding</span><span class="p">(</span>
                <span class="n">binding</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
                <span class="n">descriptorType</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">descriptorCount</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">,</span>
                <span class="n">stageFlags</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">pImmutableSamplers</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">immutable_samplers</span>
            <span class="p">))</span>

        <span class="n">layout_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorSetLayoutCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">bindingCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_bindings</span><span class="p">),</span>
            <span class="n">pBindings</span><span class="o">=</span><span class="n">vk_bindings</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">descriptorsetlayout</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateDescriptorSetLayout</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">layout_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.DescriptorSetLayout">DescriptorSetLayout</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.DescriptorSetLayout.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, bindings)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>bindings</code>: <code>list</code> of <code>DescriptorSetLayoutBinding</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.DescriptorSetLayout.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.DescriptorSetLayout.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">bindings</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `bindings`: `list` of `DescriptorSetLayoutBinding`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_bindings</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">bindings</span><span class="p">:</span>
        <span class="n">vk_bindings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorSetLayoutBinding</span><span class="p">(</span>
            <span class="n">binding</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
            <span class="n">descriptorType</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">descriptorCount</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">,</span>
            <span class="n">stageFlags</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">pImmutableSamplers</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">immutable_samplers</span>
        <span class="p">))</span>
    <span class="n">layout_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkDescriptorSetLayoutCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_DESCRIPTOR_SET_LAYOUT_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">bindingCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_bindings</span><span class="p">),</span>
        <span class="n">pBindings</span><span class="o">=</span><span class="n">vk_bindings</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">descriptorsetlayout</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateDescriptorSetLayout</span><span class="p">(</span>
        <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">layout_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorSetLayout.descriptorsetlayout" class="name">var <span class="ident">descriptorsetlayout</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.DescriptorSetLayoutBinding" class="name">class <span class="ident">DescriptorSetLayoutBinding</span></p>
      
  
    <div class="desc"><p>Structure specifying a descriptor set layout binding.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>binding</code>: Binding number of this entry and corresponds to a resource
         of the same binding number in the shader stages</li>
<li><code>type</code>: <code>DescriptorType</code> specifying which type of resource descriptors
      are used for this binding</li>
<li><code>count</code>:  Number of descriptors contained in the binding,
        accessed in a shader as an array</li>
<li><code>stage</code>: <code>ShaderStage</code> vulk constant specifying which pipeline shader
        stages can access a resource for this binding</li>
<li><code>immutable_samplers</code>: Immutable <code>Sampler</code> (can be <code>None</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.DescriptorSetLayoutBinding">DescriptorSetLayoutBinding</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorSetLayoutBinding.binding" class="name">var <span class="ident">binding</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorSetLayoutBinding.count" class="name">var <span class="ident">count</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorSetLayoutBinding.immutable_samplers" class="name">var <span class="ident">immutable_samplers</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorSetLayoutBinding.stage" class="name">var <span class="ident">stage</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.DescriptorSetLayoutBinding.type" class="name">var <span class="ident">type</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Extent2D" class="name">class <span class="ident">Extent2D</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>width</code>: Width</li>
<li><code>height</code>: Height</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Extent2D">Extent2D</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Extent2D.height" class="name">var <span class="ident">height</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Extent2D.width" class="name">var <span class="ident">width</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Extent3D" class="name">class <span class="ident">Extent3D</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>width</code>: Width</li>
<li><code>height</code>: Height</li>
<li><code>depth</code>: Depth</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Extent3D">Extent3D</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Extent3D.depth" class="name">var <span class="ident">depth</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Extent3D.height" class="name">var <span class="ident">height</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Extent3D.width" class="name">var <span class="ident">width</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Framebuffer" class="name">class <span class="ident">Framebuffer</span></p>
      
  
    <div class="desc"><p>In Vulkan, a <code>Framebuffer</code> references all of the <code>VkImageView</code> objects that
represent the attachments of a <code>Renderpass</code>.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Framebuffer', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Framebuffer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Framebuffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    In Vulkan, a `Framebuffer` references all of the `VkImageView` objects that</span>
<span class="sd">    represent the attachments of a `Renderpass`.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span>
                 <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">layers</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `renderpass`: The compatible `Renderpass` of this `Framebuffer`</span>
<span class="sd">        - `attachments`: List of `ImageView`</span>
<span class="sd">        - `width`: Width (`int`)</span>
<span class="sd">        - `height`: Height (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">framebuffer_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkFramebufferCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">imageview</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">],</span>
            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">layers</span><span class="o">=</span><span class="n">layers</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">framebuffer</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateFramebuffer</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                  <span class="n">framebuffer_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Framebuffer">Framebuffer</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Framebuffer.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, renderpass, attachments, width, height, layers)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>renderpass</code>: The compatible <code>Renderpass</code> of this <code>Framebuffer</code></li>
<li><code>attachments</code>: List of <code>ImageView</code></li>
<li><code>width</code>: Width (<code>int</code>)</li>
<li><code>height</code>: Height (<code>int</code>)</li>
<li><code>layers</code>: Number of layers (<code>int</code>)</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Framebuffer.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Framebuffer.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span>
             <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">layers</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `renderpass`: The compatible `Renderpass` of this `Framebuffer`</span>
<span class="sd">    - `attachments`: List of `ImageView`</span>
<span class="sd">    - `width`: Width (`int`)</span>
<span class="sd">    - `height`: Height (`int`)</span>
<span class="sd">    - `layers`: Number of layers (`int`)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">framebuffer_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkFramebufferCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
        <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">attachments</span><span class="p">),</span>
        <span class="n">pAttachments</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">imageview</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">],</span>
        <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
        <span class="n">layers</span><span class="o">=</span><span class="n">layers</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">framebuffer</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateFramebuffer</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                              <span class="n">framebuffer_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Framebuffer.framebuffer" class="name">var <span class="ident">framebuffer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.HighPerformanceBuffer" class="name">class <span class="ident">HighPerformanceBuffer</span></p>
      
  
    <div class="desc"><p><code>HighPerformanceBuffer</code> allows to use high performance buffer to be
accessed in your vertex stage.</p>

<p>To get the maximum performance, we are going to create two <code>Buffer</code>,
a staging buffer which memory can be updated and a final buffer with
very fast memory that we will use in pipeline.
When we create a buffer, we first upload data in the staging buffer
and then copy the memory in the final buffer. Of course, both of the
buffer have the same properties.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.HighPerformanceBuffer', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.HighPerformanceBuffer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">HighPerformanceBuffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `HighPerformanceBuffer` allows to use high performance buffer to be</span>
<span class="sd">    accessed in your vertex stage.</span>

<span class="sd">    To get the maximum performance, we are going to create two `Buffer`,</span>
<span class="sd">    a staging buffer which memory can be updated and a final buffer with</span>
<span class="sd">    very fast memory that we will use in pipeline.</span>
<span class="sd">    When we create a buffer, we first upload data in the staging buffer</span>
<span class="sd">    and then copy the memory in the final buffer. Of course, both of the</span>
<span class="sd">    buffer have the same properties.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span>
                 <span class="n">sharing_mode</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">SharingMode</span><span class="o">.</span><span class="n">EXCLUSIVE</span><span class="p">,</span>
                 <span class="n">queue_families</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a high performance buffer</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `size`: Buffer size in bytes</span>
<span class="sd">        - `usage`: `BufferUsage` vulk constant</span>
<span class="sd">        - &#39;buffer_type&#39;: `str` in [&#39;index&#39;, &#39;uniform&#39;, &#39;vertex&#39;]</span>
<span class="sd">        - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not CONCURRENT)</span>
<span class="sd">                            (can be [])</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">queue_families</span> <span class="o">=</span> <span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">staging_buffer</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">BufferCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">BufferUsage</span><span class="o">.</span><span class="n">TRANSFER_SRC</span><span class="p">,</span>
            <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_VISIBLE</span> <span class="o">|</span> <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_COHERENT</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">final_buffer</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">BufferCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">BufferUsage</span><span class="o">.</span><span class="n">TRANSFER_DST</span> <span class="o">|</span> <span class="n">usage</span><span class="p">,</span>
            <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">DEVICE_LOCAL</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_finalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy the staging buffer to the final buffer.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">staging_buffer</span><span class="o">.</span><span class="n">copy_to</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_buffer</span><span class="p">)</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Bind buffer for writing</span>

<span class="sd">        It calls `bind` method of the staging buffer and copy the buffer</span>
<span class="sd">        when the contextmanager is released. Must be used with `with`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_buffer</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">b</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_finalize</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.HighPerformanceBuffer">HighPerformanceBuffer</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.HighPerformanceBuffer.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, size, usage, sharing_mode=&lt;SharingMode.EXCLUSIVE: 1&gt;, queue_families=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a high performance buffer</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>size</code>: Buffer size in bytes</li>
<li><code>usage</code>: <code>BufferUsage</code> vulk constant</li>
<li>'buffer_type': <code>str</code> in ['index', 'uniform', 'vertex']</li>
<li><code>sharing_mode</code>: <code>SharingMode</code> vulk constant</li>
<li><code>queue_families</code>: List of queue families accessing this image
                (ignored if sharingMode is not CONCURRENT)
                (can be [])</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.HighPerformanceBuffer.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.HighPerformanceBuffer.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span>
             <span class="n">sharing_mode</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">SharingMode</span><span class="o">.</span><span class="n">EXCLUSIVE</span><span class="p">,</span>
             <span class="n">queue_families</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Create a high performance buffer</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `size`: Buffer size in bytes</span>
<span class="sd">    - `usage`: `BufferUsage` vulk constant</span>
<span class="sd">    - &#39;buffer_type&#39;: `str` in [&#39;index&#39;, &#39;uniform&#39;, &#39;vertex&#39;]</span>
<span class="sd">    - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">    - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                        (ignored if sharingMode is not CONCURRENT)</span>
<span class="sd">                        (can be [])</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">queue_families</span> <span class="o">=</span> <span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">staging_buffer</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">(</span>
        <span class="n">context</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">BufferCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">BufferUsage</span><span class="o">.</span><span class="n">TRANSFER_SRC</span><span class="p">,</span>
        <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
        <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_VISIBLE</span> <span class="o">|</span> <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_COHERENT</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">final_buffer</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">(</span>
        <span class="n">context</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">BufferCreate</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span>
        <span class="n">vc</span><span class="o">.</span><span class="n">BufferUsage</span><span class="o">.</span><span class="n">TRANSFER_DST</span> <span class="o">|</span> <span class="n">usage</span><span class="p">,</span>
        <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
        <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">DEVICE_LOCAL</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.HighPerformanceBuffer.bind">
    <p>def <span class="ident">bind</span>(</p><p>*args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Bind buffer for writing</p>

<p>It calls <code>bind</code> method of the staging buffer and copy the buffer
when the contextmanager is released. Must be used with <code>with</code>.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.HighPerformanceBuffer.bind', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.HighPerformanceBuffer.bind" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Bind buffer for writing</span>
<span class="sd">    It calls `bind` method of the staging buffer and copy the buffer</span>
<span class="sd">    when the contextmanager is released. Must be used with `with`.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_buffer</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">b</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finalize</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.HighPerformanceBuffer.final_buffer" class="name">var <span class="ident">final_buffer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.HighPerformanceBuffer.staging_buffer" class="name">var <span class="ident">staging_buffer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.HighPerformanceImage" class="name">class <span class="ident">HighPerformanceImage</span></p>
      
  
    <div class="desc"><p><code>HighPerformanceImage</code> allows to use high performance image to be
sampled in your shaders.</p>

<p>To get the maximum performance, we are going to create two <code>Image</code>,
a staging image which memory can be updated (with our texture) and
a final image with very fast memory that we will use in shaders.
When we create an image, we first upload the pixels in the staging
image and then copy the memory in the final image. Of course, both of
the image have the same properties.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.HighPerformanceImage', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.HighPerformanceImage" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">HighPerformanceImage</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `HighPerformanceImage` allows to use high performance image to be</span>
<span class="sd">    sampled in your shaders.</span>

<span class="sd">    To get the maximum performance, we are going to create two `Image`,</span>
<span class="sd">    a staging image which memory can be updated (with our texture) and</span>
<span class="sd">    a final image with very fast memory that we will use in shaders.</span>
<span class="sd">    When we create an image, we first upload the pixels in the staging</span>
<span class="sd">    image and then copy the memory in the final image. Of course, both of</span>
<span class="sd">    the image have the same properties.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span>
                 <span class="n">depth</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span> <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span>
                 <span class="n">sharing_mode</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">SharingMode</span><span class="o">.</span><span class="n">EXCLUSIVE</span><span class="p">,</span>
                 <span class="n">queue_families</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a high performance image</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `image_type`: `ImageType` vulk constant</span>
<span class="sd">        - `image_format`: `Format` of the image</span>
<span class="sd">        - `width`: Image width</span>
<span class="sd">        - `heigth`: Image height</span>
<span class="sd">        - `depth`: Image depth</span>
<span class="sd">        - `mip_level`: Level of mip (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        - `samples`: This `SampleCount` vulk constant is related</span>
<span class="sd">                     to multisampling</span>
<span class="sd">        - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not `CONCURRENT`)</span>
<span class="sd">                            (can be [])</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">queue_families</span><span class="p">:</span>
            <span class="n">queue_families</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span>
            <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageTiling</span><span class="o">.</span><span class="n">LINEAR</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">ImageUsage</span><span class="o">.</span><span class="n">TRANSFER_SRC</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_VISIBLE</span> <span class="o">|</span> <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_COHERENT</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">final_image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span>
            <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageTiling</span><span class="o">.</span><span class="n">OPTIMAL</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">ImageUsage</span><span class="o">.</span><span class="n">TRANSFER_DST</span> <span class="o">|</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageUsage</span><span class="o">.</span><span class="n">SAMPLED</span><span class="p">,</span>
            <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">DEVICE_LOCAL</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_finalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Prepare and copy the staging image to the final image.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">commandpool</span> <span class="o">=</span> <span class="n">CommandPool</span><span class="p">(</span><span class="n">context</span><span class="p">,</span>
                                  <span class="n">context</span><span class="o">.</span><span class="n">queue_family_indices</span><span class="p">[</span><span class="s1">&#39;graphic&#39;</span><span class="p">])</span>

        <span class="c1"># Transition the staging image to optimal source transfert layout</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
                <span class="n">cmd</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_SRC_OPTIMAL</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">HOST_WRITE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">TRANSFER_READ</span>
            <span class="p">)</span>

        <span class="c1"># Transition the final image to optimal destination transfert layout</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">final_image</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
                <span class="n">cmd</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_DST_OPTIMAL</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">HOST_WRITE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">TRANSFER_WRITE</span>
            <span class="p">)</span>

        <span class="c1"># Copy staging image into final image</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span><span class="o">.</span><span class="n">copy_to</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_image</span><span class="p">)</span>

        <span class="c1"># Set the best layout for the final image</span>
        <span class="k">with</span> <span class="n">immediate_buffer</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">commandpool</span><span class="p">)</span> <span class="k">as</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">final_image</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
                <span class="n">cmd</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_DST_OPTIMAL</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">SHADER_READ_ONLY_OPTIMAL</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">PipelineStage</span><span class="o">.</span><span class="n">TOP_OF_PIPE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">TRANSFER_WRITE</span><span class="p">,</span>
                <span class="n">vc</span><span class="o">.</span><span class="n">Access</span><span class="o">.</span><span class="n">SHADER_READ</span>
            <span class="p">)</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Bind image for writing</span>

<span class="sd">        It calls `bind` method of the staging image and copy the image</span>
<span class="sd">        when the contextmanager is released. Must be used with `with`.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">b</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_finalize</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.HighPerformanceImage">HighPerformanceImage</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.HighPerformanceImage.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, image_type, image_format, width, height, depth, mip_level, layers, samples, sharing_mode=&lt;SharingMode.EXCLUSIVE: 1&gt;, queue_families=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a high performance image</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>image_type</code>: <code>ImageType</code> vulk constant</li>
<li><code>image_format</code>: <code>Format</code> of the image</li>
<li><code>width</code>: Image width</li>
<li><code>heigth</code>: Image height</li>
<li><code>depth</code>: Image depth</li>
<li><code>mip_level</code>: Level of mip (<code>int</code>)</li>
<li><code>layers</code>: Number of layers (<code>int</code>)</li>
<li><code>samples</code>: This <code>SampleCount</code> vulk constant is related
         to multisampling</li>
<li><code>sharing_mode</code>: <code>SharingMode</code> vulk constant</li>
<li><code>queue_families</code>: List of queue families accessing this image
                (ignored if sharingMode is not <code>CONCURRENT</code>)
                (can be [])</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.HighPerformanceImage.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.HighPerformanceImage.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span>
             <span class="n">depth</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span> <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span>
             <span class="n">sharing_mode</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">SharingMode</span><span class="o">.</span><span class="n">EXCLUSIVE</span><span class="p">,</span>
             <span class="n">queue_families</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Create a high performance image</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `image_type`: `ImageType` vulk constant</span>
<span class="sd">    - `image_format`: `Format` of the image</span>
<span class="sd">    - `width`: Image width</span>
<span class="sd">    - `heigth`: Image height</span>
<span class="sd">    - `depth`: Image depth</span>
<span class="sd">    - `mip_level`: Level of mip (`int`)</span>
<span class="sd">    - `layers`: Number of layers (`int`)</span>
<span class="sd">    - `samples`: This `SampleCount` vulk constant is related</span>
<span class="sd">                 to multisampling</span>
<span class="sd">    - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">    - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                        (ignored if sharingMode is not `CONCURRENT`)</span>
<span class="sd">                        (can be [])</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">queue_families</span><span class="p">:</span>
        <span class="n">queue_families</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span>
        <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span>
        <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
        <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageTiling</span><span class="o">.</span><span class="n">LINEAR</span><span class="p">,</span>
        <span class="n">vc</span><span class="o">.</span><span class="n">ImageUsage</span><span class="o">.</span><span class="n">TRANSFER_SRC</span><span class="p">,</span>
        <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_VISIBLE</span> <span class="o">|</span> <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_COHERENT</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">final_image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span>
        <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span>
        <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
        <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">PREINITIALIZED</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageTiling</span><span class="o">.</span><span class="n">OPTIMAL</span><span class="p">,</span>
        <span class="n">vc</span><span class="o">.</span><span class="n">ImageUsage</span><span class="o">.</span><span class="n">TRANSFER_DST</span> <span class="o">|</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageUsage</span><span class="o">.</span><span class="n">SAMPLED</span><span class="p">,</span>
        <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">DEVICE_LOCAL</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.HighPerformanceImage.bind">
    <p>def <span class="ident">bind</span>(</p><p>*args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Bind image for writing</p>

<p>It calls <code>bind</code> method of the staging image and copy the image
when the contextmanager is released. Must be used with <code>with</code>.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.HighPerformanceImage.bind', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.HighPerformanceImage.bind" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Bind image for writing</span>
<span class="sd">    It calls `bind` method of the staging image and copy the image</span>
<span class="sd">    when the contextmanager is released. Must be used with `with`.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">b</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finalize</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.HighPerformanceImage.final_image" class="name">var <span class="ident">final_image</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.HighPerformanceImage.staging_image" class="name">var <span class="ident">staging_image</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Image" class="name">class <span class="ident">Image</span></p>
      
  
    <div class="desc"><p><code>Image</code> is a wrapper around a <code>VkImage</code> and a <code>VkMemory</code></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Image', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Image" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Image</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `Image` is a wrapper around a `VkImage` and a `VkMemory`</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span>
                 <span class="n">mip_level</span><span class="p">,</span> <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
                 <span class="n">layout</span><span class="p">,</span> <span class="n">tiling</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span> <span class="n">memory_properties</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a new image</span>

<span class="sd">        Creating an image is made of several steps:</span>

<span class="sd">        - Create the image</span>
<span class="sd">        - Allocate the memory</span>
<span class="sd">        - Bind the memory to the image</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `image_type`: `ImageType` vulk constant</span>
<span class="sd">        - `image_format`: `Format` vulk constant</span>
<span class="sd">        - `width`: Image width</span>
<span class="sd">        - `heigth`: Image height</span>
<span class="sd">        - `depth`: Image depth</span>
<span class="sd">        - `mip_level`: Level of mip (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        - `samples`: This `SampleCount` vulk constant is related</span>
<span class="sd">                     to multisampling</span>
<span class="sd">        - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not `CONCURRENT`)</span>
<span class="sd">                            (can be [])</span>
<span class="sd">        - `layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `tiling`: `ImageTiling` vulk constant</span>
<span class="sd">        - `usage`: `ImageUsage` vulk constant</span>
<span class="sd">        - `memory_properties`: `MemoryProperty` vulk constant</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">depth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">image_format</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">=</span> <span class="n">memory_properties</span>
        <span class="n">image_type</span> <span class="o">=</span> <span class="n">image_type</span><span class="o">.</span><span class="n">value</span>
        <span class="n">tiling</span> <span class="o">=</span> <span class="n">tiling</span><span class="o">.</span><span class="n">value</span>
        <span class="n">usage</span> <span class="o">=</span> <span class="n">usage</span><span class="o">.</span><span class="n">value</span>
        <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Check that image can be created</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkGetPhysicalDeviceImageFormatProperties</span><span class="p">(</span>
                <span class="n">context</span><span class="o">.</span><span class="n">physical_device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">tiling</span><span class="p">,</span>
                <span class="n">usage</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkErrorFormatNotSupported</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t create image, format &quot;</span>
                            <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> not supported&quot;</span> <span class="o">%</span> <span class="n">image_format</span><span class="p">)</span>

        <span class="c1"># Create the VkImage</span>
        <span class="n">vk_extent</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkExtent3D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
                                  <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
                                  <span class="n">depth</span><span class="o">=</span><span class="n">depth</span><span class="p">)</span>

        <span class="n">image_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">imageType</span><span class="o">=</span><span class="n">image_type</span><span class="p">,</span>
            <span class="n">format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">vk_extent</span><span class="p">,</span>
            <span class="n">mipLevels</span><span class="o">=</span><span class="n">mip_level</span><span class="p">,</span>
            <span class="n">arrayLayers</span><span class="o">=</span><span class="n">layers</span><span class="p">,</span>
            <span class="n">samples</span><span class="o">=</span><span class="n">samples</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">tiling</span><span class="o">=</span><span class="n">tiling</span><span class="p">,</span>
            <span class="n">usage</span><span class="o">=</span><span class="n">usage</span><span class="p">,</span>
            <span class="n">sharingMode</span><span class="o">=</span><span class="n">sharing_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">queueFamilyIndexCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">queue_families</span><span class="p">),</span>
            <span class="n">pQueueFamilyIndices</span><span class="o">=</span><span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">initialLayout</span><span class="o">=</span><span class="n">layout</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImage</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">image_create</span><span class="p">)</span>

        <span class="c1"># Get memory requirements</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetImageMemoryRequirements</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                       <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>

        <span class="n">alloc_info</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkMemoryAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">allocationSize</span><span class="o">=</span><span class="n">requirements</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">memoryTypeIndex</span><span class="o">=</span><span class="n">find_memory_type</span><span class="p">(</span>
                <span class="n">context</span><span class="p">,</span>
                <span class="n">requirements</span><span class="o">.</span><span class="n">memoryTypeBits</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">alloc_info</span><span class="p">)</span>

        <span class="c1"># Bind device memory to the image</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkBindImageMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">old_layout</span><span class="p">,</span> <span class="n">new_layout</span><span class="p">,</span> <span class="n">src_stage</span><span class="p">,</span>
                      <span class="n">dst_stage</span><span class="p">,</span> <span class="n">src_access</span><span class="p">,</span> <span class="n">dst_access</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Update the image layout.</span>
<span class="sd">        Command to update layout are registered in the commandbuffer</span>
<span class="sd">        but it&#39;s up to you to start and submit the command buffer to</span>
<span class="sd">        the execution queue.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `cmd`: `CommandBufferRegister` used to register commands</span>
<span class="sd">        - `old_layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `new_layout`: `ImageLayout` vulk constant</span>
<span class="sd">        - `src_stage`: `PipelineStage` vulk constant</span>
<span class="sd">        - `dst_stage`: `PipelineStage` vulk constant</span>
<span class="sd">        - `src_access`: `Access` vulk constant</span>
<span class="sd">        - `dst_access`: `Access` vulk constant</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">subresource_range</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageSubresourceRange</span><span class="p">(</span>
            <span class="n">aspectMask</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ImageAspect</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span>
            <span class="n">baseMipLevel</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">levelCount</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">baseArrayLayer</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">layerCount</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="n">barrier</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageMemoryBarrier</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER</span><span class="p">,</span>
            <span class="n">srcAccessMask</span><span class="o">=</span><span class="n">src_access</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dstAccessMask</span><span class="o">=</span><span class="n">dst_access</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">oldLayout</span><span class="o">=</span><span class="n">old_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">newLayout</span><span class="o">=</span><span class="n">new_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">srcQueueFamilyIndex</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">QUEUE_FAMILY_IGNORED</span><span class="p">,</span>
            <span class="n">dstQueueFamilyIndex</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">QUEUE_FAMILY_IGNORED</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
            <span class="n">subresourceRange</span><span class="o">=</span><span class="n">subresource_range</span>
        <span class="p">)</span>

        <span class="n">cmd</span><span class="o">.</span><span class="n">pipeline_barrier</span><span class="p">(</span><span class="n">src_stage</span><span class="p">,</span> <span class="n">dst_stage</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">Dependency</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span>
                             <span class="p">[],</span> <span class="p">[],</span> <span class="p">[</span><span class="n">barrier</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">copy_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">dst_image</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Copy this image to the destination image.</span>
<span class="sd">        Commands to copy are registered in the commandbuffer but it&#39;s up to</span>
<span class="sd">        you to start and submit the command buffer to the execution queue.</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `cmd`: `CommandBufferRegister` used to register commands</span>
<span class="sd">        - `dst_image`: Destination `Image`</span>

<span class="sd">        **Note: Layout of source image must be `TRANSFERT_SRC_OPTIMAL` and</span>
<span class="sd">                layout of destination image must be `TRANSFERT_DST_OPTIMAL`.</span>
<span class="sd">                It&#39;s up to you.**</span>

<span class="sd">        **Warning: Format of both images must be compatible**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># Copy image</span>
        <span class="n">subresource</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageSubresourceLayers</span><span class="p">(</span>
            <span class="n">aspectMask</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ImageAspect</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span>
            <span class="n">baseArrayLayer</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">mipLevel</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">layerCount</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">extent</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkExtent3D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                               <span class="n">depth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>
        <span class="n">region</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageCopy</span><span class="p">(</span>
            <span class="n">srcSubresource</span><span class="o">=</span><span class="n">subresource</span><span class="p">,</span>
            <span class="n">dstSubresource</span><span class="o">=</span><span class="n">subresource</span><span class="p">,</span>
            <span class="n">srcOffset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset3D</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">dstOffset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset3D</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">extent</span>
        <span class="p">)</span>

        <span class="n">src_layout</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_SRC_OPTIMAL</span>
        <span class="n">dst_layout</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_DST_OPTIMAL</span>

        <span class="n">cmd</span><span class="o">.</span><span class="n">copy_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_layout</span><span class="p">,</span> <span class="n">dst_image</span><span class="p">,</span>
                       <span class="n">dst_layout</span><span class="p">,</span> <span class="p">[</span><span class="n">region</span><span class="p">])</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Map this image to upload data in it.</span>
<span class="sd">        This function is a context manager and must be called with `with`.</span>
<span class="sd">        It return a python buffer and let you do what you want with it,</span>
<span class="sd">        be careful!</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>

<span class="sd">        **Warning: Image memory must be host visible**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">compatible_memories</span> <span class="o">=</span> <span class="p">{</span><span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_VISIBLE</span><span class="p">,</span>
                               <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_COHERENT</span><span class="p">,</span>
                               <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_CACHED</span><span class="p">}</span>
        <span class="c1"># TODO: To try, not sure it works</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">&amp;</span> <span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">compatible_memories</span><span class="p">]):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t map this image, memory must be host visible&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">format_size</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">format_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>
        <span class="n">image_size</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">*</span> <span class="n">format_size</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkMapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                  <span class="n">image_size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">data</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkUnmapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Image">Image</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Image.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, image_type, image_format, width, height, depth, mip_level, layers, samples, sharing_mode, queue_families, layout, tiling, usage, memory_properties)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a new image</p>

<p>Creating an image is made of several steps:</p>

<ul>
<li>Create the image</li>
<li>Allocate the memory</li>
<li>Bind the memory to the image</li>
</ul>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>image_type</code>: <code>ImageType</code> vulk constant</li>
<li><code>image_format</code>: <code>Format</code> vulk constant</li>
<li><code>width</code>: Image width</li>
<li><code>heigth</code>: Image height</li>
<li><code>depth</code>: Image depth</li>
<li><code>mip_level</code>: Level of mip (<code>int</code>)</li>
<li><code>layers</code>: Number of layers (<code>int</code>)</li>
<li><code>samples</code>: This <code>SampleCount</code> vulk constant is related
         to multisampling</li>
<li><code>sharing_mode</code>: <code>SharingMode</code> vulk constant</li>
<li><code>queue_families</code>: List of queue families accessing this image
                (ignored if sharingMode is not <code>CONCURRENT</code>)
                (can be [])</li>
<li><code>layout</code>: <code>ImageLayout</code> vulk constant</li>
<li><code>tiling</code>: <code>ImageTiling</code> vulk constant</li>
<li><code>usage</code>: <code>ImageUsage</code> vulk constant</li>
<li><code>memory_properties</code>: <code>MemoryProperty</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Image.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Image.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span>
             <span class="n">mip_level</span><span class="p">,</span> <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span> <span class="n">queue_families</span><span class="p">,</span>
             <span class="n">layout</span><span class="p">,</span> <span class="n">tiling</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span> <span class="n">memory_properties</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Create a new image</span>
<span class="sd">    Creating an image is made of several steps:</span>
<span class="sd">    - Create the image</span>
<span class="sd">    - Allocate the memory</span>
<span class="sd">    - Bind the memory to the image</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `image_type`: `ImageType` vulk constant</span>
<span class="sd">    - `image_format`: `Format` vulk constant</span>
<span class="sd">    - `width`: Image width</span>
<span class="sd">    - `heigth`: Image height</span>
<span class="sd">    - `depth`: Image depth</span>
<span class="sd">    - `mip_level`: Level of mip (`int`)</span>
<span class="sd">    - `layers`: Number of layers (`int`)</span>
<span class="sd">    - `samples`: This `SampleCount` vulk constant is related</span>
<span class="sd">                 to multisampling</span>
<span class="sd">    - `sharing_mode`: `SharingMode` vulk constant</span>
<span class="sd">    - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                        (ignored if sharingMode is not `CONCURRENT`)</span>
<span class="sd">                        (can be [])</span>
<span class="sd">    - `layout`: `ImageLayout` vulk constant</span>
<span class="sd">    - `tiling`: `ImageTiling` vulk constant</span>
<span class="sd">    - `usage`: `ImageUsage` vulk constant</span>
<span class="sd">    - `memory_properties`: `MemoryProperty` vulk constant</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">depth</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">image_format</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">=</span> <span class="n">memory_properties</span>
    <span class="n">image_type</span> <span class="o">=</span> <span class="n">image_type</span><span class="o">.</span><span class="n">value</span>
    <span class="n">tiling</span> <span class="o">=</span> <span class="n">tiling</span><span class="o">.</span><span class="n">value</span>
    <span class="n">usage</span> <span class="o">=</span> <span class="n">usage</span><span class="o">.</span><span class="n">value</span>
    <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Check that image can be created</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkGetPhysicalDeviceImageFormatProperties</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">physical_device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">tiling</span><span class="p">,</span>
            <span class="n">usage</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkErrorFormatNotSupported</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t create image, format &quot;</span>
                        <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> not supported&quot;</span> <span class="o">%</span> <span class="n">image_format</span><span class="p">)</span>
    <span class="c1"># Create the VkImage</span>
    <span class="n">vk_extent</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkExtent3D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
                              <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
                              <span class="n">depth</span><span class="o">=</span><span class="n">depth</span><span class="p">)</span>
    <span class="n">image_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">imageType</span><span class="o">=</span><span class="n">image_type</span><span class="p">,</span>
        <span class="n">format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">extent</span><span class="o">=</span><span class="n">vk_extent</span><span class="p">,</span>
        <span class="n">mipLevels</span><span class="o">=</span><span class="n">mip_level</span><span class="p">,</span>
        <span class="n">arrayLayers</span><span class="o">=</span><span class="n">layers</span><span class="p">,</span>
        <span class="n">samples</span><span class="o">=</span><span class="n">samples</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">tiling</span><span class="o">=</span><span class="n">tiling</span><span class="p">,</span>
        <span class="n">usage</span><span class="o">=</span><span class="n">usage</span><span class="p">,</span>
        <span class="n">sharingMode</span><span class="o">=</span><span class="n">sharing_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">queueFamilyIndexCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">queue_families</span><span class="p">),</span>
        <span class="n">pQueueFamilyIndices</span><span class="o">=</span><span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">initialLayout</span><span class="o">=</span><span class="n">layout</span><span class="o">.</span><span class="n">value</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImage</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">image_create</span><span class="p">)</span>
    <span class="c1"># Get memory requirements</span>
    <span class="n">requirements</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetImageMemoryRequirements</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                   <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>
    <span class="n">alloc_info</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkMemoryAllocateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="p">,</span>
        <span class="n">allocationSize</span><span class="o">=</span><span class="n">requirements</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="n">memoryTypeIndex</span><span class="o">=</span><span class="n">find_memory_type</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">.</span><span class="n">memoryTypeBits</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">alloc_info</span><span class="p">)</span>
    <span class="c1"># Bind device memory to the image</span>
    <span class="n">vk</span><span class="o">.</span><span class="n">vkBindImageMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Image.bind">
    <p>def <span class="ident">bind</span>(</p><p>*args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Map this image to upload data in it.
This function is a context manager and must be called with <code>with</code>.
It return a python buffer and let you do what you want with it,
be careful!</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
</ul>

<p><strong>Warning: Image memory must be host visible</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Image.bind', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Image.bind" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Map this image to upload data in it.</span>
<span class="sd">    This function is a context manager and must be called with `with`.</span>
<span class="sd">    It return a python buffer and let you do what you want with it,</span>
<span class="sd">    be careful!</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    **Warning: Image memory must be host visible**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">compatible_memories</span> <span class="o">=</span> <span class="p">{</span><span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_VISIBLE</span><span class="p">,</span>
                           <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_COHERENT</span><span class="p">,</span>
                           <span class="n">vc</span><span class="o">.</span><span class="n">MemoryProperty</span><span class="o">.</span><span class="n">HOST_CACHED</span><span class="p">}</span>
    <span class="c1"># TODO: To try, not sure it works</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">memory_properties</span> <span class="o">&amp;</span> <span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">compatible_memories</span><span class="p">]):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t map this image, memory must be host visible&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">format_size</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">format_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>
    <span class="n">image_size</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">*</span> <span class="n">format_size</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkMapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                              <span class="n">image_size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">data</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkUnmapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Image.copy_to">
    <p>def <span class="ident">copy_to</span>(</p><p>self, cmd, dst_image)</p>
    </div>
    

    
  
    <div class="desc"><p>Copy this image to the destination image.
Commands to copy are registered in the commandbuffer but it's up to
you to start and submit the command buffer to the execution queue.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>cmd</code>: <code>CommandBufferRegister</code> used to register commands</li>
<li><code>dst_image</code>: Destination <code>Image</code></li>
</ul>

<p><strong>Note: Layout of source image must be <code>TRANSFERT_SRC_OPTIMAL</code> and
        layout of destination image must be <code>TRANSFERT_DST_OPTIMAL</code>.
        It's up to you.</strong></p>

<p><strong>Warning: Format of both images must be compatible</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Image.copy_to', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Image.copy_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">copy_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">dst_image</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Copy this image to the destination image.</span>
<span class="sd">    Commands to copy are registered in the commandbuffer but it&#39;s up to</span>
<span class="sd">    you to start and submit the command buffer to the execution queue.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `cmd`: `CommandBufferRegister` used to register commands</span>
<span class="sd">    - `dst_image`: Destination `Image`</span>
<span class="sd">    **Note: Layout of source image must be `TRANSFERT_SRC_OPTIMAL` and</span>
<span class="sd">            layout of destination image must be `TRANSFERT_DST_OPTIMAL`.</span>
<span class="sd">            It&#39;s up to you.**</span>
<span class="sd">    **Warning: Format of both images must be compatible**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># Copy image</span>
    <span class="n">subresource</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageSubresourceLayers</span><span class="p">(</span>
        <span class="n">aspectMask</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ImageAspect</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span>
        <span class="n">baseArrayLayer</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">mipLevel</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">layerCount</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">)</span>
    <span class="n">extent</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkExtent3D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                           <span class="n">depth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>
    <span class="n">region</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageCopy</span><span class="p">(</span>
        <span class="n">srcSubresource</span><span class="o">=</span><span class="n">subresource</span><span class="p">,</span>
        <span class="n">dstSubresource</span><span class="o">=</span><span class="n">subresource</span><span class="p">,</span>
        <span class="n">srcOffset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset3D</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">dstOffset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset3D</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">extent</span><span class="o">=</span><span class="n">extent</span>
    <span class="p">)</span>
    <span class="n">src_layout</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_SRC_OPTIMAL</span>
    <span class="n">dst_layout</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">ImageLayout</span><span class="o">.</span><span class="n">TRANSFER_DST_OPTIMAL</span>
    <span class="n">cmd</span><span class="o">.</span><span class="n">copy_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src_layout</span><span class="p">,</span> <span class="n">dst_image</span><span class="p">,</span>
                   <span class="n">dst_layout</span><span class="p">,</span> <span class="p">[</span><span class="n">region</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Image.update_layout">
    <p>def <span class="ident">update_layout</span>(</p><p>self, cmd, old_layout, new_layout, src_stage, dst_stage, src_access, dst_access)</p>
    </div>
    

    
  
    <div class="desc"><p>Update the image layout.
Command to update layout are registered in the commandbuffer
but it's up to you to start and submit the command buffer to
the execution queue.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>cmd</code>: <code>CommandBufferRegister</code> used to register commands</li>
<li><code>old_layout</code>: <code>ImageLayout</code> vulk constant</li>
<li><code>new_layout</code>: <code>ImageLayout</code> vulk constant</li>
<li><code>src_stage</code>: <code>PipelineStage</code> vulk constant</li>
<li><code>dst_stage</code>: <code>PipelineStage</code> vulk constant</li>
<li><code>src_access</code>: <code>Access</code> vulk constant</li>
<li><code>dst_access</code>: <code>Access</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Image.update_layout', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Image.update_layout" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">old_layout</span><span class="p">,</span> <span class="n">new_layout</span><span class="p">,</span> <span class="n">src_stage</span><span class="p">,</span>
                  <span class="n">dst_stage</span><span class="p">,</span> <span class="n">src_access</span><span class="p">,</span> <span class="n">dst_access</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Update the image layout.</span>
<span class="sd">    Command to update layout are registered in the commandbuffer</span>
<span class="sd">    but it&#39;s up to you to start and submit the command buffer to</span>
<span class="sd">    the execution queue.</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `cmd`: `CommandBufferRegister` used to register commands</span>
<span class="sd">    - `old_layout`: `ImageLayout` vulk constant</span>
<span class="sd">    - `new_layout`: `ImageLayout` vulk constant</span>
<span class="sd">    - `src_stage`: `PipelineStage` vulk constant</span>
<span class="sd">    - `dst_stage`: `PipelineStage` vulk constant</span>
<span class="sd">    - `src_access`: `Access` vulk constant</span>
<span class="sd">    - `dst_access`: `Access` vulk constant</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">subresource_range</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageSubresourceRange</span><span class="p">(</span>
        <span class="n">aspectMask</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ImageAspect</span><span class="o">.</span><span class="n">COLOR</span><span class="p">,</span>
        <span class="n">baseMipLevel</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">levelCount</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">baseArrayLayer</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">layerCount</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">)</span>
    <span class="n">barrier</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageMemoryBarrier</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_MEMORY_BARRIER</span><span class="p">,</span>
        <span class="n">srcAccessMask</span><span class="o">=</span><span class="n">src_access</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">dstAccessMask</span><span class="o">=</span><span class="n">dst_access</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">oldLayout</span><span class="o">=</span><span class="n">old_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">newLayout</span><span class="o">=</span><span class="n">new_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">srcQueueFamilyIndex</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">QUEUE_FAMILY_IGNORED</span><span class="p">,</span>
        <span class="n">dstQueueFamilyIndex</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">QUEUE_FAMILY_IGNORED</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
        <span class="n">subresourceRange</span><span class="o">=</span><span class="n">subresource_range</span>
    <span class="p">)</span>
    <span class="n">cmd</span><span class="o">.</span><span class="n">pipeline_barrier</span><span class="p">(</span><span class="n">src_stage</span><span class="p">,</span> <span class="n">dst_stage</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">Dependency</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span>
                         <span class="p">[],</span> <span class="p">[],</span> <span class="p">[</span><span class="n">barrier</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Image.depth" class="name">var <span class="ident">depth</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.format" class="name">var <span class="ident">format</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.height" class="name">var <span class="ident">height</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.image" class="name">var <span class="ident">image</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.memory" class="name">var <span class="ident">memory</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.memory_properties" class="name">var <span class="ident">memory_properties</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.width" class="name">var <span class="ident">width</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.ImageSubresourceRange" class="name">class <span class="ident">ImageSubresourceRange</span></p>
      
  
    <div class="desc"><p><code>ImageSubresourceRange</code> object describes what the image's purpose is and
which part of the image should be accessed.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>aspect</code>: <code>ImageAspect</code> vulk constant indicating which aspect(s) of the
        image are included in the view</li>
<li><code>base_miplevel</code>: The first mipmap level accessible to the view</li>
<li><code>level_count</code>: Number of mipmap levels (starting from base_miplevel)
             accessible to the view</li>
<li><code>base_layer</code>: First array layer accessible to the view</li>
<li><code>layer_count</code>: Number of array layers (starting from base_layer)
             accessible to the view</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.ImageSubresourceRange">ImageSubresourceRange</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.aspect" class="name">var <span class="ident">aspect</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.base_layer" class="name">var <span class="ident">base_layer</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.base_miplevel" class="name">var <span class="ident">base_miplevel</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.layer_count" class="name">var <span class="ident">layer_count</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.level_count" class="name">var <span class="ident">level_count</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.ImageView" class="name">class <span class="ident">ImageView</span></p>
      
  
    <div class="desc"><p>An image view is quite literally a view into an image.
It describes how to access the image and which part of the image
to access, for example if it should be treated as a 2D texture depth
texture without any mipmapping levels.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ImageView', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ImageView" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ImageView</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    An image view is quite literally a view into an image.</span>
<span class="sd">    It describes how to access the image and which part of the image</span>
<span class="sd">    to access, for example if it should be treated as a 2D texture depth</span>
<span class="sd">    texture without any mipmapping levels.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">view_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span>
                 <span class="n">subresource_range</span><span class="p">,</span> <span class="n">swizzle_r</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">,</span>
                 <span class="n">swizzle_g</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">,</span>
                 <span class="n">swizzle_b</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">,</span>
                 <span class="n">swizzle_a</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create ImageView</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `image`: The `Image` to work on</span>
<span class="sd">        - `view_type`: `ImageViewType` vulk constant</span>
<span class="sd">        - `image_format`: `Format` vulk constant</span>
<span class="sd">        - `subresource_range`: The `ImageSubresourceRange` to use</span>
<span class="sd">        - `swizzle_r`: `ComponentSwizzle` of the red color channel</span>
<span class="sd">        - `swizzle_g`: `ComponentSwizzle` of the green color channel</span>
<span class="sd">        - `swizzle_b`: `ComponentSwizzle` of the blue color channel</span>
<span class="sd">        - `swizzle_a`: `ComponentSwizzle` of the alpha color channel</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">components</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkComponentMapping</span><span class="p">(</span>
            <span class="n">r</span><span class="o">=</span><span class="n">swizzle_r</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="n">swizzle_g</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">swizzle_b</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">a</span><span class="o">=</span><span class="n">swizzle_a</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>

        <span class="n">vk_subresource_range</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageSubresourceRange</span><span class="p">(</span>
            <span class="n">aspectMask</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">aspect</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">baseMipLevel</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">base_miplevel</span><span class="p">,</span>
            <span class="n">levelCount</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">level_count</span><span class="p">,</span>
            <span class="n">baseArrayLayer</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">base_layer</span><span class="p">,</span>
            <span class="n">layerCount</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">layer_count</span>
        <span class="p">)</span>

        <span class="n">imageview_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageViewCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
            <span class="n">viewType</span><span class="o">=</span><span class="n">view_type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">format</span><span class="o">=</span><span class="n">image_format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
            <span class="n">subresourceRange</span><span class="o">=</span><span class="n">vk_subresource_range</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imageview</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImageView</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">imageview_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.ImageView">ImageView</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.ImageView.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, image, view_type, image_format, subresource_range, swizzle_r=&lt;ComponentSwizzle.IDENTITY: 1&gt;, swizzle_g=&lt;ComponentSwizzle.IDENTITY: 1&gt;, swizzle_b=&lt;ComponentSwizzle.IDENTITY: 1&gt;, swizzle_a=&lt;ComponentSwizzle.IDENTITY: 1&gt;)</p>
    </div>
    

    
  
    <div class="desc"><p>Create ImageView</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>image</code>: The <code>Image</code> to work on</li>
<li><code>view_type</code>: <code>ImageViewType</code> vulk constant</li>
<li><code>image_format</code>: <code>Format</code> vulk constant</li>
<li><code>subresource_range</code>: The <code>ImageSubresourceRange</code> to use</li>
<li><code>swizzle_r</code>: <code>ComponentSwizzle</code> of the red color channel</li>
<li><code>swizzle_g</code>: <code>ComponentSwizzle</code> of the green color channel</li>
<li><code>swizzle_b</code>: <code>ComponentSwizzle</code> of the blue color channel</li>
<li><code>swizzle_a</code>: <code>ComponentSwizzle</code> of the alpha color channel</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ImageView.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ImageView.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">view_type</span><span class="p">,</span> <span class="n">image_format</span><span class="p">,</span>
             <span class="n">subresource_range</span><span class="p">,</span> <span class="n">swizzle_r</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">,</span>
             <span class="n">swizzle_g</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">,</span>
             <span class="n">swizzle_b</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">,</span>
             <span class="n">swizzle_a</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">ComponentSwizzle</span><span class="o">.</span><span class="n">IDENTITY</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Create ImageView</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `image`: The `Image` to work on</span>
<span class="sd">    - `view_type`: `ImageViewType` vulk constant</span>
<span class="sd">    - `image_format`: `Format` vulk constant</span>
<span class="sd">    - `subresource_range`: The `ImageSubresourceRange` to use</span>
<span class="sd">    - `swizzle_r`: `ComponentSwizzle` of the red color channel</span>
<span class="sd">    - `swizzle_g`: `ComponentSwizzle` of the green color channel</span>
<span class="sd">    - `swizzle_b`: `ComponentSwizzle` of the blue color channel</span>
<span class="sd">    - `swizzle_a`: `ComponentSwizzle` of the alpha color channel</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">components</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkComponentMapping</span><span class="p">(</span>
        <span class="n">r</span><span class="o">=</span><span class="n">swizzle_r</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="n">swizzle_g</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">swizzle_b</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">a</span><span class="o">=</span><span class="n">swizzle_a</span><span class="o">.</span><span class="n">value</span>
    <span class="p">)</span>
    <span class="n">vk_subresource_range</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageSubresourceRange</span><span class="p">(</span>
        <span class="n">aspectMask</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">aspect</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">baseMipLevel</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">base_miplevel</span><span class="p">,</span>
        <span class="n">levelCount</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">level_count</span><span class="p">,</span>
        <span class="n">baseArrayLayer</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">base_layer</span><span class="p">,</span>
        <span class="n">layerCount</span><span class="o">=</span><span class="n">subresource_range</span><span class="o">.</span><span class="n">layer_count</span>
    <span class="p">)</span>
    <span class="n">imageview_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageViewCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
        <span class="n">viewType</span><span class="o">=</span><span class="n">view_type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">format</span><span class="o">=</span><span class="n">image_format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
        <span class="n">subresourceRange</span><span class="o">=</span><span class="n">vk_subresource_range</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imageview</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImageView</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">imageview_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.ImageView.imageview" class="name">var <span class="ident">imageview</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Offset2D" class="name">class <span class="ident">Offset2D</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>x</code>: x offset</li>
<li><code>y</code>: y offset</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Offset2D">Offset2D</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Offset2D.x" class="name">var <span class="ident">x</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Offset2D.y" class="name">var <span class="ident">y</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Pipeline" class="name">class <span class="ident">Pipeline</span></p>
      
  
    <div class="desc"><p>Pipeline (graphic) object</p>

<p>The graphics pipeline is the sequence of operations that take the
vertices and textures of your meshes all the way to the pixels in
the render targets. The pipeline combines the following elements:</p>

<ul>
<li>Shader stages: the shader modules that define the functionality of
               the programmable stages of the graphics pipeline</li>
<li>Fixed-function state: all of the structures that define the
                      fixed-function stages of the pipeline, like
                      input assembly, rasterizer, viewport and
                      color blending</li>
<li>Pipeline layout: the uniform and push values referenced by the
                 shader that can be updated at draw time</li>
<li>Render pass: the attachments referenced by the pipeline stages
             and their usage</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Pipeline', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Pipeline" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Pipeline</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Pipeline (graphic) object</span>

<span class="sd">    The graphics pipeline is the sequence of operations that take the</span>
<span class="sd">    vertices and textures of your meshes all the way to the pixels in</span>
<span class="sd">    the render targets. The pipeline combines the following elements:</span>

<span class="sd">      - Shader stages: the shader modules that define the functionality of</span>
<span class="sd">                       the programmable stages of the graphics pipeline</span>
<span class="sd">      - Fixed-function state: all of the structures that define the</span>
<span class="sd">                              fixed-function stages of the pipeline, like</span>
<span class="sd">                              input assembly, rasterizer, viewport and</span>
<span class="sd">                              color blending</span>
<span class="sd">      - Pipeline layout: the uniform and push values referenced by the</span>
<span class="sd">                         shader that can be updated at draw time</span>
<span class="sd">      - Render pass: the attachments referenced by the pipeline stages</span>
<span class="sd">                     and their usage</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">stages</span><span class="p">,</span> <span class="n">vertex_input</span><span class="p">,</span> <span class="n">input_assembly</span><span class="p">,</span>
                 <span class="n">viewport_state</span><span class="p">,</span> <span class="n">rasterization</span><span class="p">,</span> <span class="n">multisample</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">blend</span><span class="p">,</span>
                 <span class="n">dynamic</span><span class="p">,</span> <span class="n">layout</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `stages`: List of `PipelineShaderStage`</span>
<span class="sd">        - `vertex_input`: `PipelineVertexInputState`</span>
<span class="sd">        - `input_assembly`: `PipelineInputAssemblyState`</span>
<span class="sd">        - `viewport_state`: `PipelineViewportState`</span>
<span class="sd">        - `rasterization`: `PipelineRasterizationState`</span>
<span class="sd">        - `multisample`: `PipelineMultisampleState`</span>
<span class="sd">        - `depth`: `PipelineDepthStencilState` (can be `None`)</span>
<span class="sd">        - `blend`: `PipelineColorBlendState`</span>
<span class="sd">        - `dynamic`: `PipelineDynamicState` (may be `None`)</span>
<span class="sd">        - `layout`: `PipelineLayout`</span>
<span class="sd">        - `renderpass`: The `Renderpass` of this pipeline</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">vk_stages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">stages</span><span class="p">:</span>
            <span class="n">vk_stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineShaderStageCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</span><span class="p">,</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">stage</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">module</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">module</span><span class="p">,</span>
                <span class="n">pSpecializationInfo</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">pName</span><span class="o">=</span><span class="s1">&#39;main&#39;</span>
            <span class="p">))</span>

        <span class="n">vk_vertex_bindings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">binding</span> <span class="ow">in</span> <span class="n">vertex_input</span><span class="o">.</span><span class="n">bindings</span><span class="p">:</span>
            <span class="n">vk_vertex_bindings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkVertexInputBindingDescription</span><span class="p">(</span>
                <span class="n">binding</span><span class="o">=</span><span class="n">binding</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
                <span class="n">stride</span><span class="o">=</span><span class="n">binding</span><span class="o">.</span><span class="n">stride</span><span class="p">,</span>
                <span class="n">inputRate</span><span class="o">=</span><span class="n">binding</span><span class="o">.</span><span class="n">rate</span><span class="o">.</span><span class="n">value</span>
            <span class="p">))</span>

        <span class="n">vk_vertex_attributes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">vertex_input</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
            <span class="n">vk_vertex_attributes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkVertexInputAttributeDescription</span><span class="p">(</span>
                <span class="n">location</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
                <span class="n">binding</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
                <span class="n">format</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">offset</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">offset</span>
            <span class="p">))</span>

        <span class="n">vk_vertex_input</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineVertexInputStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">vertexBindingDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_vertex_bindings</span><span class="p">),</span>
            <span class="n">pVertexBindingDescriptions</span><span class="o">=</span><span class="n">vk_vertex_bindings</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">vertexAttributeDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_vertex_attributes</span><span class="p">),</span>
            <span class="n">pVertexAttributeDescriptions</span><span class="o">=</span><span class="n">vk_vertex_attributes</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="p">)</span>

        <span class="n">vk_input_assembly</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineInputAssemblyStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">topology</span><span class="o">=</span><span class="n">input_assembly</span><span class="o">.</span><span class="n">topology</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">primitiveRestartEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="p">)</span>

        <span class="n">vk_viewports</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">viewport_state</span><span class="o">.</span><span class="n">viewports</span><span class="p">:</span>
            <span class="n">vk_viewports</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkViewport</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                <span class="n">minDepth</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">min_depth</span><span class="p">,</span> <span class="n">maxDepth</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">max_depth</span>
            <span class="p">))</span>

        <span class="n">vk_scissors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">viewport_state</span><span class="o">.</span><span class="n">scissors</span><span class="p">:</span>
            <span class="n">vk_scissors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkRect2D</span><span class="p">(</span>
                <span class="n">offset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset2D</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="p">),</span>
                <span class="n">extent</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkExtent2D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                                     <span class="n">height</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span><span class="p">),</span>
            <span class="p">))</span>

        <span class="n">vk_viewport_state</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineViewportStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">viewportCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_viewports</span><span class="p">),</span>
            <span class="n">pViewports</span><span class="o">=</span><span class="n">vk_viewports</span><span class="p">,</span>
            <span class="n">scissorCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_scissors</span><span class="p">),</span>
            <span class="n">pScissors</span><span class="o">=</span><span class="n">vk_scissors</span>
        <span class="p">)</span>

        <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span> <span class="ow">or</span>
           <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span> <span class="ow">or</span>
           <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span><span class="p">):</span>
            <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span>

        <span class="n">vk_rasterization</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineRasterizationStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">depthClampEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_clamp_enable</span><span class="p">),</span>
            <span class="n">rasterizerDiscardEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
            <span class="n">polygonMode</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">polygon_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">lineWidth</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">line_width</span><span class="p">,</span>
            <span class="n">cullMode</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">cull_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">frontFace</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">front_face</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">depthBiasEnable</span><span class="o">=</span><span class="n">dbe</span><span class="p">,</span>
            <span class="n">depthBiasConstantFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span><span class="p">,</span>
            <span class="n">depthBiasClamp</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span><span class="p">,</span>
            <span class="n">depthBiasSlopeFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span>
        <span class="p">)</span>

        <span class="n">vk_multisample</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineMultisampleStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">sampleShadingEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">multisample</span><span class="o">.</span><span class="n">shading_enable</span><span class="p">),</span>
            <span class="n">rasterizationSamples</span><span class="o">=</span><span class="n">multisample</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">minSampleShading</span><span class="o">=</span><span class="n">multisample</span><span class="o">.</span><span class="n">min_sample_shading</span><span class="p">,</span>
            <span class="n">pSampleMask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">alphaToCoverageEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
            <span class="n">alphaToOneEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="p">)</span>

        <span class="n">vk_depth</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">depth</span><span class="p">:</span>
            <span class="n">vk_depth</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDepthStencilStateCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">depthTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_test_enable</span><span class="p">),</span>
                <span class="n">depthWriteEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_write_enable</span><span class="p">),</span>
                <span class="n">depthCompareOp</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_compare</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">depthBoundsTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_bounds_test_enable</span><span class="p">),</span>
                <span class="n">stencilTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">stencil_test_enable</span><span class="p">),</span>
                <span class="n">front</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">front</span><span class="p">,</span>
                <span class="n">back</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">back</span><span class="p">,</span>
                <span class="n">minDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
                <span class="n">maxDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">max</span>
            <span class="p">)</span>

        <span class="n">vk_blend_attachments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">blend</span><span class="o">.</span><span class="n">attachments</span><span class="p">:</span>
            <span class="n">vk_a</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendAttachmentState</span><span class="p">(</span>
                <span class="n">colorWriteMask</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">color_mask</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">blendEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">enable</span><span class="p">),</span>
                <span class="n">srcColorBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">src_color</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">dstColorBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">dst_color</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">colorBlendOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">color_op</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">srcAlphaBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">src_alpha</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">dstAlphaBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">dst_alpha</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">alphaBlendOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">alpha_op</span><span class="o">.</span><span class="n">value</span>
            <span class="p">)</span>
            <span class="n">vk_blend_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk_a</span><span class="p">)</span>

        <span class="n">vk_blend</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">logicOpEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">op_enable</span><span class="p">),</span>
            <span class="n">logicOp</span><span class="o">=</span><span class="n">blend</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_blend_attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_blend_attachments</span><span class="p">,</span>
            <span class="n">blendConstants</span><span class="o">=</span><span class="n">blend</span><span class="o">.</span><span class="n">constants</span>
        <span class="p">)</span>

        <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">dynamic</span><span class="p">:</span>
            <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDynamicStateCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</span><span class="p">,</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">dynamicStateCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span><span class="p">),</span>
                <span class="n">pDynamicStates</span><span class="o">=</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span>
            <span class="p">)</span>

        <span class="n">pipeline_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkGraphicsPipelineCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">stageCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_stages</span><span class="p">),</span>
            <span class="n">pStages</span><span class="o">=</span><span class="n">vk_stages</span><span class="p">,</span>
            <span class="n">pVertexInputState</span><span class="o">=</span><span class="n">vk_vertex_input</span><span class="p">,</span>
            <span class="n">pInputAssemblyState</span><span class="o">=</span><span class="n">vk_input_assembly</span><span class="p">,</span>
            <span class="n">pTessellationState</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pViewportState</span><span class="o">=</span><span class="n">vk_viewport_state</span><span class="p">,</span>
            <span class="n">pRasterizationState</span><span class="o">=</span><span class="n">vk_rasterization</span><span class="p">,</span>
            <span class="n">pMultisampleState</span><span class="o">=</span><span class="n">vk_multisample</span><span class="p">,</span>
            <span class="n">pDepthStencilState</span><span class="o">=</span><span class="n">vk_depth</span><span class="p">,</span>
            <span class="n">pColorBlendState</span><span class="o">=</span><span class="n">vk_blend</span><span class="p">,</span>
            <span class="n">pDynamicState</span><span class="o">=</span><span class="n">vk_dynamic</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">subpass</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">basePipelineHandle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">basePipelineIndex</span><span class="o">=-</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateGraphicsPipelines</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                                                     <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">pipeline_create</span><span class="p">])</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Pipeline">Pipeline</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Pipeline.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, stages, vertex_input, input_assembly, viewport_state, rasterization, multisample, depth, blend, dynamic, layout, renderpass)</p>
    </div>
    

    
  
    <div class="desc"><ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>stages</code>: List of <code>PipelineShaderStage</code></li>
<li><code>vertex_input</code>: <code>PipelineVertexInputState</code></li>
<li><code>input_assembly</code>: <code>PipelineInputAssemblyState</code></li>
<li><code>viewport_state</code>: <code>PipelineViewportState</code></li>
<li><code>rasterization</code>: <code>PipelineRasterizationState</code></li>
<li><code>multisample</code>: <code>PipelineMultisampleState</code></li>
<li><code>depth</code>: <code>PipelineDepthStencilState</code> (can be <code>None</code>)</li>
<li><code>blend</code>: <code>PipelineColorBlendState</code></li>
<li><code>dynamic</code>: <code>PipelineDynamicState</code> (may be <code>None</code>)</li>
<li><code>layout</code>: <code>PipelineLayout</code></li>
<li><code>renderpass</code>: The <code>Renderpass</code> of this pipeline</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Pipeline.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Pipeline.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">stages</span><span class="p">,</span> <span class="n">vertex_input</span><span class="p">,</span> <span class="n">input_assembly</span><span class="p">,</span>
             <span class="n">viewport_state</span><span class="p">,</span> <span class="n">rasterization</span><span class="p">,</span> <span class="n">multisample</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">blend</span><span class="p">,</span>
             <span class="n">dynamic</span><span class="p">,</span> <span class="n">layout</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `stages`: List of `PipelineShaderStage`</span>
<span class="sd">    - `vertex_input`: `PipelineVertexInputState`</span>
<span class="sd">    - `input_assembly`: `PipelineInputAssemblyState`</span>
<span class="sd">    - `viewport_state`: `PipelineViewportState`</span>
<span class="sd">    - `rasterization`: `PipelineRasterizationState`</span>
<span class="sd">    - `multisample`: `PipelineMultisampleState`</span>
<span class="sd">    - `depth`: `PipelineDepthStencilState` (can be `None`)</span>
<span class="sd">    - `blend`: `PipelineColorBlendState`</span>
<span class="sd">    - `dynamic`: `PipelineDynamicState` (may be `None`)</span>
<span class="sd">    - `layout`: `PipelineLayout`</span>
<span class="sd">    - `renderpass`: The `Renderpass` of this pipeline</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_stages</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">stages</span><span class="p">:</span>
        <span class="n">vk_stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineShaderStageCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">stage</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">module</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">module</span><span class="p">,</span>
            <span class="n">pSpecializationInfo</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pName</span><span class="o">=</span><span class="s1">&#39;main&#39;</span>
        <span class="p">))</span>
    <span class="n">vk_vertex_bindings</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">binding</span> <span class="ow">in</span> <span class="n">vertex_input</span><span class="o">.</span><span class="n">bindings</span><span class="p">:</span>
        <span class="n">vk_vertex_bindings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkVertexInputBindingDescription</span><span class="p">(</span>
            <span class="n">binding</span><span class="o">=</span><span class="n">binding</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
            <span class="n">stride</span><span class="o">=</span><span class="n">binding</span><span class="o">.</span><span class="n">stride</span><span class="p">,</span>
            <span class="n">inputRate</span><span class="o">=</span><span class="n">binding</span><span class="o">.</span><span class="n">rate</span><span class="o">.</span><span class="n">value</span>
        <span class="p">))</span>
    <span class="n">vk_vertex_attributes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">vertex_input</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
        <span class="n">vk_vertex_attributes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkVertexInputAttributeDescription</span><span class="p">(</span>
            <span class="n">location</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
            <span class="n">binding</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">binding</span><span class="p">,</span>
            <span class="n">format</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">offset</span><span class="o">=</span><span class="n">attribute</span><span class="o">.</span><span class="n">offset</span>
        <span class="p">))</span>
    <span class="n">vk_vertex_input</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineVertexInputStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">vertexBindingDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_vertex_bindings</span><span class="p">),</span>
        <span class="n">pVertexBindingDescriptions</span><span class="o">=</span><span class="n">vk_vertex_bindings</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">vertexAttributeDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_vertex_attributes</span><span class="p">),</span>
        <span class="n">pVertexAttributeDescriptions</span><span class="o">=</span><span class="n">vk_vertex_attributes</span> <span class="ow">or</span> <span class="bp">None</span>
    <span class="p">)</span>
    <span class="n">vk_input_assembly</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineInputAssemblyStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">topology</span><span class="o">=</span><span class="n">input_assembly</span><span class="o">.</span><span class="n">topology</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">primitiveRestartEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
    <span class="p">)</span>
    <span class="n">vk_viewports</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">viewport_state</span><span class="o">.</span><span class="n">viewports</span><span class="p">:</span>
        <span class="n">vk_viewports</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkViewport</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
            <span class="n">minDepth</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">min_depth</span><span class="p">,</span> <span class="n">maxDepth</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">max_depth</span>
        <span class="p">))</span>
    <span class="n">vk_scissors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">viewport_state</span><span class="o">.</span><span class="n">scissors</span><span class="p">:</span>
        <span class="n">vk_scissors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkRect2D</span><span class="p">(</span>
            <span class="n">offset</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkOffset2D</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="p">),</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VkExtent2D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                                 <span class="n">height</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span><span class="p">),</span>
        <span class="p">))</span>
    <span class="n">vk_viewport_state</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineViewportStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">viewportCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_viewports</span><span class="p">),</span>
        <span class="n">pViewports</span><span class="o">=</span><span class="n">vk_viewports</span><span class="p">,</span>
        <span class="n">scissorCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_scissors</span><span class="p">),</span>
        <span class="n">pScissors</span><span class="o">=</span><span class="n">vk_scissors</span>
    <span class="p">)</span>
    <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span> <span class="ow">or</span>
       <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span> <span class="ow">or</span>
       <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span><span class="p">):</span>
        <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span>
    <span class="n">vk_rasterization</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineRasterizationStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">depthClampEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_clamp_enable</span><span class="p">),</span>
        <span class="n">rasterizerDiscardEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
        <span class="n">polygonMode</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">polygon_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">lineWidth</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">line_width</span><span class="p">,</span>
        <span class="n">cullMode</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">cull_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">frontFace</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">front_face</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">depthBiasEnable</span><span class="o">=</span><span class="n">dbe</span><span class="p">,</span>
        <span class="n">depthBiasConstantFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span><span class="p">,</span>
        <span class="n">depthBiasClamp</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span><span class="p">,</span>
        <span class="n">depthBiasSlopeFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span>
    <span class="p">)</span>
    <span class="n">vk_multisample</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineMultisampleStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">sampleShadingEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">multisample</span><span class="o">.</span><span class="n">shading_enable</span><span class="p">),</span>
        <span class="n">rasterizationSamples</span><span class="o">=</span><span class="n">multisample</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">minSampleShading</span><span class="o">=</span><span class="n">multisample</span><span class="o">.</span><span class="n">min_sample_shading</span><span class="p">,</span>
        <span class="n">pSampleMask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">alphaToCoverageEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
        <span class="n">alphaToOneEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
    <span class="p">)</span>
    <span class="n">vk_depth</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">depth</span><span class="p">:</span>
        <span class="n">vk_depth</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDepthStencilStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">depthTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_test_enable</span><span class="p">),</span>
            <span class="n">depthWriteEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_write_enable</span><span class="p">),</span>
            <span class="n">depthCompareOp</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_compare</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">depthBoundsTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_bounds_test_enable</span><span class="p">),</span>
            <span class="n">stencilTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">stencil_test_enable</span><span class="p">),</span>
            <span class="n">front</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">front</span><span class="p">,</span>
            <span class="n">back</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">back</span><span class="p">,</span>
            <span class="n">minDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
            <span class="n">maxDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">max</span>
        <span class="p">)</span>
    <span class="n">vk_blend_attachments</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">blend</span><span class="o">.</span><span class="n">attachments</span><span class="p">:</span>
        <span class="n">vk_a</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendAttachmentState</span><span class="p">(</span>
            <span class="n">colorWriteMask</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">color_mask</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">blendEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">enable</span><span class="p">),</span>
            <span class="n">srcColorBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">src_color</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dstColorBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">dst_color</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">colorBlendOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">color_op</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">srcAlphaBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">src_alpha</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dstAlphaBlendFactor</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">dst_alpha</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">alphaBlendOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">alpha_op</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="n">vk_blend_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk_a</span><span class="p">)</span>
    <span class="n">vk_blend</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">logicOpEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">op_enable</span><span class="p">),</span>
        <span class="n">logicOp</span><span class="o">=</span><span class="n">blend</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_blend_attachments</span><span class="p">),</span>
        <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_blend_attachments</span><span class="p">,</span>
        <span class="n">blendConstants</span><span class="o">=</span><span class="n">blend</span><span class="o">.</span><span class="n">constants</span>
    <span class="p">)</span>
    <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">dynamic</span><span class="p">:</span>
        <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDynamicStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">dynamicStateCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span><span class="p">),</span>
            <span class="n">pDynamicStates</span><span class="o">=</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span>
        <span class="p">)</span>
    <span class="n">pipeline_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkGraphicsPipelineCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">stageCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_stages</span><span class="p">),</span>
        <span class="n">pStages</span><span class="o">=</span><span class="n">vk_stages</span><span class="p">,</span>
        <span class="n">pVertexInputState</span><span class="o">=</span><span class="n">vk_vertex_input</span><span class="p">,</span>
        <span class="n">pInputAssemblyState</span><span class="o">=</span><span class="n">vk_input_assembly</span><span class="p">,</span>
        <span class="n">pTessellationState</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">pViewportState</span><span class="o">=</span><span class="n">vk_viewport_state</span><span class="p">,</span>
        <span class="n">pRasterizationState</span><span class="o">=</span><span class="n">vk_rasterization</span><span class="p">,</span>
        <span class="n">pMultisampleState</span><span class="o">=</span><span class="n">vk_multisample</span><span class="p">,</span>
        <span class="n">pDepthStencilState</span><span class="o">=</span><span class="n">vk_depth</span><span class="p">,</span>
        <span class="n">pColorBlendState</span><span class="o">=</span><span class="n">vk_blend</span><span class="p">,</span>
        <span class="n">pDynamicState</span><span class="o">=</span><span class="n">vk_dynamic</span><span class="p">,</span>
        <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span>
        <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
        <span class="n">subpass</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">basePipelineHandle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">basePipelineIndex</span><span class="o">=-</span><span class="mi">1</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateGraphicsPipelines</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                                                 <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">pipeline_create</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Pipeline.pipeline" class="name">var <span class="ident">pipeline</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState" class="name">class <span class="ident">PipelineColorBlendAttachmentState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>enable</code>: Enable blending</li>
<li><code>src_color</code>: <code>BlendFactor</code> vulk constant for source color</li>
<li><code>dst_color</code>: <code>BlendFactor</code> vulk constant for destination color</li>
<li><code>color_op</code>: <code>BlendOp</code> vulk constant Operation on color</li>
<li><code>src_alpha</code>: <code>BlendFactor</code> vulk constant for source alpha</li>
<li><code>dst_alpha</code>: <code>BlendFactor</code> vulk constant for destination alpha</li>
<li><code>alpha_op</code>: <code>BlendOp</code> vulk constant operation on alpha</li>
<li><code>color_mask</code>: <code>ColorComponent</code> vulk constant selecting which of the
            R, G, B, and A components are enabled for writing</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineColorBlendAttachmentState">PipelineColorBlendAttachmentState</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.alpha_op" class="name">var <span class="ident">alpha_op</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 6</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.color_mask" class="name">var <span class="ident">color_mask</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 7</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.color_op" class="name">var <span class="ident">color_op</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.dst_alpha" class="name">var <span class="ident">dst_alpha</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.dst_color" class="name">var <span class="ident">dst_color</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.enable" class="name">var <span class="ident">enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.src_alpha" class="name">var <span class="ident">src_alpha</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.src_color" class="name">var <span class="ident">src_color</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineColorBlendState" class="name">class <span class="ident">PipelineColorBlendState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>op_enable</code>: Enable bitwise combination</li>
<li><code>op</code>: <code>LogicOp</code> vulk constant operation to perform</li>
<li><code>attachments</code>: List of blend attachments for each framebuffer</li>
<li><code>constants</code>: Constants depending on blend factor (<code>list</code> of 4 <code>float</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineColorBlendState">PipelineColorBlendState</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendState.attachments" class="name">var <span class="ident">attachments</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendState.constants" class="name">var <span class="ident">constants</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendState.op" class="name">var <span class="ident">op</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendState.op_enable" class="name">var <span class="ident">op_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineDepthStencilState" class="name">class <span class="ident">PipelineDepthStencilState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>depth_test_enable</code>: Enable depth test</li>
<li><code>depth_write_enable</code>: Enable depth write</li>
<li><code>depth_bounds_test_enable</code>: Enable bounds test</li>
<li><code>depth_compare</code>: <code>CompareOp</code> vulk constant condition to overwrite depth</li>
<li><code>stencil_test_enable</code>: Enable stencil test</li>
<li><code>front</code>: Control stencil parameter (<code>StencilOpState</code>)</li>
<li><code>back</code>: Control stencil parameter (<code>StencilOpState</code>)</li>
<li><code>min</code>: Define the min value in depth bound test (<code>float</code>)</li>
<li><code>max</code>: Define the max value in depth bound test (<code>float</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineDepthStencilState">PipelineDepthStencilState</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.back" class="name">var <span class="ident">back</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 6</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.depth_bounds_test_enable" class="name">var <span class="ident">depth_bounds_test_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.depth_compare" class="name">var <span class="ident">depth_compare</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.depth_test_enable" class="name">var <span class="ident">depth_test_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.depth_write_enable" class="name">var <span class="ident">depth_write_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.front" class="name">var <span class="ident">front</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.max" class="name">var <span class="ident">max</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 8</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.min" class="name">var <span class="ident">min</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 7</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.stencil_test_enable" class="name">var <span class="ident">stencil_test_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineDynamicState" class="name">class <span class="ident">PipelineDynamicState</span></p>
      
  
    <div class="desc"><ul>
<li><code>states</code>: List of <code>VkDynamicState</code></li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineDynamicState">PipelineDynamicState</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDynamicState.states" class="name">var <span class="ident">states</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineInputAssemblyState" class="name">class <span class="ident">PipelineInputAssemblyState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>topology</code>: <code>PrimitiveTopology</code> vulk constant to use when drawing</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineInputAssemblyState">PipelineInputAssemblyState</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineInputAssemblyState.topology" class="name">var <span class="ident">topology</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineLayout" class="name">class <span class="ident">PipelineLayout</span></p>
      
  
    <div class="desc"><p>Pipeline layout object</p>

<p>Access to descriptor sets from a pipeline is accomplished through a
pipeline layout. Zero or more descriptor set layouts and zero or more
push constant ranges are combined to form a pipeline layout object which
describes the complete set of resources that can be accessed by a
pipeline. The pipeline layout represents a sequence of descriptor sets
with each having a specific layout. This sequence of layouts is used to
determine the interface between shader stages and shader resources.
Each pipeline is created using a pipeline layout.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.PipelineLayout', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.PipelineLayout" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">PipelineLayout</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Pipeline layout object</span>

<span class="sd">    Access to descriptor sets from a pipeline is accomplished through a</span>
<span class="sd">    pipeline layout. Zero or more descriptor set layouts and zero or more</span>
<span class="sd">    push constant ranges are combined to form a pipeline layout object which</span>
<span class="sd">    describes the complete set of resources that can be accessed by a</span>
<span class="sd">    pipeline. The pipeline layout represents a sequence of descriptor sets</span>
<span class="sd">    with each having a specific layout. This sequence of layouts is used to</span>
<span class="sd">    determine the interface between shader stages and shader resources.</span>
<span class="sd">    Each pipeline is created using a pipeline layout.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">descriptors</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `descriptors`: `list` of `DescriptorSetLayout`</span>

<span class="sd">        **Todo: push constant muse be implemented**</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">vk_descriptors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">:</span>
            <span class="n">vk_descriptors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">descriptorsetlayout</span><span class="p">)</span>

        <span class="n">layout_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineLayoutCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">setLayoutCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_descriptors</span><span class="p">),</span>
            <span class="n">pSetLayouts</span><span class="o">=</span><span class="n">vk_descriptors</span> <span class="k">if</span> <span class="n">vk_descriptors</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">pushConstantRangeCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pPushConstantRanges</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreatePipelineLayout</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                <span class="n">layout_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineLayout">PipelineLayout</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.PipelineLayout.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, descriptors)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>descriptors</code>: <code>list</code> of <code>DescriptorSetLayout</code></li>
</ul>

<p><strong>Todo: push constant muse be implemented</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.PipelineLayout.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.PipelineLayout.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">descriptors</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `descriptors`: `list` of `DescriptorSetLayout`</span>
<span class="sd">    **Todo: push constant muse be implemented**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_descriptors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptors</span><span class="p">:</span>
        <span class="n">vk_descriptors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">descriptorsetlayout</span><span class="p">)</span>
    <span class="n">layout_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineLayoutCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">setLayoutCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_descriptors</span><span class="p">),</span>
        <span class="n">pSetLayouts</span><span class="o">=</span><span class="n">vk_descriptors</span> <span class="k">if</span> <span class="n">vk_descriptors</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">pushConstantRangeCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">pPushConstantRanges</span><span class="o">=</span><span class="bp">None</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreatePipelineLayout</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                            <span class="n">layout_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineLayout.layout" class="name">var <span class="ident">layout</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineMultisampleState" class="name">class <span class="ident">PipelineMultisampleState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>shading_enable</code>: Enable multisampling (<code>boolean</code>)</li>
<li><code>samples</code>: Number of samples, <code>SampleCount</code> vulk constant</li>
<li><code>min_sample_shading</code>: Minimum of sample (<code>float</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineMultisampleState">PipelineMultisampleState</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineMultisampleState.min_sample_shading" class="name">var <span class="ident">min_sample_shading</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineMultisampleState.samples" class="name">var <span class="ident">samples</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineMultisampleState.shading_enable" class="name">var <span class="ident">shading_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineRasterizationState" class="name">class <span class="ident">PipelineRasterizationState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>depth_clamp_enable</code>: Whether to enable depth clamping (<code>boolean</code>)</li>
<li><code>polygon_mode</code>: Which <code>PolygonMode</code> vulk constant to use</li>
<li><code>line_width</code>: Width of line (<code>float</code>)</li>
<li><code>cull_mode</code>: The way of culling, <code>CullMode</code> vulk constant</li>
<li><code>front_face</code>: <code>FrontFace</code> vulk constant</li>
<li><code>depth_bias_constant</code>: Constant to add to depth (<code>float</code>)</li>
<li><code>depth_bias_clamp</code>: Max depth bias (<code>float</code>)</li>
<li><code>depth_bias_slope</code>: Factor to slope (<code>float</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineRasterizationState">PipelineRasterizationState</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.cull_mode" class="name">var <span class="ident">cull_mode</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.depth_bias_clamp" class="name">var <span class="ident">depth_bias_clamp</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 6</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.depth_bias_constant" class="name">var <span class="ident">depth_bias_constant</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.depth_bias_slope" class="name">var <span class="ident">depth_bias_slope</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 7</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.depth_clamp_enable" class="name">var <span class="ident">depth_clamp_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.front_face" class="name">var <span class="ident">front_face</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.line_width" class="name">var <span class="ident">line_width</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.polygon_mode" class="name">var <span class="ident">polygon_mode</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineShaderStage" class="name">class <span class="ident">PipelineShaderStage</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>module</code>: The <code>ShaderModule</code> to bind</li>
<li><code>stage</code>: <code>ShaderStage</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineShaderStage">PipelineShaderStage</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineShaderStage.module" class="name">var <span class="ident">module</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineShaderStage.stage" class="name">var <span class="ident">stage</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineVertexInputState" class="name">class <span class="ident">PipelineVertexInputState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>bindings</code>: List of <code>VertexInputBindingDescription</code></li>
<li><code>attributes</code>: List of <code>VertexInputAttributeDescription</code></li>
</ul>

<p><strong>Note: <code>bindings</code> and <code>attributes</code> can be empty <code>list</code></strong></p>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineVertexInputState">PipelineVertexInputState</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineVertexInputState.attributes" class="name">var <span class="ident">attributes</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineVertexInputState.bindings" class="name">var <span class="ident">bindings</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineViewportState" class="name">class <span class="ident">PipelineViewportState</span></p>
      
  
    <div class="desc"><p>The PipelineViewportState object contains viewports and scissors.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>viewports</code>: <code>list</code> of <code>Viewport</code></li>
<li><code>scissors</code>: <code>list</code> of <code>Rect2D</code></li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineViewportState">PipelineViewportState</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineViewportState.scissors" class="name">var <span class="ident">scissors</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineViewportState.viewports" class="name">var <span class="ident">viewports</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Rect2d" class="name">class <span class="ident">Rect2D</span></p>
      
  
    <div class="desc"><p>2D surface with offset.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>offset</code>: <code>Offset2D</code> object</li>
<li><code>extent</code>: <code>Extent2D</code> object</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Rect2d">Rect2D</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Rect2d.extent" class="name">var <span class="ident">extent</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Rect2d.offset" class="name">var <span class="ident">offset</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Renderpass" class="name">class <span class="ident">Renderpass</span></p>
      
  
    <div class="desc"><p>Renderpass object</p>

<p>When creating the pipeline, we need to tell Vulkan about the
framebuffer attachments that will be used while rendering. We need to
specify how many color and depth buffers there will be, how many samples
to use for each of them and how their contents should be handled
throughout the rendering operations. All of this information is wrapped
in a RenderPass object</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Renderpass', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Renderpass" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Renderpass</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Renderpass object</span>

<span class="sd">    When creating the pipeline, we need to tell Vulkan about the</span>
<span class="sd">    framebuffer attachments that will be used while rendering. We need to</span>
<span class="sd">    specify how many color and depth buffers there will be, how many samples</span>
<span class="sd">    to use for each of them and how their contents should be handled</span>
<span class="sd">    throughout the rendering operations. All of this information is wrapped</span>
<span class="sd">    in a RenderPass object</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span> <span class="n">subpasses</span><span class="p">,</span> <span class="n">dependencies</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Renderpass constructor</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `attachments`: `list` of `AttachmentDescription`</span>
<span class="sd">        - `subpasses`: `list` of `SubpassDescription`</span>
<span class="sd">        - `dependencies`: `list` of `SubpassDependency`</span>

<span class="sd">        **Warning: Arguments ar not checked, you must know</span>
<span class="sd">                   what you are doing.**</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">vk_attachments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">:</span>
            <span class="n">vk_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentDescription</span><span class="p">(</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">format</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">samples</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">loadOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">storeOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">stencilLoadOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_load</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">stencilStoreOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_store</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">initialLayout</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">initial_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">finalLayout</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">final_layout</span><span class="o">.</span><span class="n">value</span>
            <span class="p">))</span>

        <span class="c1"># Loop through the list of subpasses to create the reference</span>
        <span class="c1"># reference key is index_layout</span>
        <span class="n">vk_references</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">inputs</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">resolves</span> <span class="o">+</span>
                      <span class="n">s</span><span class="o">.</span><span class="n">preserves</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">):</span>
                <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vk_references</span><span class="p">:</span>
                    <span class="n">vk_references</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentReference</span><span class="p">(</span>
                        <span class="n">attachment</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                        <span class="n">layout</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">value</span>
                    <span class="p">)</span>

        <span class="k">def</span> <span class="nf">ref</span><span class="p">(</span><span class="n">references</span><span class="p">):</span>
            <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">            Convert a list of `AttachmentReference` to a list of</span>
<span class="sd">            `VkAttachmentReference` by using the cached references in</span>
<span class="sd">            `vk_references`</span>
<span class="sd">            &#39;&#39;&#39;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">references</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>

            <span class="k">return</span> <span class="p">[</span><span class="n">vk_references</span><span class="p">[(</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">references</span><span class="p">]</span>

        <span class="c1"># Create the subpasses using references</span>
        <span class="n">vk_subpasses</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
            <span class="n">leninputs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
            <span class="n">lenpreserves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">preserves</span><span class="p">)</span>
            <span class="n">lencolors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span><span class="p">)</span>
            <span class="n">lenresolves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">resolves</span><span class="p">)</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">preserves</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">preserves</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">resolves</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">resolves</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">depth_stencil</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">)),</span> <span class="bp">None</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">resolves</span> <span class="ow">and</span> <span class="n">inputs</span> <span class="ow">and</span> <span class="n">lenresolves</span> <span class="o">!=</span> <span class="n">lencolors</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;resolves and inputs list must be of the same size&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">vk_subpasses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDescription</span><span class="p">(</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">pipelineBindPoint</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">PipelineBindPoint</span><span class="o">.</span><span class="n">GRAPHICS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">inputAttachmentCount</span><span class="o">=</span><span class="n">leninputs</span><span class="p">,</span>
                <span class="n">pInputAttachments</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
                <span class="n">colorAttachmentCount</span><span class="o">=</span><span class="n">lencolors</span><span class="p">,</span>
                <span class="n">pColorAttachments</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
                <span class="n">pResolveAttachments</span><span class="o">=</span><span class="n">resolves</span><span class="p">,</span>
                <span class="n">preserveAttachmentCount</span><span class="o">=</span><span class="n">lenpreserves</span><span class="p">,</span>
                <span class="n">pPreserveAttachments</span><span class="o">=</span><span class="n">preserves</span><span class="p">,</span>
                <span class="n">pDepthStencilAttachment</span><span class="o">=</span><span class="n">depth_stencil</span>
            <span class="p">))</span>

        <span class="c1"># Create the dependancies</span>
        <span class="n">vk_dependencies</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dependencies</span><span class="p">:</span>
            <span class="n">vk_dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDependency</span><span class="p">(</span>
                <span class="n">dependencyFlags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">srcSubpass</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">src_subpass</span><span class="p">,</span>
                <span class="n">dstSubpass</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">dst_subpass</span><span class="p">,</span>
                <span class="n">srcStageMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">src_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">dstStageMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">dst_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">srcAccessMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">src_access</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">dstAccessMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">dst_access</span><span class="o">.</span><span class="n">value</span>
            <span class="p">))</span>

        <span class="c1"># Create the render pass</span>
        <span class="n">renderpass_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRenderPassCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_attachments</span><span class="p">,</span>
            <span class="n">subpassCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_subpasses</span><span class="p">),</span>
            <span class="n">pSubpasses</span><span class="o">=</span><span class="n">vk_subpasses</span><span class="p">,</span>
            <span class="n">dependencyCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_dependencies</span><span class="p">),</span>
            <span class="n">pDependencies</span><span class="o">=</span><span class="n">vk_dependencies</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renderpass</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateRenderPass</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">renderpass_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Renderpass">Renderpass</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Renderpass.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, attachments, subpasses, dependencies)</p>
    </div>
    

    
  
    <div class="desc"><p>Renderpass constructor</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>attachments</code>: <code>list</code> of <code>AttachmentDescription</code></li>
<li><code>subpasses</code>: <code>list</code> of <code>SubpassDescription</code></li>
<li><code>dependencies</code>: <code>list</code> of <code>SubpassDependency</code></li>
</ul>

<p><strong>Warning: Arguments ar not checked, you must know
           what you are doing.</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Renderpass.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Renderpass.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span> <span class="n">subpasses</span><span class="p">,</span> <span class="n">dependencies</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Renderpass constructor</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `attachments`: `list` of `AttachmentDescription`</span>
<span class="sd">    - `subpasses`: `list` of `SubpassDescription`</span>
<span class="sd">    - `dependencies`: `list` of `SubpassDependency`</span>
<span class="sd">    **Warning: Arguments ar not checked, you must know</span>
<span class="sd">               what you are doing.**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_attachments</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">:</span>
        <span class="n">vk_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentDescription</span><span class="p">(</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">format</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">samples</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">loadOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">storeOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">stencilLoadOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_load</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">stencilStoreOp</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_store</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">initialLayout</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">initial_layout</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">finalLayout</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">final_layout</span><span class="o">.</span><span class="n">value</span>
        <span class="p">))</span>
    <span class="c1"># Loop through the list of subpasses to create the reference</span>
    <span class="c1"># reference key is index_layout</span>
    <span class="n">vk_references</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">inputs</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">resolves</span> <span class="o">+</span>
                  <span class="n">s</span><span class="o">.</span><span class="n">preserves</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">):</span>
            <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vk_references</span><span class="p">:</span>
                <span class="n">vk_references</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentReference</span><span class="p">(</span>
                    <span class="n">attachment</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                    <span class="n">layout</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">value</span>
                <span class="p">)</span>
    <span class="k">def</span> <span class="nf">ref</span><span class="p">(</span><span class="n">references</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Convert a list of `AttachmentReference` to a list of</span>
<span class="sd">        `VkAttachmentReference` by using the cached references in</span>
<span class="sd">        `vk_references`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">references</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">vk_references</span><span class="p">[(</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">references</span><span class="p">]</span>
    <span class="c1"># Create the subpasses using references</span>
    <span class="n">vk_subpasses</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
        <span class="n">leninputs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
        <span class="n">lenpreserves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">preserves</span><span class="p">)</span>
        <span class="n">lencolors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span><span class="p">)</span>
        <span class="n">lenresolves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">resolves</span><span class="p">)</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">preserves</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">preserves</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">resolves</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">resolves</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">depth_stencil</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">ref</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">)),</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resolves</span> <span class="ow">and</span> <span class="n">inputs</span> <span class="ow">and</span> <span class="n">lenresolves</span> <span class="o">!=</span> <span class="n">lencolors</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;resolves and inputs list must be of the same size&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">vk_subpasses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDescription</span><span class="p">(</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pipelineBindPoint</span><span class="o">=</span><span class="n">vc</span><span class="o">.</span><span class="n">PipelineBindPoint</span><span class="o">.</span><span class="n">GRAPHICS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">inputAttachmentCount</span><span class="o">=</span><span class="n">leninputs</span><span class="p">,</span>
            <span class="n">pInputAttachments</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
            <span class="n">colorAttachmentCount</span><span class="o">=</span><span class="n">lencolors</span><span class="p">,</span>
            <span class="n">pColorAttachments</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
            <span class="n">pResolveAttachments</span><span class="o">=</span><span class="n">resolves</span><span class="p">,</span>
            <span class="n">preserveAttachmentCount</span><span class="o">=</span><span class="n">lenpreserves</span><span class="p">,</span>
            <span class="n">pPreserveAttachments</span><span class="o">=</span><span class="n">preserves</span><span class="p">,</span>
            <span class="n">pDepthStencilAttachment</span><span class="o">=</span><span class="n">depth_stencil</span>
        <span class="p">))</span>
    <span class="c1"># Create the dependancies</span>
    <span class="n">vk_dependencies</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dependencies</span><span class="p">:</span>
        <span class="n">vk_dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDependency</span><span class="p">(</span>
            <span class="n">dependencyFlags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">srcSubpass</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">src_subpass</span><span class="p">,</span>
            <span class="n">dstSubpass</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">dst_subpass</span><span class="p">,</span>
            <span class="n">srcStageMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">src_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dstStageMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">dst_stage</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">srcAccessMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">src_access</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">dstAccessMask</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">dst_access</span><span class="o">.</span><span class="n">value</span>
        <span class="p">))</span>
    <span class="c1"># Create the render pass</span>
    <span class="n">renderpass_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRenderPassCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_attachments</span><span class="p">),</span>
        <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_attachments</span><span class="p">,</span>
        <span class="n">subpassCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_subpasses</span><span class="p">),</span>
        <span class="n">pSubpasses</span><span class="o">=</span><span class="n">vk_subpasses</span><span class="p">,</span>
        <span class="n">dependencyCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_dependencies</span><span class="p">),</span>
        <span class="n">pDependencies</span><span class="o">=</span><span class="n">vk_dependencies</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">renderpass</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateRenderPass</span><span class="p">(</span>
        <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">renderpass_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Renderpass.renderpass" class="name">var <span class="ident">renderpass</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Sampler" class="name">class <span class="ident">Sampler</span></p>
      
  
    <div class="desc"><p><code>Sampler</code> objects represent the state of an image sampler which is used
by the implementation to read image data and apply filtering and other
transformations for the shader.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Sampler', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Sampler" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Sampler</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    `Sampler` objects represent the state of an image sampler which is used</span>
<span class="sd">    by the implementation to read image data and apply filtering and other</span>
<span class="sd">    transformations for the shader.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">mag_filter</span><span class="p">,</span> <span class="n">min_filter</span><span class="p">,</span> <span class="n">mipmap_mode</span><span class="p">,</span>
                 <span class="n">address_mode_u</span><span class="p">,</span> <span class="n">address_mode_v</span><span class="p">,</span> <span class="n">address_mode_w</span><span class="p">,</span> <span class="n">mip_lod_bias</span><span class="p">,</span>
                 <span class="n">anisotropy_enable</span><span class="p">,</span> <span class="n">max_anisotropy</span><span class="p">,</span> <span class="n">compare_enable</span><span class="p">,</span>
                 <span class="n">compare_op</span><span class="p">,</span> <span class="n">min_lod</span><span class="p">,</span> <span class="n">max_lod</span><span class="p">,</span> <span class="n">border_color</span><span class="p">,</span>
                 <span class="n">unnormalized_coordinates</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `mag_filter`: Magnification `Filter` to apply to lookups</span>
<span class="sd">        - `min_filter`: Minification `Filter` to apply to lookups</span>
<span class="sd">        - `mipmap_mode`: `SamplerMipmapMode` mipmap filter to apply to</span>
<span class="sd">                         lookups</span>
<span class="sd">        - `address_mode_u`: `SamplerAddressMode` vulk constant</span>
<span class="sd">        - `address_mode_v`: `SamplerAddressMode` vulk contant</span>
<span class="sd">        - `address_mode_w`: `SamplerAddressMode` vulk contant</span>
<span class="sd">        - `mip_lod_bias`: Bias to be added to mipmap LOD calculation</span>
<span class="sd">        - `anisotropy_enable`: `True` to enable anisotropic filtering</span>
<span class="sd">        - `max_anisotropy`: Anisotropy value clamp</span>
<span class="sd">        - `compare_enable`: `True` to enable comparison against a reference</span>
<span class="sd">                            value during lookups</span>
<span class="sd">        - `compare_op`: `CompareOp` vulk constant comparison function to apply</span>
<span class="sd">                        to fetched data before filtering</span>
<span class="sd">        - `min_lod`: Value used to clamp the computed level-of-detail value</span>
<span class="sd">        - `max_lod`: Value used to clamp the computed level-of-detail value</span>
<span class="sd">        - `border_color`: `BorderColor` predefined border color to use</span>
<span class="sd">        - `unnormalized_coordinates`: `True` to use unnormalized texel</span>
<span class="sd">                                      coordinates</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">sampler_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkSamplerCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">magFilter</span><span class="o">=</span><span class="n">mag_filter</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">minFilter</span><span class="o">=</span><span class="n">min_filter</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">mipmapMode</span><span class="o">=</span><span class="n">mipmap_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">addressModeU</span><span class="o">=</span><span class="n">address_mode_u</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">addressModeV</span><span class="o">=</span><span class="n">address_mode_v</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">addressModeW</span><span class="o">=</span><span class="n">address_mode_w</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">mipLodBias</span><span class="o">=</span><span class="n">mip_lod_bias</span><span class="p">,</span>
            <span class="n">anisotropyEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">anisotropy_enable</span><span class="p">),</span>
            <span class="n">maxAnisotropy</span><span class="o">=</span><span class="n">max_anisotropy</span><span class="p">,</span>
            <span class="n">compareEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">compare_enable</span><span class="p">),</span>
            <span class="n">compareOp</span><span class="o">=</span><span class="n">compare_op</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">minLod</span><span class="o">=</span><span class="n">min_lod</span><span class="p">,</span>
            <span class="n">maxLod</span><span class="o">=</span><span class="n">max_lod</span><span class="p">,</span>
            <span class="n">borderColor</span><span class="o">=</span><span class="n">border_color</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">unnormalizedCoordinates</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">unnormalized_coordinates</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sampler</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateSampler</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">sampler_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Sampler">Sampler</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Sampler.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, mag_filter, min_filter, mipmap_mode, address_mode_u, address_mode_v, address_mode_w, mip_lod_bias, anisotropy_enable, max_anisotropy, compare_enable, compare_op, min_lod, max_lod, border_color, unnormalized_coordinates)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>mag_filter</code>: Magnification <code>Filter</code> to apply to lookups</li>
<li><code>min_filter</code>: Minification <code>Filter</code> to apply to lookups</li>
<li><code>mipmap_mode</code>: <code>SamplerMipmapMode</code> mipmap filter to apply to
             lookups</li>
<li><code>address_mode_u</code>: <code>SamplerAddressMode</code> vulk constant</li>
<li><code>address_mode_v</code>: <code>SamplerAddressMode</code> vulk contant</li>
<li><code>address_mode_w</code>: <code>SamplerAddressMode</code> vulk contant</li>
<li><code>mip_lod_bias</code>: Bias to be added to mipmap LOD calculation</li>
<li><code>anisotropy_enable</code>: <code>True</code> to enable anisotropic filtering</li>
<li><code>max_anisotropy</code>: Anisotropy value clamp</li>
<li><code>compare_enable</code>: <code>True</code> to enable comparison against a reference
                value during lookups</li>
<li><code>compare_op</code>: <code>CompareOp</code> vulk constant comparison function to apply
            to fetched data before filtering</li>
<li><code>min_lod</code>: Value used to clamp the computed level-of-detail value</li>
<li><code>max_lod</code>: Value used to clamp the computed level-of-detail value</li>
<li><code>border_color</code>: <code>BorderColor</code> predefined border color to use</li>
<li><code>unnormalized_coordinates</code>: <code>True</code> to use unnormalized texel
                          coordinates</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Sampler.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Sampler.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">mag_filter</span><span class="p">,</span> <span class="n">min_filter</span><span class="p">,</span> <span class="n">mipmap_mode</span><span class="p">,</span>
             <span class="n">address_mode_u</span><span class="p">,</span> <span class="n">address_mode_v</span><span class="p">,</span> <span class="n">address_mode_w</span><span class="p">,</span> <span class="n">mip_lod_bias</span><span class="p">,</span>
             <span class="n">anisotropy_enable</span><span class="p">,</span> <span class="n">max_anisotropy</span><span class="p">,</span> <span class="n">compare_enable</span><span class="p">,</span>
             <span class="n">compare_op</span><span class="p">,</span> <span class="n">min_lod</span><span class="p">,</span> <span class="n">max_lod</span><span class="p">,</span> <span class="n">border_color</span><span class="p">,</span>
             <span class="n">unnormalized_coordinates</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `mag_filter`: Magnification `Filter` to apply to lookups</span>
<span class="sd">    - `min_filter`: Minification `Filter` to apply to lookups</span>
<span class="sd">    - `mipmap_mode`: `SamplerMipmapMode` mipmap filter to apply to</span>
<span class="sd">                     lookups</span>
<span class="sd">    - `address_mode_u`: `SamplerAddressMode` vulk constant</span>
<span class="sd">    - `address_mode_v`: `SamplerAddressMode` vulk contant</span>
<span class="sd">    - `address_mode_w`: `SamplerAddressMode` vulk contant</span>
<span class="sd">    - `mip_lod_bias`: Bias to be added to mipmap LOD calculation</span>
<span class="sd">    - `anisotropy_enable`: `True` to enable anisotropic filtering</span>
<span class="sd">    - `max_anisotropy`: Anisotropy value clamp</span>
<span class="sd">    - `compare_enable`: `True` to enable comparison against a reference</span>
<span class="sd">                        value during lookups</span>
<span class="sd">    - `compare_op`: `CompareOp` vulk constant comparison function to apply</span>
<span class="sd">                    to fetched data before filtering</span>
<span class="sd">    - `min_lod`: Value used to clamp the computed level-of-detail value</span>
<span class="sd">    - `max_lod`: Value used to clamp the computed level-of-detail value</span>
<span class="sd">    - `border_color`: `BorderColor` predefined border color to use</span>
<span class="sd">    - `unnormalized_coordinates`: `True` to use unnormalized texel</span>
<span class="sd">                                  coordinates</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">sampler_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkSamplerCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SAMPLER_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">magFilter</span><span class="o">=</span><span class="n">mag_filter</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">minFilter</span><span class="o">=</span><span class="n">min_filter</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">mipmapMode</span><span class="o">=</span><span class="n">mipmap_mode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">addressModeU</span><span class="o">=</span><span class="n">address_mode_u</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">addressModeV</span><span class="o">=</span><span class="n">address_mode_v</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">addressModeW</span><span class="o">=</span><span class="n">address_mode_w</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">mipLodBias</span><span class="o">=</span><span class="n">mip_lod_bias</span><span class="p">,</span>
        <span class="n">anisotropyEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">anisotropy_enable</span><span class="p">),</span>
        <span class="n">maxAnisotropy</span><span class="o">=</span><span class="n">max_anisotropy</span><span class="p">,</span>
        <span class="n">compareEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">compare_enable</span><span class="p">),</span>
        <span class="n">compareOp</span><span class="o">=</span><span class="n">compare_op</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">minLod</span><span class="o">=</span><span class="n">min_lod</span><span class="p">,</span>
        <span class="n">maxLod</span><span class="o">=</span><span class="n">max_lod</span><span class="p">,</span>
        <span class="n">borderColor</span><span class="o">=</span><span class="n">border_color</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">unnormalizedCoordinates</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">unnormalized_coordinates</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sampler</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateSampler</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">sampler_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Sampler.sampler" class="name">var <span class="ident">sampler</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Semaphore" class="name">class <span class="ident">Semaphore</span></p>
      
  
    <div class="desc"><p>Semaphores are a synchronization primitive that can be used to insert a
dependency between batches submitted to queues. Semaphores have two
states - signaled and unsignaled. The state of a semaphore can be signaled
after execution of a batch of commands is completed. A batch can wait for
a semaphore to become signaled before it begins execution, and the
semaphore is also unsignaled before the batch begins execution.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Semaphore', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Semaphore" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Semaphore</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Semaphores are a synchronization primitive that can be used to insert a</span>
<span class="sd">    dependency between batches submitted to queues. Semaphores have two</span>
<span class="sd">    states - signaled and unsignaled. The state of a semaphore can be signaled</span>
<span class="sd">    after execution of a batch of commands is completed. A batch can wait for</span>
<span class="sd">    a semaphore to become signaled before it begins execution, and the</span>
<span class="sd">    semaphore is also unsignaled before the batch begins execution.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">semaphore_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkSemaphoreCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">semaphore</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateSemaphore</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">semaphore_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Semaphore">Semaphore</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Semaphore.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Semaphore.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Semaphore.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">semaphore_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkSemaphoreCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">semaphore</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateSemaphore</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">semaphore_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Semaphore.semaphore" class="name">var <span class="ident">semaphore</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.ShaderModule" class="name">class <span class="ident">ShaderModule</span></p>
      
  
    <div class="desc"><p>ShaderModule Vulkan object</p>

<p>A shader module is a Spir-V shader loaded into Vulkan.
After being created, it must be inserted in a pipeline stage.
The real Vulkan module can be accessed by the 'module' property.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ShaderModule', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ShaderModule" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ShaderModule</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ShaderModule Vulkan object</span>

<span class="sd">    A shader module is a Spir-V shader loaded into Vulkan.</span>
<span class="sd">    After being created, it must be inserted in a pipeline stage.</span>
<span class="sd">    The real Vulkan module can be accessed by the &#39;module&#39; property.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Initialize the module</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext` object</span>
<span class="sd">        - `code`: Binary Spir-V loaded file (bytes)</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        The created `ShaderModule`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Type of code is not &#39;bytes&#39;, it may be an error&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>

        <span class="c1"># Create the shader module</span>
        <span class="n">shader_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkShaderModuleCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">codeSize</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">code</span><span class="p">),</span> <span class="n">pCode</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateShaderModule</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">shader_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.ShaderModule">ShaderModule</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.ShaderModule.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, code)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize the module</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code> object</li>
<li><code>code</code>: Binary Spir-V loaded file (bytes)</li>
</ul>

<p><em>Returns:</em></p>

<p>The created <code>ShaderModule</code></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ShaderModule.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ShaderModule.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Initialize the module</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext` object</span>
<span class="sd">    - `code`: Binary Spir-V loaded file (bytes)</span>
<span class="sd">    *Returns:*</span>
<span class="sd">    The created `ShaderModule`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Type of code is not &#39;bytes&#39;, it may be an error&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>
    <span class="c1"># Create the shader module</span>
    <span class="n">shader_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkShaderModuleCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">codeSize</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">code</span><span class="p">),</span> <span class="n">pCode</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateShaderModule</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">shader_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.ShaderModule.code" class="name">var <span class="ident">code</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ShaderModule.module" class="name">var <span class="ident">module</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.ShaderProgram" class="name">class <span class="ident">ShaderProgram</span></p>
      
  
    <div class="desc"><p>ShaderProgram</p>

<p>A <code>ShaderProgram</code> embed all <code>ShaderModule</code> of a <code>Pipeline</code>.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ShaderProgram', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ShaderProgram" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ShaderProgram</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ShaderProgram</span>

<span class="sd">    A `ShaderProgram` embed all `ShaderModule` of a `Pipeline`.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">modules</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `modules`: `dict` containing a mapping between `ShaderStage` and the</span>
<span class="sd">                     actual shader. The shader must be a `bytes` object like</span>
<span class="sd">                     obtained by open(path, &#39;rb&#39;).read()</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">stage</span><span class="p">,</span> <span class="n">spirv</span> <span class="ow">in</span> <span class="n">modules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">spirv</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;shader must be a bytes object&quot;</span><span class="p">)</span>

            <span class="n">module</span> <span class="o">=</span> <span class="n">ShaderModule</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">spirv</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PipelineShaderStage</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">stage</span><span class="p">))</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.ShaderProgram">ShaderProgram</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.ShaderProgram.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, modules)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: <code>VulkContext</code></li>
<li><code>modules</code>: <code>dict</code> containing a mapping between <code>ShaderStage</code> and the
         actual shader. The shader must be a <code>bytes</code> object like
         obtained by open(path, 'rb').read()</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ShaderProgram.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ShaderProgram.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">modules</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: `VulkContext`</span>
<span class="sd">    - `modules`: `dict` containing a mapping between `ShaderStage` and the</span>
<span class="sd">                 actual shader. The shader must be a `bytes` object like</span>
<span class="sd">                 obtained by open(path, &#39;rb&#39;).read()</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stages</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">stage</span><span class="p">,</span> <span class="n">spirv</span> <span class="ow">in</span> <span class="n">modules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">spirv</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;shader must be a bytes object&quot;</span><span class="p">)</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">ShaderModule</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">spirv</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PipelineShaderStage</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">stage</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.ShaderProgram.stages" class="name">var <span class="ident">stages</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.SubmitInfo" class="name">class <span class="ident">SubmitInfo</span></p>
      
  
    <div class="desc"><p>Submit information when submitting to queue</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>wait_semaphores</code>: <code>list</code> of <code>Semaphore</code> to wait on</li>
<li><code>wait_stages</code>: <code>list</code> of <code>PipelineStage</code> vulk constant at which each
             corresponding semaphore wait will occur. Must be the
             same size as <code>wait_semaphores</code></li>
<li><code>signal_semaphores</code>: <code>list</code> of <code>Semaphore</code> to signal when commands
                   are finished</li>
<li><code>commandbuffers</code>: <code>list</code> of <code>CommandBuffer</code> to execute</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.SubmitInfo">SubmitInfo</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.SubmitInfo.commandbuffers" class="name">var <span class="ident">commandbuffers</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubmitInfo.signal_semaphores" class="name">var <span class="ident">signal_semaphores</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubmitInfo.wait_semaphores" class="name">var <span class="ident">wait_semaphores</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubmitInfo.wait_stages" class="name">var <span class="ident">wait_stages</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.SubpassDependency" class="name">class <span class="ident">SubpassDependency</span></p>
      
  
    <div class="desc"><p>SubpassDependency describes all dependencies of the subpass.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>src_subpass</code>: Source subpass <code>int</code> or <code>SUBPASS_EXTERNAL</code> vulk constant</li>
<li><code>src_stage</code>: Source stage <code>PipelineStage</code> vulk constant</li>
<li><code>src_access</code>: Source <code>Access</code> vulk constant</li>
<li><code>dst_subpass</code>: Destination subpass <code>int</code> or
             <code>SUBPASS_EXTERNAL</code> vulk constant</li>
<li><code>dst_stage</code>: Destination stage <code>PipelineStage</code> vulk constant</li>
<li><code>dst_access</code>: Destination <code>Access</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.SubpassDependency">SubpassDependency</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.dst_access" class="name">var <span class="ident">dst_access</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.dst_stage" class="name">var <span class="ident">dst_stage</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.dst_subpass" class="name">var <span class="ident">dst_subpass</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.src_access" class="name">var <span class="ident">src_access</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.src_stage" class="name">var <span class="ident">src_stage</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.src_subpass" class="name">var <span class="ident">src_subpass</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.SubpassDescription" class="name">class <span class="ident">SubpassDescription</span></p>
      
  
    <div class="desc"><p><code>SubpassDescription</code> describes all attachments in the subpass.
All parameters are of type <code>AttachmentReference</code>. If you don't want
an attachment, set it to an empty list.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>colors</code>: <code>list</code> of colors attachments</li>
<li><code>inputs</code>: <code>list</code> of inputs attachments</li>
<li><code>resolves</code>: <code>list</code> of resolves attachments (must be the same
          size as inputs)</li>
<li><code>preserves</code>: <code>list</code> of preserves attachments</li>
<li><code>depth_stencil</code>: <code>list</code> containing only one attachment</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.SubpassDescription">SubpassDescription</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.colors" class="name">var <span class="ident">colors</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.depth_stencil" class="name">var <span class="ident">depth_stencil</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.inputs" class="name">var <span class="ident">inputs</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.preserves" class="name">var <span class="ident">preserves</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.resolves" class="name">var <span class="ident">resolves</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.VertexInputAttributeDescription" class="name">class <span class="ident">VertexInputAttributeDescription</span></p>
      
  
    <div class="desc"><p>Structure specifying vertex input attribute description</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>location</code>: Shader binding location number for this attribute (<code>int</code>)</li>
<li><code>binding</code>: Binding number which this attribute takes its data from</li>
<li><code>format</code>: <code>Format</code> vulk constant of the vertex attribute data</li>
<li><code>offset</code>: Byte offset of this attribute relative to the start of an
        element in the vertex input binding (<code>int</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.VertexInputAttributeDescription">VertexInputAttributeDescription</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.VertexInputAttributeDescription.binding" class="name">var <span class="ident">binding</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.VertexInputAttributeDescription.format" class="name">var <span class="ident">format</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.VertexInputAttributeDescription.location" class="name">var <span class="ident">location</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.VertexInputAttributeDescription.offset" class="name">var <span class="ident">offset</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.VertexInputBindingDescription" class="name">class <span class="ident">VertexInputBindingDescription</span></p>
      
  
    <div class="desc"><p>Structure specifying vertex input binding description</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>binding</code>: Binding number (<code>int</code>)</li>
<li><code>stride</code>: Distance in bytes between two consecutive elements within
        the buffer (<code>int</code>)</li>
<li><code>rate</code>: <code>VertexInputRate</code> vulk constant</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.VertexInputBindingDescription">VertexInputBindingDescription</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.VertexInputBindingDescription.binding" class="name">var <span class="ident">binding</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.VertexInputBindingDescription.rate" class="name">var <span class="ident">rate</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.VertexInputBindingDescription.stride" class="name">var <span class="ident">stride</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Viewport" class="name">class <span class="ident">Viewport</span></p>
      
  
    <div class="desc"><p>Structure specifying a viewport</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>x</code>: X upper left corner</li>
<li><code>y</code>: Y upper left corner</li>
<li><code>width</code>: Viewport width</li>
<li><code>height</code>: Viewport height</li>
<li><code>min_depth</code>: Depth range for the viewport</li>
<li><code>max_depth</code>: Depth range for the viewport</li>
</ul>

<p><strong>Note: <code>min_depth</code> and <code>max_depth</code> must be between 0.0 and 1.0</strong></p>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Viewport">Viewport</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Viewport.height" class="name">var <span class="ident">height</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Viewport.max_depth" class="name">var <span class="ident">max_depth</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Viewport.min_depth" class="name">var <span class="ident">min_depth</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Viewport.width" class="name">var <span class="ident">width</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Viewport.x" class="name">var <span class="ident">x</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Viewport.y" class="name">var <span class="ident">y</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.WriteDescriptorSet" class="name">class <span class="ident">WriteDescriptorSet</span></p>
      
  
    <div class="desc"><p>Structure specifying the parameters of a descriptor set write operation</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>set</code>: Destination <code>DescriptorSet</code> set to update</li>
<li><code>binding</code>: Descriptor binding within that set</li>
<li><code>set_offset</code>: Offset to start with in the descriptor</li>
<li><code>type</code>: Type of descriptor <code>DescriptorType</code> vulk constant</li>
<li><code>descriptors</code>: <code>list</code> of <code>DescriptorBufferInfo</code> or <code>DescriptorImageInfo</code>
            or <code>BufferView</code> depending on <code>type</code></li>
</ul>

<p><strong>Note: The descriptor type must correspond to the <code>type</code> parameter</strong></p>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.WriteDescriptorSet">WriteDescriptorSet</a></li>
          <li>builtins.tuple</li>
          <li>builtins.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.WriteDescriptorSet.binding" class="name">var <span class="ident">binding</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.WriteDescriptorSet.descriptors" class="name">var <span class="ident">descriptors</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.WriteDescriptorSet.set" class="name">var <span class="ident">set</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.WriteDescriptorSet.set_offset" class="name">var <span class="ident">set_offset</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.WriteDescriptorSet.type" class="name">var <span class="ident">type</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

  </footer>
</div>

<script type="text/javascript">
    var em = document.querySelectorAll("em");
    var underline = ["Parameters:", "Returns:", "Exemple:"];

    for (var i = 0; i < em.length; ++i) {
        var item = em[i];
        for (var j = 0; j < underline.length; j++) {
            var search = underline[j];
            if (item.textContent == search) {
                item.style.textDecorationLine = "underline";
            }
        }
    }
</script>

</body>
</html>
