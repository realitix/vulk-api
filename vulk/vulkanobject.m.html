<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>vulk.vulkanobject API documentation</title>
    <meta name="description" content="Vulkan objects modules

This module contains the *High* level Vulkan object. It's not that *high*
le..." />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">
    <li class="set"><h3><a href="#header-variables">Module variables</a></h3>
      
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.STAGE_MAPPING">STAGE_MAPPING</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.logger">logger</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.btov">btov</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.find_memory_type">find_memory_type</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.vk_const">vk_const</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.AttachmentDescription">AttachmentDescription</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.AttachmentReference">AttachmentReference</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Extent3D">Extent3D</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Framebuffer">Framebuffer</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Framebuffer.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Image">Image</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Image.__init__">__init__</a></li>
    <li class="mono"><a href="#vulk.vulkanobject.Image.map">map</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.ImageSubresourceRange">ImageSubresourceRange</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.ImageView">ImageView</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.ImageView.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Pipeline">Pipeline</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Pipeline.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineColorBlendAttachmentState">PipelineColorBlendAttachmentState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineColorBlendState">PipelineColorBlendState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineDepthStencilState">PipelineDepthStencilState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineDynamicState">PipelineDynamicState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineInputAssemblyState">PipelineInputAssemblyState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineMultisampleState">PipelineMultisampleState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineRasterizationState">PipelineRasterizationState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineShaderStage">PipelineShaderStage</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineVertexInputState">PipelineVertexInputState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.PipelineViewportState">PipelineViewportState</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.Renderpass">Renderpass</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.Renderpass.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.ShaderModule">ShaderModule</a></span>
        
          
  <ul>
    <li class="mono"><a href="#vulk.vulkanobject.ShaderModule.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.SubpassDependency">SubpassDependency</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#vulk.vulkanobject.SubpassDescription">SubpassDescription</a></span>
        
        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  

    <p id="nav">
      <a href="/vulk-api/vulk/">All packages</a>
      
        
        :: <a href="/vulk-api/vulk">vulk</a>
    </p>

  <header id="section-intro">
  <h1 class="title"><span class="name">vulk.vulkanobject</span> module</h1>
  <p>Vulkan objects modules</p>

<p>This module contains the <em>High</em> level Vulkan object. It's not that <em>high</em>
level, you need to understand fully Vulkan to use theses objects.
This module must be use by Vulkan expert and is very complicated to work with.
You will see a lot of namedtuple here, they are used to better document the
object arguments. Instead of passing a dict whith unknow keys, you pass a
documented namedtuple, I think it's better.
If you want to understand internal Vulkan functions, you can hack around this
module.</p>

<p><strong>Note: In this module, when it's needed, the parameter type is indicated. If
        the type begins with Vk..., it means a real Vulkan object and not an
        object in this module.</strong></p>

  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject" class="source">
    <div class="codehilite"><pre><span></span><span class="sd">&#39;&#39;&#39;Vulkan objects modules</span>

<span class="sd">This module contains the *High* level Vulkan object. It&#39;s not that *high*</span>
<span class="sd">level, you need to understand fully Vulkan to use theses objects.</span>
<span class="sd">This module must be use by Vulkan expert and is very complicated to work with.</span>
<span class="sd">You will see a lot of namedtuple here, they are used to better document the</span>
<span class="sd">object arguments. Instead of passing a dict whith unknow keys, you pass a</span>
<span class="sd">documented namedtuple, I think it&#39;s better.</span>
<span class="sd">If you want to understand internal Vulkan functions, you can hack around this</span>
<span class="sd">module.</span>

<span class="sd">**Note: In this module, when it&#39;s needed, the parameter type is indicated. If</span>
<span class="sd">        the type begins with Vk..., it means a real Vulkan object and not an</span>
<span class="sd">        object in this module.**</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">vulkan</span> <span class="kn">as</span> <span class="nn">vk</span>

<span class="kn">from</span> <span class="nn">vulk.exception</span> <span class="kn">import</span> <span class="n">VulkError</span>
<span class="kn">from</span> <span class="nn">vulk</span> <span class="kn">import</span> <span class="n">vulkanconstant</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>

<span class="n">STAGE_MAPPING</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;vertex&#39;</span><span class="p">:</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_SHADER_STAGE_VERTEX_BIT</span><span class="p">,</span>
    <span class="s1">&#39;tessellation_control&#39;</span><span class="p">:</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_SHADER_STAGE_TESSELLATION_CONTROL_BIT</span><span class="p">,</span> <span class="c1"># noqa</span>
    <span class="s1">&#39;tessellation_evaluation&#39;</span><span class="p">:</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_SHADER_STAGE_TESSELLATION_EVALUATION_BIT</span><span class="p">,</span> <span class="c1"># noqa</span>
    <span class="s1">&#39;geometry&#39;</span><span class="p">:</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_SHADER_STAGE_GEOMETRY_BIT</span><span class="p">,</span>
    <span class="s1">&#39;fragment&#39;</span><span class="p">:</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_SHADER_STAGE_FRAGMENT_BIT</span><span class="p">,</span>
    <span class="s1">&#39;compute&#39;</span><span class="p">:</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_SHADER_STAGE_COMPUTE_BIT</span>
<span class="p">}</span>


<span class="k">def</span> <span class="nf">vk_const</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get constant</span>

<span class="sd">    if v is str, we get the constant in vulkan</span>
<span class="sd">    else we return it as is</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="s1">&#39;|&#39;</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">):</span>
                <span class="n">result</span> <span class="o">|=</span> <span class="n">vk_const</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">vk</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>


<span class="k">def</span> <span class="nf">btov</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Convert boolean to Vulkan boolean&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span> <span class="k">if</span> <span class="n">b</span> <span class="k">else</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>


<span class="k">def</span> <span class="nf">find_memory_type</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">type_filter</span><span class="p">,</span> <span class="n">properties</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Graphics cards can offer different types of memory to allocate from.</span>
<span class="sd">    Each type of memory varies in terms of allowed operations and performance</span>
<span class="sd">    characteristics. We need to combine the requirements of the memory and our</span>
<span class="sd">    own application requirements to find the right type of memory to use.</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `type_filter`: Bit field of the memory types that are suitable</span>
<span class="sd">                     for the memory (int)</span>
<span class="sd">    - `properties`: `VkMemoryPropertyFlags` Vulkan constant, type of</span>
<span class="sd">                    memory we want</span>

<span class="sd">    **Todo: I made a bitwise comparaison with `type_filter`, I have to test</span>
<span class="sd">            it to be sure it&#39;s working**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">find_memory_type</span><span class="o">.</span><span class="n">cache_properties</span><span class="p">:</span>
        <span class="n">find_memory_type</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetPhysicalDeviceMemoryProperties</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">physical_device</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">memory_type</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">find_memory_type</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">memoryTypes</span><span class="p">):</span>
        <span class="c1"># TODO: Test type_filter</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">type_filter</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">))</span> <span class="ow">and</span> \
           <span class="p">(</span><span class="n">memory_type</span><span class="o">.</span><span class="n">propertyFlags</span> <span class="o">&amp;</span> <span class="n">properties</span><span class="p">)</span> <span class="o">==</span> <span class="n">properties</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">i</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t find suitable memory type&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>


<span class="c1"># Set physical device memory properties in cache since it depends</span>
<span class="c1"># only on the physical device</span>
<span class="n">find_memory_type</span><span class="o">.</span><span class="n">cache_properties</span> <span class="o">=</span> <span class="bp">None</span>


<span class="k">class</span> <span class="nc">ShaderModule</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ShaderModule Vulkan object</span>

<span class="sd">    A shader module is a Spir-V shader loaded into Vulkan.</span>
<span class="sd">    After being created, it must be inserted in a pipeline stage.</span>
<span class="sd">    The real Vulkan module can be accessed by the &#39;module&#39; property.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Initialize the module</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext` object</span>
<span class="sd">        - `code`: Binary Spir-V loaded file (bytes)</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        The created `ShaderModule`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Type of code is not &#39;bytes&#39;, it may be an error&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>

        <span class="c1"># Create the shader module</span>
        <span class="n">shader_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkShaderModuleCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">codeSize</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">code</span><span class="p">),</span> <span class="n">pCode</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateShaderModule</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">shader_create</span><span class="p">)</span>


<span class="c1">#  Objects used in Renderpass</span>
<span class="n">AttachmentDescription</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;AttachmentDescription&#39;</span><span class="p">,</span>
                                   <span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">,</span> <span class="s1">&#39;samples&#39;</span><span class="p">,</span> <span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="s1">&#39;store&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;stencil_load&#39;</span><span class="p">,</span> <span class="s1">&#39;stencil_store&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;initial_layout&#39;</span><span class="p">,</span> <span class="s1">&#39;final_layout&#39;</span><span class="p">])</span>
<span class="n">AttachmentDescription</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    AttachmentDescription describes the attachment.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `format`: VkFormat vulkan constant</span>
<span class="s1">    - `samples`: VkSampleCountFlagBits vulkan constant</span>
<span class="s1">    - `load`: VkAttachmentLoadOp vulkan constant</span>
<span class="s1">    - `store`: VkAttachmentStoreOp vulkan constant</span>
<span class="s1">    - `stencil_load`: VkAttachmentLoadOp vulkan constant</span>
<span class="s1">    - `stencil_store`: VkAttachmentStoreOp vulkan constant</span>
<span class="s1">    - `initial_layout`: VkImageLayout vulkan constant</span>
<span class="s1">    - `final_layout`: VkImageLayout vulkan constant</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">AttachmentReference</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;AttachmentReference&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="s1">&#39;layout&#39;</span><span class="p">])</span>
<span class="n">AttachmentReference</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    AttachmentReference links an attachment index with a layout.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `index`: Index of attachment description</span>
<span class="s1">    - `layout`: VkImageLayout vulkan constant</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">SubpassDescription</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;SubpassDescription&#39;</span><span class="p">,</span>
                                <span class="p">[</span><span class="s1">&#39;colors&#39;</span><span class="p">,</span> <span class="s1">&#39;inputs&#39;</span><span class="p">,</span> <span class="s1">&#39;resolves&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;preserves&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_stencil&#39;</span><span class="p">])</span>
<span class="n">SubpassDescription</span><span class="o">.</span><span class="n">__new__</span><span class="o">.</span><span class="n">__defaults__</span> <span class="o">=</span> \
        <span class="p">([],)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">SubpassDescription</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
<span class="n">SubpassDescription</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    SubpassDescription describes all attachments in the subpass.</span>
<span class="s1">    All parameters are of type AttachmentReference. The order of</span>
<span class="s1">    If you don&#39;t want an attachment, don&#39;t set it, its default</span>
<span class="s1">    value is an empty list.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `colors`: list of colors attachments</span>
<span class="s1">    - `inputs`: list of inputs attachments</span>
<span class="s1">    - `resolves`: list of resolves attachments (must be the same</span>
<span class="s1">                  size as inputs)</span>
<span class="s1">    - `preserves`: list of preserves attachments</span>
<span class="s1">    - `depth_stencil`: list containing only one attachment</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="n">SubpassDependency</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;SubpassDependency&#39;</span><span class="p">,</span>
                               <span class="p">[</span><span class="s1">&#39;src_subpass&#39;</span><span class="p">,</span> <span class="s1">&#39;src_stage&#39;</span><span class="p">,</span> <span class="s1">&#39;src_access&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;dst_subpass&#39;</span><span class="p">,</span> <span class="s1">&#39;dst_stage&#39;</span><span class="p">,</span> <span class="s1">&#39;dst_access&#39;</span><span class="p">])</span>
<span class="n">SubpassDependency</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    SubpassDependency describes all dependencies of the subpass.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `src_subpass`: Source subpass (int)</span>
<span class="s1">    - `src_stage`: Source stage (VkPipelineStageFlagBits)</span>
<span class="s1">    - `src_access`: Source access (VkAccessFlagBits)</span>
<span class="s1">    - `dst_subpass`: Destination subpass (int)</span>
<span class="s1">    - `dst_stage`: Destination stage (VkPipelineStageFlagBits-</span>
<span class="s1">    - `dst_access`: Destination access (VkAccessFlagBits)</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="k">class</span> <span class="nc">Renderpass</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Renderpass object</span>

<span class="sd">    When creating the pipeline, we need to tell Vulkan about the</span>
<span class="sd">    framebuffer attachments that will be used while rendering. We need to</span>
<span class="sd">    specify how many color and depth buffers there will be, how many samples</span>
<span class="sd">    to use for each of them and how their contents should be handled</span>
<span class="sd">    throughout the rendering operations. All of this information is wrapped</span>
<span class="sd">    in a RenderPass object</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span> <span class="n">subpasses</span><span class="p">,</span> <span class="n">dependencies</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Renderpass constructor</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `attachments`: List of `AttachmentDescription`</span>
<span class="sd">        - `subpasses`: List of `SubpassDescription`</span>
<span class="sd">        - `dependencies`: List of `SubpassDependency`</span>

<span class="sd">        **Warning: Arguments ar not checked, you must kwnow</span>
<span class="sd">                   what you are doing.**</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">vk_attachments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">:</span>
            <span class="n">vk_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentDescription</span><span class="p">(</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">format</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">format</span><span class="p">),</span>
                <span class="n">samples</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">samples</span><span class="p">),</span>
                <span class="n">loadOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">load</span><span class="p">),</span>
                <span class="n">storeOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">store</span><span class="p">),</span>
                <span class="n">stencilLoadOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_load</span><span class="p">),</span>
                <span class="n">stencilStoreOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_store</span><span class="p">),</span>
                <span class="n">initialLayout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">initial_layout</span><span class="p">),</span>
                <span class="n">finalLayout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">final_layout</span><span class="p">)</span>
            <span class="p">))</span>

        <span class="c1"># Loop through the list of subpasses to create the reference</span>
        <span class="c1"># reference key is index_layout</span>
        <span class="n">vk_references</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
            <span class="n">all_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">[])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;colors&#39;</span><span class="p">,</span> <span class="s1">&#39;inputs&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;resolves&#39;</span><span class="p">,</span> <span class="s1">&#39;preserves&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_stencil&#39;</span><span class="p">)]</span>
            <span class="n">all_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">all_list</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">inputs</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">resolves</span> <span class="o">+</span>
                      <span class="n">s</span><span class="o">.</span><span class="n">preserves</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">):</span>
                <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vk_references</span><span class="p">:</span>
                    <span class="n">vk_references</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentReference</span><span class="p">(</span>
                        <span class="n">attachment</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                        <span class="n">layout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
                    <span class="p">)</span>

        <span class="c1"># Create the subpasses using references</span>
        <span class="n">vk_subpasses</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
            <span class="n">leninputs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
            <span class="n">lenpreserves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">preserves</span><span class="p">)</span>
            <span class="n">lencolors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span><span class="p">)</span>
            <span class="n">lenresolves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">resolves</span><span class="p">)</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">inputs</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">preserves</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">preserves</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">colors</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">resolves</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">resolves</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">depth_stencil</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">resolves</span> <span class="ow">and</span> <span class="n">inputs</span> <span class="ow">and</span> <span class="n">lenresolves</span> <span class="o">!=</span> <span class="n">lencolors</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;resolves and inputs list must be of the same size&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">vk_subpasses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDescription</span><span class="p">(</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">pipelineBindPoint</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_PIPELINE_BIND_POINT_GRAPHICS</span><span class="p">,</span>
                <span class="n">inputAttachmentCount</span><span class="o">=</span><span class="n">leninputs</span><span class="p">,</span>
                <span class="n">pInputAttachments</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
                <span class="n">colorAttachmentCount</span><span class="o">=</span><span class="n">lencolors</span><span class="p">,</span>
                <span class="n">pColorAttachments</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
                <span class="n">pResolveAttachments</span><span class="o">=</span><span class="n">resolves</span><span class="p">,</span>
                <span class="n">preserveAttachmentCount</span><span class="o">=</span><span class="n">lenpreserves</span><span class="p">,</span>
                <span class="n">pPreserveAttachments</span><span class="o">=</span><span class="n">preserves</span><span class="p">,</span>
                <span class="n">pDepthStencilAttachment</span><span class="o">=</span><span class="n">depth_stencil</span>
            <span class="p">))</span>

        <span class="c1"># Create the dependancies</span>
        <span class="n">vk_dependencies</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dependencies</span><span class="p">:</span>
            <span class="n">vk_dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDependency</span><span class="p">(</span>
                <span class="n">dependencyFlags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">srcSubpass</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">src_subpass</span><span class="p">),</span>
                <span class="n">dstSubpass</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dst_subpass</span><span class="p">),</span>
                <span class="n">srcStageMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">src_stage</span><span class="p">),</span>
                <span class="n">dstStageMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dst_stage</span><span class="p">),</span>
                <span class="n">srcAccessMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">src_access</span><span class="p">),</span>
                <span class="n">dstAccessMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dst_access</span><span class="p">)</span>
            <span class="p">))</span>

        <span class="c1"># Create the render pass</span>
        <span class="n">renderpass_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRenderPassCreateInfo</span><span class="p">(</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_attachments</span><span class="p">,</span>
            <span class="n">subpassCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_subpasses</span><span class="p">),</span>
            <span class="n">pSubpasses</span><span class="o">=</span><span class="n">vk_subpasses</span><span class="p">,</span>
            <span class="n">dependencyCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_dependencies</span><span class="p">),</span>
            <span class="n">pDependencies</span><span class="o">=</span><span class="n">vk_dependencies</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renderpass</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateRenderPass</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">renderpass_create</span><span class="p">)</span>


<span class="c1">#  Objects used in Pipeline</span>
<span class="n">PipelineShaderStage</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineShaderStage&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;module&#39;</span><span class="p">,</span> <span class="s1">&#39;stage&#39;</span><span class="p">])</span>
<span class="n">PipelineShaderStage</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `module`: The `ShaderModule` to bind</span>
<span class="s1">    - `stage`: Stage name in [&#39;vertex&#39;, &#39;fragment&#39;, &#39;geometry&#39;, &#39;compute&#39;,</span>
<span class="s1">               &#39;tesselation_control&#39;, &#39;tesselation_evaluation&#39;]</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineVertexInputState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineVertexInputState&#39;</span><span class="p">,</span>
                                      <span class="p">[</span><span class="s1">&#39;bindings&#39;</span><span class="p">,</span> <span class="s1">&#39;attributes&#39;</span><span class="p">])</span>
<span class="n">PipelineVertexInputState</span><span class="o">.</span><span class="n">__new__</span><span class="o">.</span><span class="n">__defaults__</span> <span class="o">=</span> \
        <span class="p">([],)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">PipelineVertexInputState</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
<span class="n">PipelineVertexInputState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `bindings`: List of vertice bindings</span>
<span class="s1">    - `attributes`: List of vertice attributes</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineInputAssemblyState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineInputAssemblyState&#39;</span><span class="p">,</span>
                                        <span class="s1">&#39;topology&#39;</span><span class="p">)</span>
<span class="n">PipelineInputAssemblyState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `topology`: The `VkPrimitiveTopology` to use when drawing</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineViewportState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineViewportState&#39;</span><span class="p">,</span>
                                   <span class="p">[</span><span class="s1">&#39;viewports&#39;</span><span class="p">,</span> <span class="s1">&#39;scissors&#39;</span><span class="p">])</span>
<span class="n">PipelineViewportState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    The PipelineViewportState object contains viewports and scissors.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `viewports`: List of viewport</span>
<span class="s1">    - `scissors`: List of scissor</span>

<span class="s1">    **Warning:: The viewports and scissors are real Vulkan objects</span>
<span class="s1">                (`vk.VkRect2D`) and not Vulk objects.**</span>

<span class="s1">    **Todo: Viewport and scissor should not be real Vulkan objects**</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineRasterizationState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span>
    <span class="s1">&#39;PipelineRasterizationState&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;depth_clamp_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;polygon_mode&#39;</span><span class="p">,</span> <span class="s1">&#39;line_width&#39;</span><span class="p">,</span> <span class="s1">&#39;cull_mode&#39;</span><span class="p">,</span>
     <span class="s1">&#39;front_face&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_bias_constant&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_bias_clamp&#39;</span><span class="p">,</span>
     <span class="s1">&#39;depth_bias_slope&#39;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">PipelineRasterizationState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `depth_clamp_enable`: Whether to enable depth clamping (`boolean`)</span>
<span class="s1">    - `polygon_mode`: Which `VkPolygonMode` to use</span>
<span class="s1">    - `line_width`: Width of line (`float`)</span>
<span class="s1">    - `cull_mode`: The way of culling (`VkCullModeFlagBits`)</span>
<span class="s1">    - `front_face`: `VkFrontFace`</span>
<span class="s1">    - `depth_bias_constant`: Constant to add to depth (`float`)</span>
<span class="s1">    - `depth_bias_clamp`: Max depth bias (`float`)</span>
<span class="s1">    - `depth_bias_slope`: Factor to slope (`float`)</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineMultisampleState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineMultisampleState&#39;</span><span class="p">,</span>
                                      <span class="p">[</span><span class="s1">&#39;shading_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;samples&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;min_sample_shading&#39;</span><span class="p">])</span>
<span class="n">PipelineMultisampleState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `shading_enable`: Enable multisampling (`boolean`)</span>
<span class="s1">    - `samples`: Number of samples (`VkSampleCountFlagBits`)</span>
<span class="s1">    - `min_sample_shading`: Minimum of sample (`float`)</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineDepthStencilState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span>
    <span class="s1">&#39;PipelineDepthStencilState&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;depth_test_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_write_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_bounds_test_enable&#39;</span><span class="p">,</span>
     <span class="s1">&#39;depth_compare&#39;</span><span class="p">,</span> <span class="s1">&#39;stencil_test_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;front&#39;</span><span class="p">,</span> <span class="s1">&#39;back&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">PipelineDepthStencilState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `depth_test_enable`: Enable depth test</span>
<span class="s1">    - `depth_write_enable`: Enable depth write</span>
<span class="s1">    - `depth_bounds_test_enable`: Enable bounds test</span>
<span class="s1">    - `depth_compare`: Condition to overwrite depth (`VkCompareOp`)</span>
<span class="s1">    - `stencil_test_enable`: Enable stencil test</span>
<span class="s1">    - `front`: Control stencil parameter (`VkStencilOpState`)</span>
<span class="s1">    - `back`: Control stencil parameter (`VkStencilOpState`)</span>
<span class="s1">    - `min`: Define the min value in depth bound test (`float`)</span>
<span class="s1">    - `max`: Define the max value in depth bound test (`float`)</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineColorBlendAttachmentState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span>
    <span class="s1">&#39;PipelineColorBlendAttachmentState&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;enable&#39;</span><span class="p">,</span> <span class="s1">&#39;src_color&#39;</span><span class="p">,</span> <span class="s1">&#39;dst_color&#39;</span><span class="p">,</span> <span class="s1">&#39;color_op&#39;</span><span class="p">,</span>
     <span class="s1">&#39;src_alpha&#39;</span><span class="p">,</span> <span class="s1">&#39;dst_alpha&#39;</span><span class="p">,</span> <span class="s1">&#39;alpha_op&#39;</span><span class="p">,</span> <span class="s1">&#39;color_mask&#39;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">PipelineColorBlendAttachmentState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `enable`: Enable blending</span>
<span class="s1">    - `src_color`: Blending factor for source color (`VkBlendFactor`)</span>
<span class="s1">    - `dst_color`: Blending factor for destination color (`VkBlendFactor`)</span>
<span class="s1">    - `color_op`: Operation on color (`VkBlendOp`)</span>
<span class="s1">    - `src_alpha`: Blending factor for source alpha (`VkBlendFactor`)</span>
<span class="s1">    - `dst_alpha`: Blending factor for destination alpha (`VkBlendFactor`)</span>
<span class="s1">    - `alpha_op`: Operation on alpha (`VkBlendOp`)</span>
<span class="s1">    - `color_mask`: Bitmask selecting which of the R, G, B, and A components</span>
<span class="s1">                    are enabled for writing (`VkColorComponentFlags`)</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineColorBlendState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineColorBlendState&#39;</span><span class="p">,</span>
                                     <span class="p">[</span><span class="s1">&#39;op_enable&#39;</span><span class="p">,</span> <span class="s1">&#39;op&#39;</span><span class="p">,</span> <span class="s1">&#39;attachments&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;constants&#39;</span><span class="p">])</span>
<span class="n">PipelineColorBlendState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `op_enable`: Enable bitwise combination</span>
<span class="s1">    - `op`: Operation to perform (`VlLogicOp`)</span>
<span class="s1">    - `attachments`: List of blend attachments for each framebuffer</span>
<span class="s1">    - `constants`: Constants depending on blend factor (`list` of 4 `float`)</span>
<span class="s1">    &#39;&#39;&#39;</span>

<span class="n">PipelineDynamicState</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PipelineDynamicState&#39;</span><span class="p">,</span> <span class="s1">&#39;states&#39;</span><span class="p">)</span>
<span class="n">PipelineDynamicState</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    - `states`: List of `VkDynamicState`</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="k">class</span> <span class="nc">Pipeline</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Pipeline (graphic) object</span>

<span class="sd">    The graphics pipeline is the sequence of operations that take the</span>
<span class="sd">    vertices and textures of your meshes all the way to the pixels in</span>
<span class="sd">    the render targets. The pipeline combines the following elements:</span>

<span class="sd">      - Shader stages: the shader modules that define the functionality of</span>
<span class="sd">                       the programmable stages of the graphics pipeline</span>
<span class="sd">      - Fixed-function state: all of the structures that define the</span>
<span class="sd">                              fixed-function stages of the pipeline, like</span>
<span class="sd">                              input assembly, rasterizer, viewport and</span>
<span class="sd">                              color blending</span>
<span class="sd">      - Pipeline layout: the uniform and push values referenced by the</span>
<span class="sd">                         shader that can be updated at draw time</span>
<span class="sd">      - Render pass: the attachments referenced by the pipeline stages</span>
<span class="sd">                     and their usage</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">stages</span><span class="p">,</span> <span class="n">vertex_input</span><span class="p">,</span> <span class="n">input_assembly</span><span class="p">,</span>
                 <span class="n">viewport</span><span class="p">,</span> <span class="n">rasterization</span><span class="p">,</span> <span class="n">multisample</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">blend</span><span class="p">,</span> <span class="n">dynamic</span><span class="p">,</span>
                 <span class="n">renderpass</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `stages`: List of `PipelineShaderStage`</span>
<span class="sd">        - `vertex_input`: `PipelineVertexInputState`</span>
<span class="sd">        - `input_assembly`: `PipelineInputAssemblyState`</span>
<span class="sd">        - `viewport`: `PipelineViewportState`</span>
<span class="sd">        - `rasterization`: `PipelineRasterizationState`</span>
<span class="sd">        - `multisample`: `PipelineMultisampleState`</span>
<span class="sd">        - `depth`: `PipelineDepthStencilState` (can be `None`)</span>
<span class="sd">        - `blend`: `PipelineColorBlendState`</span>
<span class="sd">        - `dynamic`: `PipelineDynamicState` (may be `None`)</span>
<span class="sd">        - `renderpass`: The `Renderpass` of this pipeline</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">vk_stages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">stages</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">vulkan_stage</span> <span class="o">=</span> <span class="n">STAGE_MAPPING</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">stage</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Stage </span><span class="si">%s</span><span class="s2"> doesn&#39;t exist&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineShaderStageCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</span><span class="p">,</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">stage</span><span class="o">=</span><span class="n">vulkan_stage</span><span class="p">,</span>
                <span class="n">module</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">module</span><span class="p">,</span>
                <span class="n">pSpecializationInfo</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">pName</span><span class="o">=</span><span class="s1">&#39;main&#39;</span>
            <span class="p">)</span>

        <span class="n">vk_vertex_input</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineVertexInputStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">vertexBindingDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">bindings</span><span class="p">),</span>
            <span class="n">pVertexBindingDescriptions</span><span class="o">=</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">bindings</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">vertexAttributeDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">attributes</span><span class="p">),</span>
            <span class="n">pVertexAttributeDescriptions</span><span class="o">=</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">attributes</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="p">)</span>

        <span class="n">vk_input_assembly</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineInputAssemblyStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">topology</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">input_assembly</span><span class="o">.</span><span class="n">topology</span><span class="p">),</span>
            <span class="n">primitiveRestartEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="p">)</span>

        <span class="n">vk_viewport</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineViewportStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">viewportCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">viewport</span><span class="o">.</span><span class="n">viewports</span><span class="p">),</span>
            <span class="n">pViewports</span><span class="o">=</span><span class="n">viewport</span><span class="o">.</span><span class="n">viewports</span><span class="p">,</span>
            <span class="n">scissorCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">viewport</span><span class="o">.</span><span class="n">scissors</span><span class="p">),</span>
            <span class="n">pScissors</span><span class="o">=</span><span class="n">viewport</span><span class="o">.</span><span class="n">scissors</span>
        <span class="p">)</span>

        <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span> <span class="ow">or</span>
           <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span> <span class="ow">or</span>
           <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span><span class="p">):</span>
            <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span>

        <span class="n">vk_rasterization</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineRasterizationStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">depthClampEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_clamp_enable</span><span class="p">),</span>
            <span class="n">rasterizerDiscardEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
            <span class="n">polygonMode</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">polygon_mode</span><span class="p">),</span>
            <span class="n">lineWidth</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">line_width</span><span class="p">,</span>
            <span class="n">cullMode</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">cull_mode</span><span class="p">),</span>
            <span class="n">frontFace</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">front_face</span><span class="p">),</span>
            <span class="n">depthBiasEnable</span><span class="o">=</span><span class="n">dbe</span><span class="p">,</span>
            <span class="n">depthBiasConstantFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span><span class="p">,</span>
            <span class="n">depthBiasClamp</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span><span class="p">,</span>
            <span class="n">depthBiasSlopeFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span>
        <span class="p">)</span>

        <span class="n">vk_multisample</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineMultisampleStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">sampleShadingEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">multisample</span><span class="o">.</span><span class="n">shading_enable</span><span class="p">),</span>
            <span class="n">rasterizationSamples</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">multisample</span><span class="o">.</span><span class="n">samples</span><span class="p">),</span>
            <span class="n">minSampleShading</span><span class="o">=</span><span class="n">multisample</span><span class="o">.</span><span class="n">min_sample_shading</span><span class="p">,</span>
            <span class="n">pSampleMask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">alphaToCoverageEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
            <span class="n">alphaToOneEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="p">)</span>

        <span class="n">vk_depth</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">depth</span><span class="p">:</span>
            <span class="n">vk_depth</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDepthStencilStateCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">depthTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_test_enable</span><span class="p">),</span>
                <span class="n">depthWriteEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_write_enable</span><span class="p">),</span>
                <span class="n">depthCompareOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_compare</span><span class="p">),</span>
                <span class="n">depthBoundsTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_bounds_test_enable</span><span class="p">),</span>
                <span class="n">stencilTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">stencil_test_enable</span><span class="p">),</span>
                <span class="n">front</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">front</span><span class="p">,</span>
                <span class="n">back</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">back</span><span class="p">,</span>
                <span class="n">minDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
                <span class="n">maxDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">max</span>
            <span class="p">)</span>

        <span class="n">vk_blend_attachments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">blend</span><span class="o">.</span><span class="n">attachments</span><span class="p">:</span>
            <span class="n">vk_a</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendAttachmentState</span><span class="p">(</span>
                <span class="n">colorWriteMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">color_mask</span><span class="p">),</span>
                <span class="n">blendEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">enable</span><span class="p">),</span>
                <span class="n">srcColorBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">src_color</span><span class="p">),</span>
                <span class="n">dstColorBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">dst_color</span><span class="p">),</span>
                <span class="n">colorBlendOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">color_op</span><span class="p">),</span>
                <span class="n">srcAlphaBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">src_alpha</span><span class="p">),</span>
                <span class="n">dstAlphaBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">dst_alpha</span><span class="p">),</span>
                <span class="n">alphaBlendOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">alpha_op</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">vk_blend_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk_a</span><span class="p">)</span>

        <span class="n">vk_blend</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">logicOpEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">op_enable</span><span class="p">),</span>
            <span class="n">logicOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">op</span><span class="p">),</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_blend_attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_blend_attachments</span><span class="p">,</span>
            <span class="n">blendConstants</span><span class="o">=</span><span class="n">blend</span><span class="o">.</span><span class="n">constants</span>
        <span class="p">)</span>

        <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">dynamic</span><span class="p">:</span>
            <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDynamicStateCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</span><span class="p">,</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">dynamicStateCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span><span class="p">),</span>
                <span class="n">pDynamicStates</span><span class="o">=</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span>
            <span class="p">)</span>

        <span class="c1"># Currently layout is unusable, I have to try it</span>
        <span class="n">vk_layout_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineLayoutCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">setLayoutCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pSetLayouts</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pushConstantRangeCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pPushConstantRanges</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span>
        <span class="n">vk_layout</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreatePipelineLayout</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">vk_layout_create</span><span class="p">)</span>

        <span class="n">pipeline_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkGraphicsPipelineCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">stageCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_stages</span><span class="p">),</span>
            <span class="n">pStages</span><span class="o">=</span><span class="n">vk_stages</span><span class="p">,</span>
            <span class="n">pVertexInputState</span><span class="o">=</span><span class="n">vk_vertex_input</span><span class="p">,</span>
            <span class="n">pInputAssemblyState</span><span class="o">=</span><span class="n">vk_input_assembly</span><span class="p">,</span>
            <span class="n">pTessellationState</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pViewportState</span><span class="o">=</span><span class="n">vk_viewport</span><span class="p">,</span>
            <span class="n">pRasterizationState</span><span class="o">=</span><span class="n">vk_rasterization</span><span class="p">,</span>
            <span class="n">pMultisampleState</span><span class="o">=</span><span class="n">vk_multisample</span><span class="p">,</span>
            <span class="n">pDepthStencilState</span><span class="o">=</span><span class="n">vk_depth</span><span class="p">,</span>
            <span class="n">pColorBlendState</span><span class="o">=</span><span class="n">vk_blend</span><span class="p">,</span>
            <span class="n">pDynamicState</span><span class="o">=</span><span class="n">vk_dynamic</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">vk_layout</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">subpass</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">basePipelineHandle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">basePipelineIndex</span><span class="o">=-</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateGraphicsPipelines</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                                                     <span class="mi">1</span><span class="p">,</span> <span class="n">pipeline_create</span><span class="p">)</span>


<span class="n">Extent3D</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Extent3D&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="s1">&#39;depth&#39;</span><span class="p">])</span>
<span class="n">Extent3D</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    *Parameters:*</span>

<span class="s1">    - `width`: Width</span>
<span class="s1">    - `height`: Height</span>
<span class="s1">    - `depth`: Depth</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="k">class</span> <span class="nc">Image</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Image can be initialized in two ways:</span>

<span class="sd">      - In the classic ways passing all the properties</span>
<span class="sd">      - Directly by passing a real vulkan image</span>

<span class="sd">    This is useful because image can be created by swapchain and can be</span>
<span class="sd">    converted to vulk Image object. If the Image is created from VkImage,</span>
<span class="sd">    `staging_image`, `staging_memory` and `memory` are set to `None`.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;If only one non-named arg, we create from `VkImage`,</span>
<span class="sd">        else from parameters</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_init_image</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_init_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        To get the maximum performance, we are going to create two `VkImage`,</span>
<span class="sd">        a staging image which memory can be updated (with our texture) and</span>
<span class="sd">        a final image with very fast memory that we will use in shaders.</span>
<span class="sd">        When we create an image, we first upload the pixels in the staging</span>
<span class="sd">        image and the copy the memory in the final image. Of course, both of</span>
<span class="sd">        the image have the same properties.</span>

<span class="sd">        This method takes the same arguments as `_create_image` minus the</span>
<span class="sd">        `memory_properties` parameter.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">p0</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</span> <span class="o">|</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</span> <span class="c1"># noqa</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</span>

        <span class="c1"># Create the staging image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_image</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="n">memory_properties</span><span class="o">=</span><span class="n">p0</span>
        <span class="p">)</span>

        <span class="c1"># Create the final image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_image</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="n">memory_properties</span><span class="o">=</span><span class="n">p1</span>
        <span class="p">)</span>

        <span class="c1"># Set others properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;extent&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">vk_const</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_create_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="n">extent</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span>
                      <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">tiling</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span>
                      <span class="n">queue_families</span><span class="p">,</span> <span class="n">layout</span><span class="p">,</span> <span class="n">memory_properties</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a new image</span>

<span class="sd">        Creating an image is made of several steps:</span>

<span class="sd">        - Create the staging image</span>
<span class="sd">        - Allocate the staging memory</span>
<span class="sd">        - Create the final image</span>
<span class="sd">        - Allocate the final memory</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `image_type`: Type of image 1D/2D/3D (`VkImageType`)</span>
<span class="sd">        - `format`: `VkFormat` of the image</span>
<span class="sd">        - `extent`: `Extent3D`</span>
<span class="sd">        - `mip_level`: Level of mip (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        - `samples`: This `VkSampleCountFlagBits` flag is related</span>
<span class="sd">                     to multisampling</span>
<span class="sd">        - `tiling`: `VkImageTiling`</span>
<span class="sd">        - `usage`: `VkImageUsageFlags`</span>
<span class="sd">        - `sharing_mode`: `VkSharingMode`</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not</span>
<span class="sd">                            `VK_SHARING_MODE_CONCURRENT`) (can be [])</span>
<span class="sd">        - `layout`: `VkImageLayout`</span>
<span class="sd">        - `memory_properties`: `VkMemoryPropertyFlags` Vulkan constant</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="c1"># Create the VkImage</span>
        <span class="n">vk_extent</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkExtent3D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                                  <span class="n">height</span><span class="o">=</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                                  <span class="n">depth</span><span class="o">=</span><span class="n">extent</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>

        <span class="n">image_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">imageType</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">image_type</span><span class="p">),</span>
            <span class="n">format</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">format</span><span class="p">),</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">vk_extent</span><span class="p">,</span>
            <span class="n">mipLevels</span><span class="o">=</span><span class="n">mip_level</span><span class="p">,</span>
            <span class="n">arrayLayers</span><span class="o">=</span><span class="n">layers</span><span class="p">,</span>
            <span class="n">samples</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">samples</span><span class="p">),</span>
            <span class="n">tiling</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">tiling</span><span class="p">),</span>
            <span class="n">usage</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">usage</span><span class="p">),</span>
            <span class="n">sharingMode</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">sharing_mode</span><span class="p">),</span>
            <span class="n">queueFamilyIndexCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">queue_families</span><span class="p">),</span>
            <span class="n">pQueueFamilyIndices</span><span class="o">=</span><span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">initialLayout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">image</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImage</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">image_create</span><span class="p">)</span>

        <span class="c1"># Get memory requirements</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetImageMemoryRequirements</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>

        <span class="n">alloc_info</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkMemoryAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">allocationSize</span><span class="o">=</span><span class="n">requirements</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">memoryTypeIndex</span><span class="o">=</span><span class="n">find_memory_type</span><span class="p">(</span>
                <span class="n">context</span><span class="p">,</span>
                <span class="n">requirements</span><span class="o">.</span><span class="n">memoryTypeBits</span><span class="p">,</span>
                <span class="n">vk_const</span><span class="p">(</span><span class="n">memory_properties</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">memory</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">alloc_info</span><span class="p">)</span>

        <span class="c1"># Bind device memory to the image</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkBindImageMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">image</span><span class="p">,</span> <span class="n">memory</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Map this image to upload data in it.</span>
<span class="sd">        This function is a context manager and must be called with `with`.</span>
<span class="sd">        It return a python buffer and let you do what you want with it,</span>
<span class="sd">        be careful!</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t map this image, no staging memory&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">format_size</span> <span class="o">=</span> <span class="n">vulkanconstant</span><span class="o">.</span><span class="n">VK_FORMAT_SIZE</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">]</span> <span class="o">/</span> <span class="mi">8</span>
        <span class="n">image_size</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">depth</span> <span class="o">*</span> <span class="n">format_size</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkMapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                  <span class="n">image_size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">data</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkUnmapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span><span class="p">)</span>


<span class="n">ImageSubresourceRange</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;ImageSubresourceRange&#39;</span><span class="p">,</span>
                                   <span class="p">[</span><span class="s1">&#39;aspect&#39;</span><span class="p">,</span> <span class="s1">&#39;base_miplevel&#39;</span><span class="p">,</span> <span class="s1">&#39;level_count&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;base_layer&#39;</span><span class="p">,</span> <span class="s1">&#39;layer_count&#39;</span><span class="p">])</span>
<span class="n">ImageSubresourceRange</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    `ImageSubresourceRange` object describes what the image&#39;s purpose is and</span>
<span class="s1">    which part of the image should be accessed.</span>

<span class="s1">    *Parameters:*</span>

<span class="s1">    - `aspect`: `VkImageAspectFlags` indicating which aspect(s) of the</span>
<span class="s1">                image are included in the view</span>
<span class="s1">    - `base_miplevel`: The first mipmap level accessible to the view</span>
<span class="s1">    - `level_count`: Number of mipmap levels (starting from base_miplevel)</span>
<span class="s1">                     accessible to the view</span>
<span class="s1">    - `base_layer`: First array layer accessible to the view</span>
<span class="s1">    - `layer_count`: Number of array layers (starting from base_layer)</span>
<span class="s1">                     accessible to the view</span>
<span class="s1">    &#39;&#39;&#39;</span>


<span class="k">class</span> <span class="nc">ImageView</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    An image view is quite literally a view into an image.</span>
<span class="sd">    It describes how to access the image and which part of the image</span>
<span class="sd">    to access, for example if it should be treated as a 2D texture depth</span>
<span class="sd">    texture without any mipmapping levels.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">view_type</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="n">subresource_range</span><span class="p">,</span>
                 <span class="n">swizzle_r</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">,</span>
                 <span class="n">swizzle_g</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">,</span>
                 <span class="n">swizzle_b</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">,</span>
                 <span class="n">swizzle_a</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create ImageView</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `image`: The `Image` to work on</span>
<span class="sd">        - `view_type`: `VkImageViewType` Vulkan constant</span>
<span class="sd">        - `format`: `VkFormat` Vulkan constant</span>
<span class="sd">        - `subresource_range`: The `ImageSubresourceRange` to use</span>
<span class="sd">        - `swizzle_r`: Swizzle of the red color channel</span>
<span class="sd">        - `swizzle_g`: Swizzle of the green color channel</span>
<span class="sd">        - `swizzle_b`: Swizzle of the blue color channel</span>
<span class="sd">        - `swizzle_a`: Swizzle of the alpha color channel</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">components</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkComponentMapping</span><span class="p">(</span>
            <span class="n">r</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_r</span><span class="p">),</span> <span class="n">g</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_g</span><span class="p">),</span>
            <span class="n">b</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_b</span><span class="p">),</span> <span class="n">a</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_a</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">imageview_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageViewCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
            <span class="n">viewType</span><span class="o">=</span><span class="n">view_type</span><span class="p">,</span>
            <span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">,</span>
            <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
            <span class="n">subresourceRange</span><span class="o">=</span><span class="n">subresource_range</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imageview</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImageView</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">imageview_create</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Framebuffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    In Vulkan, a `Framebuffer` references all of the `VkImageView` objects that</span>
<span class="sd">    represent the attachments of a `Renderpass`.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span>
                 <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">layers</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `renderpass`: The compatible `Renderpass` of this `Framebuffer`</span>
<span class="sd">        - `attachments`: List of `ImageView`</span>
<span class="sd">        - `width`: Width (`int`)</span>
<span class="sd">        - `height`: Height (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">framebuffer_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkFramebufferCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">imageview</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">],</span>
            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">layers</span><span class="o">=</span><span class="n">layers</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">framebuffer</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateFramebuffer</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                  <span class="n">framebuffer_create</span><span class="p">)</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">
    <h2 class="section-title" id="header-variables">Module variables</h2>
      <div class="item">
      <p id="vulk.vulkanobject.STAGE_MAPPING" class="name">var <span class="ident">STAGE_MAPPING</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="vulk.vulkanobject.logger" class="name">var <span class="ident">logger</span></p>
      
  
  <div class="source_cont">
</div>

      </div>

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.btov">
    <p>def <span class="ident">btov</span>(</p><p>b)</p>
    </div>
    

    
  
    <div class="desc"><p>Convert boolean to Vulkan boolean</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.btov', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.btov" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">btov</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Convert boolean to Vulkan boolean&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span> <span class="k">if</span> <span class="n">b</span> <span class="k">else</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.find_memory_type">
    <p>def <span class="ident">find_memory_type</span>(</p><p>context, type_filter, properties)</p>
    </div>
    

    
  
    <div class="desc"><p>Graphics cards can offer different types of memory to allocate from.
Each type of memory varies in terms of allowed operations and performance
characteristics. We need to combine the requirements of the memory and our
own application requirements to find the right type of memory to use.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>type_filter</code>: Bit field of the memory types that are suitable
             for the memory (int)</li>
<li><code>properties</code>: <code>VkMemoryPropertyFlags</code> Vulkan constant, type of
            memory we want</li>
</ul>

<p><strong>Todo: I made a bitwise comparaison with <code>type_filter</code>, I have to test
        it to be sure it's working</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.find_memory_type', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.find_memory_type" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">find_memory_type</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">type_filter</span><span class="p">,</span> <span class="n">properties</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Graphics cards can offer different types of memory to allocate from.</span>
<span class="sd">    Each type of memory varies in terms of allowed operations and performance</span>
<span class="sd">    characteristics. We need to combine the requirements of the memory and our</span>
<span class="sd">    own application requirements to find the right type of memory to use.</span>

<span class="sd">    *Parameters:*</span>

<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `type_filter`: Bit field of the memory types that are suitable</span>
<span class="sd">                     for the memory (int)</span>
<span class="sd">    - `properties`: `VkMemoryPropertyFlags` Vulkan constant, type of</span>
<span class="sd">                    memory we want</span>

<span class="sd">    **Todo: I made a bitwise comparaison with `type_filter`, I have to test</span>
<span class="sd">            it to be sure it&#39;s working**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">find_memory_type</span><span class="o">.</span><span class="n">cache_properties</span><span class="p">:</span>
        <span class="n">find_memory_type</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetPhysicalDeviceMemoryProperties</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">physical_device</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">memory_type</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">find_memory_type</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">memoryTypes</span><span class="p">):</span>
        <span class="c1"># TODO: Test type_filter</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">type_filter</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">))</span> <span class="ow">and</span> \
           <span class="p">(</span><span class="n">memory_type</span><span class="o">.</span><span class="n">propertyFlags</span> <span class="o">&amp;</span> <span class="n">properties</span><span class="p">)</span> <span class="o">==</span> <span class="n">properties</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">i</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t find suitable memory type&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.vk_const">
    <p>def <span class="ident">vk_const</span>(</p><p>v)</p>
    </div>
    

    
  
    <div class="desc"><p>Get constant</p>

<p>if v is str, we get the constant in vulkan
else we return it as is</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.vk_const', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.vk_const" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">vk_const</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Get constant</span>

<span class="sd">    if v is str, we get the constant in vulkan</span>
<span class="sd">    else we return it as is</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="s1">&#39;|&#39;</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">):</span>
                <span class="n">result</span> <span class="o">|=</span> <span class="n">vk_const</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">vk</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</pre></div>

  </div>
</div>

  </div>
  

    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="vulk.vulkanobject.AttachmentDescription" class="name">class <span class="ident">AttachmentDescription</span></p>
      
  
    <div class="desc"><p>AttachmentDescription describes the attachment.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>format</code>: VkFormat vulkan constant</li>
<li><code>samples</code>: VkSampleCountFlagBits vulkan constant</li>
<li><code>load</code>: VkAttachmentLoadOp vulkan constant</li>
<li><code>store</code>: VkAttachmentStoreOp vulkan constant</li>
<li><code>stencil_load</code>: VkAttachmentLoadOp vulkan constant</li>
<li><code>stencil_store</code>: VkAttachmentStoreOp vulkan constant</li>
<li><code>initial_layout</code>: VkImageLayout vulkan constant</li>
<li><code>final_layout</code>: VkImageLayout vulkan constant</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.AttachmentDescription">AttachmentDescription</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.final_layout" class="name">var <span class="ident">final_layout</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 7</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.format" class="name">var <span class="ident">format</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.initial_layout" class="name">var <span class="ident">initial_layout</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 6</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.load" class="name">var <span class="ident">load</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.samples" class="name">var <span class="ident">samples</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.stencil_load" class="name">var <span class="ident">stencil_load</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.stencil_store" class="name">var <span class="ident">stencil_store</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentDescription.store" class="name">var <span class="ident">store</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.AttachmentReference" class="name">class <span class="ident">AttachmentReference</span></p>
      
  
    <div class="desc"><p>AttachmentReference links an attachment index with a layout.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>index</code>: Index of attachment description</li>
<li><code>layout</code>: VkImageLayout vulkan constant</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.AttachmentReference">AttachmentReference</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentReference.index" class="name">var <span class="ident">index</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.AttachmentReference.layout" class="name">var <span class="ident">layout</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Extent3D" class="name">class <span class="ident">Extent3D</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>width</code>: Width</li>
<li><code>height</code>: Height</li>
<li><code>depth</code>: Depth</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Extent3D">Extent3D</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Extent3D.depth" class="name">var <span class="ident">depth</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Extent3D.height" class="name">var <span class="ident">height</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Extent3D.width" class="name">var <span class="ident">width</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Framebuffer" class="name">class <span class="ident">Framebuffer</span></p>
      
  
    <div class="desc"><p>In Vulkan, a <code>Framebuffer</code> references all of the <code>VkImageView</code> objects that
represent the attachments of a <code>Renderpass</code>.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Framebuffer', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Framebuffer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Framebuffer</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    In Vulkan, a `Framebuffer` references all of the `VkImageView` objects that</span>
<span class="sd">    represent the attachments of a `Renderpass`.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span>
                 <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">layers</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `renderpass`: The compatible `Renderpass` of this `Framebuffer`</span>
<span class="sd">        - `attachments`: List of `ImageView`</span>
<span class="sd">        - `width`: Width (`int`)</span>
<span class="sd">        - `height`: Height (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">framebuffer_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkFramebufferCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">imageview</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">],</span>
            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">layers</span><span class="o">=</span><span class="n">layers</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">framebuffer</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateFramebuffer</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                                  <span class="n">framebuffer_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Framebuffer">Framebuffer</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Framebuffer.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, renderpass, attachments, width, height, layers)</p>
    </div>
    

    
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>renderpass</code>: The compatible <code>Renderpass</code> of this <code>Framebuffer</code></li>
<li><code>attachments</code>: List of <code>ImageView</code></li>
<li><code>width</code>: Width (<code>int</code>)</li>
<li><code>height</code>: Height (<code>int</code>)</li>
<li><code>layers</code>: Number of layers (<code>int</code>)</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Framebuffer.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Framebuffer.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">renderpass</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span>
             <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">layers</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `renderpass`: The compatible `Renderpass` of this `Framebuffer`</span>
<span class="sd">    - `attachments`: List of `ImageView`</span>
<span class="sd">    - `width`: Width (`int`)</span>
<span class="sd">    - `height`: Height (`int`)</span>
<span class="sd">    - `layers`: Number of layers (`int`)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">framebuffer_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkFramebufferCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_FRAMEBUFFER_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="o">.</span><span class="n">renderpass</span><span class="p">,</span>
        <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">attachments</span><span class="p">),</span>
        <span class="n">pAttachments</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">imageview</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">],</span>
        <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
        <span class="n">layers</span><span class="o">=</span><span class="n">layers</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">framebuffer</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateFramebuffer</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
                                              <span class="n">framebuffer_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Framebuffer.framebuffer" class="name">var <span class="ident">framebuffer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Image" class="name">class <span class="ident">Image</span></p>
      
  
    <div class="desc"><p>Image can be initialized in two ways:</p>

<ul>
<li>In the classic ways passing all the properties</li>
<li>Directly by passing a real vulkan image</li>
</ul>

<p>This is useful because image can be created by swapchain and can be
converted to vulk Image object. If the Image is created from VkImage,
<code>staging_image</code>, <code>staging_memory</code> and <code>memory</code> are set to <code>None</code>.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Image', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Image" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Image</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Image can be initialized in two ways:</span>

<span class="sd">      - In the classic ways passing all the properties</span>
<span class="sd">      - Directly by passing a real vulkan image</span>

<span class="sd">    This is useful because image can be created by swapchain and can be</span>
<span class="sd">    converted to vulk Image object. If the Image is created from VkImage,</span>
<span class="sd">    `staging_image`, `staging_memory` and `memory` are set to `None`.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;If only one non-named arg, we create from `VkImage`,</span>
<span class="sd">        else from parameters</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_init_image</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_init_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        To get the maximum performance, we are going to create two `VkImage`,</span>
<span class="sd">        a staging image which memory can be updated (with our texture) and</span>
<span class="sd">        a final image with very fast memory that we will use in shaders.</span>
<span class="sd">        When we create an image, we first upload the pixels in the staging</span>
<span class="sd">        image and the copy the memory in the final image. Of course, both of</span>
<span class="sd">        the image have the same properties.</span>

<span class="sd">        This method takes the same arguments as `_create_image` minus the</span>
<span class="sd">        `memory_properties` parameter.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">p0</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</span> <span class="o">|</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</span> <span class="c1"># noqa</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</span>

        <span class="c1"># Create the staging image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_image</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="n">memory_properties</span><span class="o">=</span><span class="n">p0</span>
        <span class="p">)</span>

        <span class="c1"># Create the final image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_image</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="n">memory_properties</span><span class="o">=</span><span class="n">p1</span>
        <span class="p">)</span>

        <span class="c1"># Set others properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;extent&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">vk_const</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_create_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image_type</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="n">extent</span><span class="p">,</span> <span class="n">mip_level</span><span class="p">,</span>
                      <span class="n">layers</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="n">tiling</span><span class="p">,</span> <span class="n">usage</span><span class="p">,</span> <span class="n">sharing_mode</span><span class="p">,</span>
                      <span class="n">queue_families</span><span class="p">,</span> <span class="n">layout</span><span class="p">,</span> <span class="n">memory_properties</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create a new image</span>

<span class="sd">        Creating an image is made of several steps:</span>

<span class="sd">        - Create the staging image</span>
<span class="sd">        - Allocate the staging memory</span>
<span class="sd">        - Create the final image</span>
<span class="sd">        - Allocate the final memory</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: `VulkContext`</span>
<span class="sd">        - `image_type`: Type of image 1D/2D/3D (`VkImageType`)</span>
<span class="sd">        - `format`: `VkFormat` of the image</span>
<span class="sd">        - `extent`: `Extent3D`</span>
<span class="sd">        - `mip_level`: Level of mip (`int`)</span>
<span class="sd">        - `layers`: Number of layers (`int`)</span>
<span class="sd">        - `samples`: This `VkSampleCountFlagBits` flag is related</span>
<span class="sd">                     to multisampling</span>
<span class="sd">        - `tiling`: `VkImageTiling`</span>
<span class="sd">        - `usage`: `VkImageUsageFlags`</span>
<span class="sd">        - `sharing_mode`: `VkSharingMode`</span>
<span class="sd">        - `queue_families`: List of queue families accessing this image</span>
<span class="sd">                            (ignored if sharingMode is not</span>
<span class="sd">                            `VK_SHARING_MODE_CONCURRENT`) (can be [])</span>
<span class="sd">        - `layout`: `VkImageLayout`</span>
<span class="sd">        - `memory_properties`: `VkMemoryPropertyFlags` Vulkan constant</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="c1"># Create the VkImage</span>
        <span class="n">vk_extent</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkExtent3D</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                                  <span class="n">height</span><span class="o">=</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                                  <span class="n">depth</span><span class="o">=</span><span class="n">extent</span><span class="o">.</span><span class="n">depth</span><span class="p">)</span>

        <span class="n">image_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">imageType</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">image_type</span><span class="p">),</span>
            <span class="n">format</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">format</span><span class="p">),</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">vk_extent</span><span class="p">,</span>
            <span class="n">mipLevels</span><span class="o">=</span><span class="n">mip_level</span><span class="p">,</span>
            <span class="n">arrayLayers</span><span class="o">=</span><span class="n">layers</span><span class="p">,</span>
            <span class="n">samples</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">samples</span><span class="p">),</span>
            <span class="n">tiling</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">tiling</span><span class="p">),</span>
            <span class="n">usage</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">usage</span><span class="p">),</span>
            <span class="n">sharingMode</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">sharing_mode</span><span class="p">),</span>
            <span class="n">queueFamilyIndexCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">queue_families</span><span class="p">),</span>
            <span class="n">pQueueFamilyIndices</span><span class="o">=</span><span class="n">queue_families</span> <span class="k">if</span> <span class="n">queue_families</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">initialLayout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">image</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImage</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">image_create</span><span class="p">)</span>

        <span class="c1"># Get memory requirements</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkGetImageMemoryRequirements</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>

        <span class="n">alloc_info</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkMemoryAllocateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</span><span class="p">,</span>
            <span class="n">allocationSize</span><span class="o">=</span><span class="n">requirements</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">memoryTypeIndex</span><span class="o">=</span><span class="n">find_memory_type</span><span class="p">(</span>
                <span class="n">context</span><span class="p">,</span>
                <span class="n">requirements</span><span class="o">.</span><span class="n">memoryTypeBits</span><span class="p">,</span>
                <span class="n">vk_const</span><span class="p">(</span><span class="n">memory_properties</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">memory</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkAllocateMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">alloc_info</span><span class="p">)</span>

        <span class="c1"># Bind device memory to the image</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkBindImageMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">image</span><span class="p">,</span> <span class="n">memory</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Map this image to upload data in it.</span>
<span class="sd">        This function is a context manager and must be called with `with`.</span>
<span class="sd">        It return a python buffer and let you do what you want with it,</span>
<span class="sd">        be careful!</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t map this image, no staging memory&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">format_size</span> <span class="o">=</span> <span class="n">vulkanconstant</span><span class="o">.</span><span class="n">VK_FORMAT_SIZE</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">]</span> <span class="o">/</span> <span class="mi">8</span>
        <span class="n">image_size</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">depth</span> <span class="o">*</span> <span class="n">format_size</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkMapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                  <span class="n">image_size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">data</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">vk</span><span class="o">.</span><span class="n">vkUnmapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Image">Image</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Image.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, *args, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>If only one non-named arg, we create from <code>VkImage</code>,
else from parameters</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Image.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Image.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;If only one non-named arg, we create from `VkImage`,</span>
<span class="sd">    else from parameters</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">staging_image</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init_image</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Image.map">
    <p>def <span class="ident">map</span>(</p><p>*args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Map this image to upload data in it.
This function is a context manager and must be called with <code>with</code>.
It return a python buffer and let you do what you want with it,
be careful!</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Image.map', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Image.map" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Map this image to upload data in it.</span>
<span class="sd">    This function is a context manager and must be called with `with`.</span>
<span class="sd">    It return a python buffer and let you do what you want with it,</span>
<span class="sd">    be careful!</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can&#39;t map this image, no staging memory&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">format_size</span> <span class="o">=</span> <span class="n">vulkanconstant</span><span class="o">.</span><span class="n">VK_FORMAT_SIZE</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">]</span> <span class="o">/</span> <span class="mi">8</span>
    <span class="n">image_size</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">depth</span> <span class="o">*</span> <span class="n">format_size</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkMapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                              <span class="n">image_size</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">data</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">vkUnmapMemory</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">staging_memory</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Image.extent" class="name">var <span class="ident">extent</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.image" class="name">var <span class="ident">image</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.memory" class="name">var <span class="ident">memory</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.staging_image" class="name">var <span class="ident">staging_image</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.Image.staging_memory" class="name">var <span class="ident">staging_memory</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.ImageSubresourceRange" class="name">class <span class="ident">ImageSubresourceRange</span></p>
      
  
    <div class="desc"><p><code>ImageSubresourceRange</code> object describes what the image's purpose is and
which part of the image should be accessed.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>aspect</code>: <code>VkImageAspectFlags</code> indicating which aspect(s) of the
        image are included in the view</li>
<li><code>base_miplevel</code>: The first mipmap level accessible to the view</li>
<li><code>level_count</code>: Number of mipmap levels (starting from base_miplevel)
             accessible to the view</li>
<li><code>base_layer</code>: First array layer accessible to the view</li>
<li><code>layer_count</code>: Number of array layers (starting from base_layer)
             accessible to the view</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.ImageSubresourceRange">ImageSubresourceRange</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.aspect" class="name">var <span class="ident">aspect</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.base_layer" class="name">var <span class="ident">base_layer</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.base_miplevel" class="name">var <span class="ident">base_miplevel</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.layer_count" class="name">var <span class="ident">layer_count</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ImageSubresourceRange.level_count" class="name">var <span class="ident">level_count</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.ImageView" class="name">class <span class="ident">ImageView</span></p>
      
  
    <div class="desc"><p>An image view is quite literally a view into an image.
It describes how to access the image and which part of the image
to access, for example if it should be treated as a 2D texture depth
texture without any mipmapping levels.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ImageView', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ImageView" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ImageView</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    An image view is quite literally a view into an image.</span>
<span class="sd">    It describes how to access the image and which part of the image</span>
<span class="sd">    to access, for example if it should be treated as a 2D texture depth</span>
<span class="sd">    texture without any mipmapping levels.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">view_type</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="n">subresource_range</span><span class="p">,</span>
                 <span class="n">swizzle_r</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">,</span>
                 <span class="n">swizzle_g</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">,</span>
                 <span class="n">swizzle_b</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">,</span>
                 <span class="n">swizzle_a</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Create ImageView</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `image`: The `Image` to work on</span>
<span class="sd">        - `view_type`: `VkImageViewType` Vulkan constant</span>
<span class="sd">        - `format`: `VkFormat` Vulkan constant</span>
<span class="sd">        - `subresource_range`: The `ImageSubresourceRange` to use</span>
<span class="sd">        - `swizzle_r`: Swizzle of the red color channel</span>
<span class="sd">        - `swizzle_g`: Swizzle of the green color channel</span>
<span class="sd">        - `swizzle_b`: Swizzle of the blue color channel</span>
<span class="sd">        - `swizzle_a`: Swizzle of the alpha color channel</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">components</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkComponentMapping</span><span class="p">(</span>
            <span class="n">r</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_r</span><span class="p">),</span> <span class="n">g</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_g</span><span class="p">),</span>
            <span class="n">b</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_b</span><span class="p">),</span> <span class="n">a</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_a</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">imageview_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageViewCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
            <span class="n">viewType</span><span class="o">=</span><span class="n">view_type</span><span class="p">,</span>
            <span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">,</span>
            <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
            <span class="n">subresourceRange</span><span class="o">=</span><span class="n">subresource_range</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">imageview</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImageView</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">imageview_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.ImageView">ImageView</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.ImageView.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, image, view_type, format, subresource_range, swizzle_r=&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;, swizzle_g=&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;, swizzle_b=&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;, swizzle_a=&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Create ImageView</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>image</code>: The <code>Image</code> to work on</li>
<li><code>view_type</code>: <code>VkImageViewType</code> Vulkan constant</li>
<li><code>format</code>: <code>VkFormat</code> Vulkan constant</li>
<li><code>subresource_range</code>: The <code>ImageSubresourceRange</code> to use</li>
<li><code>swizzle_r</code>: Swizzle of the red color channel</li>
<li><code>swizzle_g</code>: Swizzle of the green color channel</li>
<li><code>swizzle_b</code>: Swizzle of the blue color channel</li>
<li><code>swizzle_a</code>: Swizzle of the alpha color channel</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ImageView.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ImageView.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">view_type</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="n">subresource_range</span><span class="p">,</span>
             <span class="n">swizzle_r</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">,</span>
             <span class="n">swizzle_g</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">,</span>
             <span class="n">swizzle_b</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">,</span>
             <span class="n">swizzle_a</span><span class="o">=</span><span class="s1">&#39;VK_COMPONENT_SWIZZLE_IDENTITY&#39;</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Create ImageView</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `image`: The `Image` to work on</span>
<span class="sd">    - `view_type`: `VkImageViewType` Vulkan constant</span>
<span class="sd">    - `format`: `VkFormat` Vulkan constant</span>
<span class="sd">    - `subresource_range`: The `ImageSubresourceRange` to use</span>
<span class="sd">    - `swizzle_r`: Swizzle of the red color channel</span>
<span class="sd">    - `swizzle_g`: Swizzle of the green color channel</span>
<span class="sd">    - `swizzle_b`: Swizzle of the blue color channel</span>
<span class="sd">    - `swizzle_a`: Swizzle of the alpha color channel</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">components</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkComponentMapping</span><span class="p">(</span>
        <span class="n">r</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_r</span><span class="p">),</span> <span class="n">g</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_g</span><span class="p">),</span>
        <span class="n">b</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_b</span><span class="p">),</span> <span class="n">a</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">swizzle_a</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">imageview_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkImageViewCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
        <span class="n">viewType</span><span class="o">=</span><span class="n">view_type</span><span class="p">,</span>
        <span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">,</span>
        <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
        <span class="n">subresourceRange</span><span class="o">=</span><span class="n">subresource_range</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">imageview</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateImageView</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">imageview_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.ImageView.imageview" class="name">var <span class="ident">imageview</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Pipeline" class="name">class <span class="ident">Pipeline</span></p>
      
  
    <div class="desc"><p>Pipeline (graphic) object</p>

<p>The graphics pipeline is the sequence of operations that take the
vertices and textures of your meshes all the way to the pixels in
the render targets. The pipeline combines the following elements:</p>

<ul>
<li>Shader stages: the shader modules that define the functionality of
               the programmable stages of the graphics pipeline</li>
<li>Fixed-function state: all of the structures that define the
                      fixed-function stages of the pipeline, like
                      input assembly, rasterizer, viewport and
                      color blending</li>
<li>Pipeline layout: the uniform and push values referenced by the
                 shader that can be updated at draw time</li>
<li>Render pass: the attachments referenced by the pipeline stages
             and their usage</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Pipeline', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Pipeline" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Pipeline</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Pipeline (graphic) object</span>

<span class="sd">    The graphics pipeline is the sequence of operations that take the</span>
<span class="sd">    vertices and textures of your meshes all the way to the pixels in</span>
<span class="sd">    the render targets. The pipeline combines the following elements:</span>

<span class="sd">      - Shader stages: the shader modules that define the functionality of</span>
<span class="sd">                       the programmable stages of the graphics pipeline</span>
<span class="sd">      - Fixed-function state: all of the structures that define the</span>
<span class="sd">                              fixed-function stages of the pipeline, like</span>
<span class="sd">                              input assembly, rasterizer, viewport and</span>
<span class="sd">                              color blending</span>
<span class="sd">      - Pipeline layout: the uniform and push values referenced by the</span>
<span class="sd">                         shader that can be updated at draw time</span>
<span class="sd">      - Render pass: the attachments referenced by the pipeline stages</span>
<span class="sd">                     and their usage</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">stages</span><span class="p">,</span> <span class="n">vertex_input</span><span class="p">,</span> <span class="n">input_assembly</span><span class="p">,</span>
                 <span class="n">viewport</span><span class="p">,</span> <span class="n">rasterization</span><span class="p">,</span> <span class="n">multisample</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">blend</span><span class="p">,</span> <span class="n">dynamic</span><span class="p">,</span>
                 <span class="n">renderpass</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `stages`: List of `PipelineShaderStage`</span>
<span class="sd">        - `vertex_input`: `PipelineVertexInputState`</span>
<span class="sd">        - `input_assembly`: `PipelineInputAssemblyState`</span>
<span class="sd">        - `viewport`: `PipelineViewportState`</span>
<span class="sd">        - `rasterization`: `PipelineRasterizationState`</span>
<span class="sd">        - `multisample`: `PipelineMultisampleState`</span>
<span class="sd">        - `depth`: `PipelineDepthStencilState` (can be `None`)</span>
<span class="sd">        - `blend`: `PipelineColorBlendState`</span>
<span class="sd">        - `dynamic`: `PipelineDynamicState` (may be `None`)</span>
<span class="sd">        - `renderpass`: The `Renderpass` of this pipeline</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">vk_stages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">stages</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">vulkan_stage</span> <span class="o">=</span> <span class="n">STAGE_MAPPING</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">stage</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Stage </span><span class="si">%s</span><span class="s2"> doesn&#39;t exist&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineShaderStageCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</span><span class="p">,</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">stage</span><span class="o">=</span><span class="n">vulkan_stage</span><span class="p">,</span>
                <span class="n">module</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">module</span><span class="p">,</span>
                <span class="n">pSpecializationInfo</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">pName</span><span class="o">=</span><span class="s1">&#39;main&#39;</span>
            <span class="p">)</span>

        <span class="n">vk_vertex_input</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineVertexInputStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">vertexBindingDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">bindings</span><span class="p">),</span>
            <span class="n">pVertexBindingDescriptions</span><span class="o">=</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">bindings</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">,</span>
            <span class="n">vertexAttributeDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">attributes</span><span class="p">),</span>
            <span class="n">pVertexAttributeDescriptions</span><span class="o">=</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">attributes</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="p">)</span>

        <span class="n">vk_input_assembly</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineInputAssemblyStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">topology</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">input_assembly</span><span class="o">.</span><span class="n">topology</span><span class="p">),</span>
            <span class="n">primitiveRestartEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="p">)</span>

        <span class="n">vk_viewport</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineViewportStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">viewportCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">viewport</span><span class="o">.</span><span class="n">viewports</span><span class="p">),</span>
            <span class="n">pViewports</span><span class="o">=</span><span class="n">viewport</span><span class="o">.</span><span class="n">viewports</span><span class="p">,</span>
            <span class="n">scissorCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">viewport</span><span class="o">.</span><span class="n">scissors</span><span class="p">),</span>
            <span class="n">pScissors</span><span class="o">=</span><span class="n">viewport</span><span class="o">.</span><span class="n">scissors</span>
        <span class="p">)</span>

        <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span> <span class="ow">or</span>
           <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span> <span class="ow">or</span>
           <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span><span class="p">):</span>
            <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span>

        <span class="n">vk_rasterization</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineRasterizationStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">depthClampEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_clamp_enable</span><span class="p">),</span>
            <span class="n">rasterizerDiscardEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
            <span class="n">polygonMode</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">polygon_mode</span><span class="p">),</span>
            <span class="n">lineWidth</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">line_width</span><span class="p">,</span>
            <span class="n">cullMode</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">cull_mode</span><span class="p">),</span>
            <span class="n">frontFace</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">front_face</span><span class="p">),</span>
            <span class="n">depthBiasEnable</span><span class="o">=</span><span class="n">dbe</span><span class="p">,</span>
            <span class="n">depthBiasConstantFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span><span class="p">,</span>
            <span class="n">depthBiasClamp</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span><span class="p">,</span>
            <span class="n">depthBiasSlopeFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span>
        <span class="p">)</span>

        <span class="n">vk_multisample</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineMultisampleStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">sampleShadingEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">multisample</span><span class="o">.</span><span class="n">shading_enable</span><span class="p">),</span>
            <span class="n">rasterizationSamples</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">multisample</span><span class="o">.</span><span class="n">samples</span><span class="p">),</span>
            <span class="n">minSampleShading</span><span class="o">=</span><span class="n">multisample</span><span class="o">.</span><span class="n">min_sample_shading</span><span class="p">,</span>
            <span class="n">pSampleMask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">alphaToCoverageEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
            <span class="n">alphaToOneEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
        <span class="p">)</span>

        <span class="n">vk_depth</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">depth</span><span class="p">:</span>
            <span class="n">vk_depth</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDepthStencilStateCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">depthTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_test_enable</span><span class="p">),</span>
                <span class="n">depthWriteEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_write_enable</span><span class="p">),</span>
                <span class="n">depthCompareOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_compare</span><span class="p">),</span>
                <span class="n">depthBoundsTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_bounds_test_enable</span><span class="p">),</span>
                <span class="n">stencilTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">stencil_test_enable</span><span class="p">),</span>
                <span class="n">front</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">front</span><span class="p">,</span>
                <span class="n">back</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">back</span><span class="p">,</span>
                <span class="n">minDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
                <span class="n">maxDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">max</span>
            <span class="p">)</span>

        <span class="n">vk_blend_attachments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">blend</span><span class="o">.</span><span class="n">attachments</span><span class="p">:</span>
            <span class="n">vk_a</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendAttachmentState</span><span class="p">(</span>
                <span class="n">colorWriteMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">color_mask</span><span class="p">),</span>
                <span class="n">blendEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">enable</span><span class="p">),</span>
                <span class="n">srcColorBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">src_color</span><span class="p">),</span>
                <span class="n">dstColorBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">dst_color</span><span class="p">),</span>
                <span class="n">colorBlendOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">color_op</span><span class="p">),</span>
                <span class="n">srcAlphaBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">src_alpha</span><span class="p">),</span>
                <span class="n">dstAlphaBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">dst_alpha</span><span class="p">),</span>
                <span class="n">alphaBlendOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">alpha_op</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">vk_blend_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk_a</span><span class="p">)</span>

        <span class="n">vk_blend</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">logicOpEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">op_enable</span><span class="p">),</span>
            <span class="n">logicOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">op</span><span class="p">),</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_blend_attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_blend_attachments</span><span class="p">,</span>
            <span class="n">blendConstants</span><span class="o">=</span><span class="n">blend</span><span class="o">.</span><span class="n">constants</span>
        <span class="p">)</span>

        <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">dynamic</span><span class="p">:</span>
            <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDynamicStateCreateInfo</span><span class="p">(</span>
                <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</span><span class="p">,</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">dynamicStateCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span><span class="p">),</span>
                <span class="n">pDynamicStates</span><span class="o">=</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span>
            <span class="p">)</span>

        <span class="c1"># Currently layout is unusable, I have to try it</span>
        <span class="n">vk_layout_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineLayoutCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">setLayoutCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pSetLayouts</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pushConstantRangeCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pPushConstantRanges</span><span class="o">=</span><span class="bp">None</span>
        <span class="p">)</span>
        <span class="n">vk_layout</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreatePipelineLayout</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">vk_layout_create</span><span class="p">)</span>

        <span class="n">pipeline_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkGraphicsPipelineCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">stageCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_stages</span><span class="p">),</span>
            <span class="n">pStages</span><span class="o">=</span><span class="n">vk_stages</span><span class="p">,</span>
            <span class="n">pVertexInputState</span><span class="o">=</span><span class="n">vk_vertex_input</span><span class="p">,</span>
            <span class="n">pInputAssemblyState</span><span class="o">=</span><span class="n">vk_input_assembly</span><span class="p">,</span>
            <span class="n">pTessellationState</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pViewportState</span><span class="o">=</span><span class="n">vk_viewport</span><span class="p">,</span>
            <span class="n">pRasterizationState</span><span class="o">=</span><span class="n">vk_rasterization</span><span class="p">,</span>
            <span class="n">pMultisampleState</span><span class="o">=</span><span class="n">vk_multisample</span><span class="p">,</span>
            <span class="n">pDepthStencilState</span><span class="o">=</span><span class="n">vk_depth</span><span class="p">,</span>
            <span class="n">pColorBlendState</span><span class="o">=</span><span class="n">vk_blend</span><span class="p">,</span>
            <span class="n">pDynamicState</span><span class="o">=</span><span class="n">vk_dynamic</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">vk_layout</span><span class="p">,</span>
            <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="p">,</span>
            <span class="n">subpass</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">basePipelineHandle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">basePipelineIndex</span><span class="o">=-</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateGraphicsPipelines</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                                                     <span class="mi">1</span><span class="p">,</span> <span class="n">pipeline_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Pipeline">Pipeline</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Pipeline.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, stages, vertex_input, input_assembly, viewport, rasterization, multisample, depth, blend, dynamic, renderpass)</p>
    </div>
    

    
  
    <div class="desc"><ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>stages</code>: List of <code>PipelineShaderStage</code></li>
<li><code>vertex_input</code>: <code>PipelineVertexInputState</code></li>
<li><code>input_assembly</code>: <code>PipelineInputAssemblyState</code></li>
<li><code>viewport</code>: <code>PipelineViewportState</code></li>
<li><code>rasterization</code>: <code>PipelineRasterizationState</code></li>
<li><code>multisample</code>: <code>PipelineMultisampleState</code></li>
<li><code>depth</code>: <code>PipelineDepthStencilState</code> (can be <code>None</code>)</li>
<li><code>blend</code>: <code>PipelineColorBlendState</code></li>
<li><code>dynamic</code>: <code>PipelineDynamicState</code> (may be <code>None</code>)</li>
<li><code>renderpass</code>: The <code>Renderpass</code> of this pipeline</li>
</ul>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Pipeline.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Pipeline.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">stages</span><span class="p">,</span> <span class="n">vertex_input</span><span class="p">,</span> <span class="n">input_assembly</span><span class="p">,</span>
             <span class="n">viewport</span><span class="p">,</span> <span class="n">rasterization</span><span class="p">,</span> <span class="n">multisample</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">blend</span><span class="p">,</span> <span class="n">dynamic</span><span class="p">,</span>
             <span class="n">renderpass</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `stages`: List of `PipelineShaderStage`</span>
<span class="sd">    - `vertex_input`: `PipelineVertexInputState`</span>
<span class="sd">    - `input_assembly`: `PipelineInputAssemblyState`</span>
<span class="sd">    - `viewport`: `PipelineViewportState`</span>
<span class="sd">    - `rasterization`: `PipelineRasterizationState`</span>
<span class="sd">    - `multisample`: `PipelineMultisampleState`</span>
<span class="sd">    - `depth`: `PipelineDepthStencilState` (can be `None`)</span>
<span class="sd">    - `blend`: `PipelineColorBlendState`</span>
<span class="sd">    - `dynamic`: `PipelineDynamicState` (may be `None`)</span>
<span class="sd">    - `renderpass`: The `Renderpass` of this pipeline</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_stages</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">stages</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">vulkan_stage</span> <span class="o">=</span> <span class="n">STAGE_MAPPING</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">stage</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Stage </span><span class="si">%s</span><span class="s2"> doesn&#39;t exist&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineShaderStageCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">stage</span><span class="o">=</span><span class="n">vulkan_stage</span><span class="p">,</span>
            <span class="n">module</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">module</span><span class="p">,</span>
            <span class="n">pSpecializationInfo</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">pName</span><span class="o">=</span><span class="s1">&#39;main&#39;</span>
        <span class="p">)</span>
    <span class="n">vk_vertex_input</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineVertexInputStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VERTEX_INPUT_STATE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">vertexBindingDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">bindings</span><span class="p">),</span>
        <span class="n">pVertexBindingDescriptions</span><span class="o">=</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">bindings</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">vertexAttributeDescriptionCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">attributes</span><span class="p">),</span>
        <span class="n">pVertexAttributeDescriptions</span><span class="o">=</span><span class="n">vertex_input</span><span class="o">.</span><span class="n">attributes</span> <span class="ow">or</span> <span class="bp">None</span>
    <span class="p">)</span>
    <span class="n">vk_input_assembly</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineInputAssemblyStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_INPUT_ASSEMBLY_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">topology</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">input_assembly</span><span class="o">.</span><span class="n">topology</span><span class="p">),</span>
        <span class="n">primitiveRestartEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
    <span class="p">)</span>
    <span class="n">vk_viewport</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineViewportStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_VIEWPORT_STATE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">viewportCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">viewport</span><span class="o">.</span><span class="n">viewports</span><span class="p">),</span>
        <span class="n">pViewports</span><span class="o">=</span><span class="n">viewport</span><span class="o">.</span><span class="n">viewports</span><span class="p">,</span>
        <span class="n">scissorCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">viewport</span><span class="o">.</span><span class="n">scissors</span><span class="p">),</span>
        <span class="n">pScissors</span><span class="o">=</span><span class="n">viewport</span><span class="o">.</span><span class="n">scissors</span>
    <span class="p">)</span>
    <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span> <span class="ow">or</span>
       <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span> <span class="ow">or</span>
       <span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span><span class="p">):</span>
        <span class="n">dbe</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VK_TRUE</span>
    <span class="n">vk_rasterization</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineRasterizationStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_RASTERIZATION_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">depthClampEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_clamp_enable</span><span class="p">),</span>
        <span class="n">rasterizerDiscardEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
        <span class="n">polygonMode</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">polygon_mode</span><span class="p">),</span>
        <span class="n">lineWidth</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">line_width</span><span class="p">,</span>
        <span class="n">cullMode</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">cull_mode</span><span class="p">),</span>
        <span class="n">frontFace</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">rasterization</span><span class="o">.</span><span class="n">front_face</span><span class="p">),</span>
        <span class="n">depthBiasEnable</span><span class="o">=</span><span class="n">dbe</span><span class="p">,</span>
        <span class="n">depthBiasConstantFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_constant</span><span class="p">,</span>
        <span class="n">depthBiasClamp</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_clamp</span><span class="p">,</span>
        <span class="n">depthBiasSlopeFactor</span><span class="o">=</span><span class="n">rasterization</span><span class="o">.</span><span class="n">depth_bias_slope</span>
    <span class="p">)</span>
    <span class="n">vk_multisample</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineMultisampleStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_MULTISAMPLE_STATE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">sampleShadingEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">multisample</span><span class="o">.</span><span class="n">shading_enable</span><span class="p">),</span>
        <span class="n">rasterizationSamples</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">multisample</span><span class="o">.</span><span class="n">samples</span><span class="p">),</span>
        <span class="n">minSampleShading</span><span class="o">=</span><span class="n">multisample</span><span class="o">.</span><span class="n">min_sample_shading</span><span class="p">,</span>
        <span class="n">pSampleMask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">alphaToCoverageEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span><span class="p">,</span>
        <span class="n">alphaToOneEnable</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_FALSE</span>
    <span class="p">)</span>
    <span class="n">vk_depth</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">depth</span><span class="p">:</span>
        <span class="n">vk_depth</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDepthStencilStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DEPTH_STENCIL_STATE_CREATE_INFO</span><span class="p">,</span> <span class="c1"># noqa</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">depthTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_test_enable</span><span class="p">),</span>
            <span class="n">depthWriteEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_write_enable</span><span class="p">),</span>
            <span class="n">depthCompareOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_compare</span><span class="p">),</span>
            <span class="n">depthBoundsTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">depth_bounds_test_enable</span><span class="p">),</span>
            <span class="n">stencilTestEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">depth</span><span class="o">.</span><span class="n">stencil_test_enable</span><span class="p">),</span>
            <span class="n">front</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">front</span><span class="p">,</span>
            <span class="n">back</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">back</span><span class="p">,</span>
            <span class="n">minDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
            <span class="n">maxDepthBounds</span><span class="o">=</span><span class="n">depth</span><span class="o">.</span><span class="n">max</span>
        <span class="p">)</span>
    <span class="n">vk_blend_attachments</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">blend</span><span class="o">.</span><span class="n">attachments</span><span class="p">:</span>
        <span class="n">vk_a</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendAttachmentState</span><span class="p">(</span>
            <span class="n">colorWriteMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">color_mask</span><span class="p">),</span>
            <span class="n">blendEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">enable</span><span class="p">),</span>
            <span class="n">srcColorBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">src_color</span><span class="p">),</span>
            <span class="n">dstColorBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">dst_color</span><span class="p">),</span>
            <span class="n">colorBlendOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">color_op</span><span class="p">),</span>
            <span class="n">srcAlphaBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">src_alpha</span><span class="p">),</span>
            <span class="n">dstAlphaBlendFactor</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">dst_alpha</span><span class="p">),</span>
            <span class="n">alphaBlendOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">alpha_op</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">vk_blend_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk_a</span><span class="p">)</span>
    <span class="n">vk_blend</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineColorBlendStateCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_COLOR_BLEND_STATE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">logicOpEnable</span><span class="o">=</span><span class="n">btov</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">op_enable</span><span class="p">),</span>
        <span class="n">logicOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">op</span><span class="p">),</span>
        <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_blend_attachments</span><span class="p">),</span>
        <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_blend_attachments</span><span class="p">,</span>
        <span class="n">blendConstants</span><span class="o">=</span><span class="n">blend</span><span class="o">.</span><span class="n">constants</span>
    <span class="p">)</span>
    <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">dynamic</span><span class="p">:</span>
        <span class="n">vk_dynamic</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineDynamicStateCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_DYNAMIC_STATE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">dynamicStateCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span><span class="p">),</span>
            <span class="n">pDynamicStates</span><span class="o">=</span><span class="n">dynamic</span><span class="o">.</span><span class="n">states</span>
        <span class="p">)</span>
    <span class="c1"># Currently layout is unusable, I have to try it</span>
    <span class="n">vk_layout_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkPipelineLayoutCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">setLayoutCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">pSetLayouts</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">pushConstantRangeCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">pPushConstantRanges</span><span class="o">=</span><span class="bp">None</span>
    <span class="p">)</span>
    <span class="n">vk_layout</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreatePipelineLayout</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">vk_layout_create</span><span class="p">)</span>
    <span class="n">pipeline_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkGraphicsPipelineCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">stageCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_stages</span><span class="p">),</span>
        <span class="n">pStages</span><span class="o">=</span><span class="n">vk_stages</span><span class="p">,</span>
        <span class="n">pVertexInputState</span><span class="o">=</span><span class="n">vk_vertex_input</span><span class="p">,</span>
        <span class="n">pInputAssemblyState</span><span class="o">=</span><span class="n">vk_input_assembly</span><span class="p">,</span>
        <span class="n">pTessellationState</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">pViewportState</span><span class="o">=</span><span class="n">vk_viewport</span><span class="p">,</span>
        <span class="n">pRasterizationState</span><span class="o">=</span><span class="n">vk_rasterization</span><span class="p">,</span>
        <span class="n">pMultisampleState</span><span class="o">=</span><span class="n">vk_multisample</span><span class="p">,</span>
        <span class="n">pDepthStencilState</span><span class="o">=</span><span class="n">vk_depth</span><span class="p">,</span>
        <span class="n">pColorBlendState</span><span class="o">=</span><span class="n">vk_blend</span><span class="p">,</span>
        <span class="n">pDynamicState</span><span class="o">=</span><span class="n">vk_dynamic</span><span class="p">,</span>
        <span class="n">layout</span><span class="o">=</span><span class="n">vk_layout</span><span class="p">,</span>
        <span class="n">renderPass</span><span class="o">=</span><span class="n">renderpass</span><span class="p">,</span>
        <span class="n">subpass</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">basePipelineHandle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">basePipelineIndex</span><span class="o">=-</span><span class="mi">1</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateGraphicsPipelines</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                                                 <span class="mi">1</span><span class="p">,</span> <span class="n">pipeline_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Pipeline.pipeline" class="name">var <span class="ident">pipeline</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState" class="name">class <span class="ident">PipelineColorBlendAttachmentState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>enable</code>: Enable blending</li>
<li><code>src_color</code>: Blending factor for source color (<code>VkBlendFactor</code>)</li>
<li><code>dst_color</code>: Blending factor for destination color (<code>VkBlendFactor</code>)</li>
<li><code>color_op</code>: Operation on color (<code>VkBlendOp</code>)</li>
<li><code>src_alpha</code>: Blending factor for source alpha (<code>VkBlendFactor</code>)</li>
<li><code>dst_alpha</code>: Blending factor for destination alpha (<code>VkBlendFactor</code>)</li>
<li><code>alpha_op</code>: Operation on alpha (<code>VkBlendOp</code>)</li>
<li><code>color_mask</code>: Bitmask selecting which of the R, G, B, and A components
            are enabled for writing (<code>VkColorComponentFlags</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineColorBlendAttachmentState">PipelineColorBlendAttachmentState</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.alpha_op" class="name">var <span class="ident">alpha_op</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 6</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.color_mask" class="name">var <span class="ident">color_mask</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 7</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.color_op" class="name">var <span class="ident">color_op</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.dst_alpha" class="name">var <span class="ident">dst_alpha</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.dst_color" class="name">var <span class="ident">dst_color</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.enable" class="name">var <span class="ident">enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.src_alpha" class="name">var <span class="ident">src_alpha</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendAttachmentState.src_color" class="name">var <span class="ident">src_color</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineColorBlendState" class="name">class <span class="ident">PipelineColorBlendState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>op_enable</code>: Enable bitwise combination</li>
<li><code>op</code>: Operation to perform (<code>VlLogicOp</code>)</li>
<li><code>attachments</code>: List of blend attachments for each framebuffer</li>
<li><code>constants</code>: Constants depending on blend factor (<code>list</code> of 4 <code>float</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineColorBlendState">PipelineColorBlendState</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendState.attachments" class="name">var <span class="ident">attachments</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendState.constants" class="name">var <span class="ident">constants</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendState.op" class="name">var <span class="ident">op</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineColorBlendState.op_enable" class="name">var <span class="ident">op_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineDepthStencilState" class="name">class <span class="ident">PipelineDepthStencilState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>depth_test_enable</code>: Enable depth test</li>
<li><code>depth_write_enable</code>: Enable depth write</li>
<li><code>depth_bounds_test_enable</code>: Enable bounds test</li>
<li><code>depth_compare</code>: Condition to overwrite depth (<code>VkCompareOp</code>)</li>
<li><code>stencil_test_enable</code>: Enable stencil test</li>
<li><code>front</code>: Control stencil parameter (<code>VkStencilOpState</code>)</li>
<li><code>back</code>: Control stencil parameter (<code>VkStencilOpState</code>)</li>
<li><code>min</code>: Define the min value in depth bound test (<code>float</code>)</li>
<li><code>max</code>: Define the max value in depth bound test (<code>float</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineDepthStencilState">PipelineDepthStencilState</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.back" class="name">var <span class="ident">back</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 6</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.depth_bounds_test_enable" class="name">var <span class="ident">depth_bounds_test_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.depth_compare" class="name">var <span class="ident">depth_compare</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.depth_test_enable" class="name">var <span class="ident">depth_test_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.depth_write_enable" class="name">var <span class="ident">depth_write_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.front" class="name">var <span class="ident">front</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.max" class="name">var <span class="ident">max</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 8</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.min" class="name">var <span class="ident">min</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 7</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDepthStencilState.stencil_test_enable" class="name">var <span class="ident">stencil_test_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineDynamicState" class="name">class <span class="ident">PipelineDynamicState</span></p>
      
  
    <div class="desc"><ul>
<li><code>states</code>: List of <code>VkDynamicState</code></li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineDynamicState">PipelineDynamicState</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineDynamicState.states" class="name">var <span class="ident">states</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineInputAssemblyState" class="name">class <span class="ident">PipelineInputAssemblyState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>topology</code>: The <code>VkPrimitiveTopology</code> to use when drawing</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineInputAssemblyState">PipelineInputAssemblyState</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineInputAssemblyState.topology" class="name">var <span class="ident">topology</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineMultisampleState" class="name">class <span class="ident">PipelineMultisampleState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>shading_enable</code>: Enable multisampling (<code>boolean</code>)</li>
<li><code>samples</code>: Number of samples (<code>VkSampleCountFlagBits</code>)</li>
<li><code>min_sample_shading</code>: Minimum of sample (<code>float</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineMultisampleState">PipelineMultisampleState</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineMultisampleState.min_sample_shading" class="name">var <span class="ident">min_sample_shading</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineMultisampleState.samples" class="name">var <span class="ident">samples</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineMultisampleState.shading_enable" class="name">var <span class="ident">shading_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineRasterizationState" class="name">class <span class="ident">PipelineRasterizationState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>depth_clamp_enable</code>: Whether to enable depth clamping (<code>boolean</code>)</li>
<li><code>polygon_mode</code>: Which <code>VkPolygonMode</code> to use</li>
<li><code>line_width</code>: Width of line (<code>float</code>)</li>
<li><code>cull_mode</code>: The way of culling (<code>VkCullModeFlagBits</code>)</li>
<li><code>front_face</code>: <code>VkFrontFace</code></li>
<li><code>depth_bias_constant</code>: Constant to add to depth (<code>float</code>)</li>
<li><code>depth_bias_clamp</code>: Max depth bias (<code>float</code>)</li>
<li><code>depth_bias_slope</code>: Factor to slope (<code>float</code>)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineRasterizationState">PipelineRasterizationState</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.cull_mode" class="name">var <span class="ident">cull_mode</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.depth_bias_clamp" class="name">var <span class="ident">depth_bias_clamp</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 6</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.depth_bias_constant" class="name">var <span class="ident">depth_bias_constant</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.depth_bias_slope" class="name">var <span class="ident">depth_bias_slope</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 7</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.depth_clamp_enable" class="name">var <span class="ident">depth_clamp_enable</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.front_face" class="name">var <span class="ident">front_face</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.line_width" class="name">var <span class="ident">line_width</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineRasterizationState.polygon_mode" class="name">var <span class="ident">polygon_mode</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineShaderStage" class="name">class <span class="ident">PipelineShaderStage</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>module</code>: The <code>ShaderModule</code> to bind</li>
<li><code>stage</code>: Stage name in ['vertex', 'fragment', 'geometry', 'compute',
       'tesselation<em>control', 'tesselation</em>evaluation']</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineShaderStage">PipelineShaderStage</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineShaderStage.module" class="name">var <span class="ident">module</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineShaderStage.stage" class="name">var <span class="ident">stage</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineVertexInputState" class="name">class <span class="ident">PipelineVertexInputState</span></p>
      
  
    <div class="desc"><p><em>Parameters:</em></p>

<ul>
<li><code>bindings</code>: List of vertice bindings</li>
<li><code>attributes</code>: List of vertice attributes</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineVertexInputState">PipelineVertexInputState</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineVertexInputState.attributes" class="name">var <span class="ident">attributes</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineVertexInputState.bindings" class="name">var <span class="ident">bindings</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.PipelineViewportState" class="name">class <span class="ident">PipelineViewportState</span></p>
      
  
    <div class="desc"><p>The PipelineViewportState object contains viewports and scissors.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>viewports</code>: List of viewport</li>
<li><code>scissors</code>: List of scissor</li>
</ul>

<p><strong>Warning:: The viewports and scissors are real Vulkan objects
            (<a href="/vk.VkRect2D.ext">&lt;code&gt;vk.VkRect2D&lt;/code&gt;</a>) and not Vulk objects.</strong></p>

<p><strong>Todo: Viewport and scissor should not be real Vulkan objects</strong></p>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.PipelineViewportState">PipelineViewportState</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineViewportState.scissors" class="name">var <span class="ident">scissors</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.PipelineViewportState.viewports" class="name">var <span class="ident">viewports</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.Renderpass" class="name">class <span class="ident">Renderpass</span></p>
      
  
    <div class="desc"><p>Renderpass object</p>

<p>When creating the pipeline, we need to tell Vulkan about the
framebuffer attachments that will be used while rendering. We need to
specify how many color and depth buffers there will be, how many samples
to use for each of them and how their contents should be handled
throughout the rendering operations. All of this information is wrapped
in a RenderPass object</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Renderpass', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Renderpass" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Renderpass</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Renderpass object</span>

<span class="sd">    When creating the pipeline, we need to tell Vulkan about the</span>
<span class="sd">    framebuffer attachments that will be used while rendering. We need to</span>
<span class="sd">    specify how many color and depth buffers there will be, how many samples</span>
<span class="sd">    to use for each of them and how their contents should be handled</span>
<span class="sd">    throughout the rendering operations. All of this information is wrapped</span>
<span class="sd">    in a RenderPass object</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span> <span class="n">subpasses</span><span class="p">,</span> <span class="n">dependencies</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Renderpass constructor</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext`</span>
<span class="sd">        - `attachments`: List of `AttachmentDescription`</span>
<span class="sd">        - `subpasses`: List of `SubpassDescription`</span>
<span class="sd">        - `dependencies`: List of `SubpassDependency`</span>

<span class="sd">        **Warning: Arguments ar not checked, you must kwnow</span>
<span class="sd">                   what you are doing.**</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">vk_attachments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">:</span>
            <span class="n">vk_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentDescription</span><span class="p">(</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">format</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">format</span><span class="p">),</span>
                <span class="n">samples</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">samples</span><span class="p">),</span>
                <span class="n">loadOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">load</span><span class="p">),</span>
                <span class="n">storeOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">store</span><span class="p">),</span>
                <span class="n">stencilLoadOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_load</span><span class="p">),</span>
                <span class="n">stencilStoreOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_store</span><span class="p">),</span>
                <span class="n">initialLayout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">initial_layout</span><span class="p">),</span>
                <span class="n">finalLayout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">final_layout</span><span class="p">)</span>
            <span class="p">))</span>

        <span class="c1"># Loop through the list of subpasses to create the reference</span>
        <span class="c1"># reference key is index_layout</span>
        <span class="n">vk_references</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
            <span class="n">all_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">[])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;colors&#39;</span><span class="p">,</span> <span class="s1">&#39;inputs&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;resolves&#39;</span><span class="p">,</span> <span class="s1">&#39;preserves&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_stencil&#39;</span><span class="p">)]</span>
            <span class="n">all_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">all_list</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">inputs</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">resolves</span> <span class="o">+</span>
                      <span class="n">s</span><span class="o">.</span><span class="n">preserves</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">):</span>
                <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vk_references</span><span class="p">:</span>
                    <span class="n">vk_references</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentReference</span><span class="p">(</span>
                        <span class="n">attachment</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                        <span class="n">layout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
                    <span class="p">)</span>

        <span class="c1"># Create the subpasses using references</span>
        <span class="n">vk_subpasses</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
            <span class="n">leninputs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
            <span class="n">lenpreserves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">preserves</span><span class="p">)</span>
            <span class="n">lencolors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span><span class="p">)</span>
            <span class="n">lenresolves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">resolves</span><span class="p">)</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">inputs</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">preserves</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">preserves</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">colors</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">resolves</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">resolves</span> <span class="ow">or</span> <span class="bp">None</span>
            <span class="n">depth_stencil</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">resolves</span> <span class="ow">and</span> <span class="n">inputs</span> <span class="ow">and</span> <span class="n">lenresolves</span> <span class="o">!=</span> <span class="n">lencolors</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;resolves and inputs list must be of the same size&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">vk_subpasses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDescription</span><span class="p">(</span>
                <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">pipelineBindPoint</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_PIPELINE_BIND_POINT_GRAPHICS</span><span class="p">,</span>
                <span class="n">inputAttachmentCount</span><span class="o">=</span><span class="n">leninputs</span><span class="p">,</span>
                <span class="n">pInputAttachments</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
                <span class="n">colorAttachmentCount</span><span class="o">=</span><span class="n">lencolors</span><span class="p">,</span>
                <span class="n">pColorAttachments</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
                <span class="n">pResolveAttachments</span><span class="o">=</span><span class="n">resolves</span><span class="p">,</span>
                <span class="n">preserveAttachmentCount</span><span class="o">=</span><span class="n">lenpreserves</span><span class="p">,</span>
                <span class="n">pPreserveAttachments</span><span class="o">=</span><span class="n">preserves</span><span class="p">,</span>
                <span class="n">pDepthStencilAttachment</span><span class="o">=</span><span class="n">depth_stencil</span>
            <span class="p">))</span>

        <span class="c1"># Create the dependancies</span>
        <span class="n">vk_dependencies</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dependencies</span><span class="p">:</span>
            <span class="n">vk_dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDependency</span><span class="p">(</span>
                <span class="n">dependencyFlags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">srcSubpass</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">src_subpass</span><span class="p">),</span>
                <span class="n">dstSubpass</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dst_subpass</span><span class="p">),</span>
                <span class="n">srcStageMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">src_stage</span><span class="p">),</span>
                <span class="n">dstStageMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dst_stage</span><span class="p">),</span>
                <span class="n">srcAccessMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">src_access</span><span class="p">),</span>
                <span class="n">dstAccessMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dst_access</span><span class="p">)</span>
            <span class="p">))</span>

        <span class="c1"># Create the render pass</span>
        <span class="n">renderpass_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRenderPassCreateInfo</span><span class="p">(</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO</span><span class="p">,</span>
            <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_attachments</span><span class="p">),</span>
            <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_attachments</span><span class="p">,</span>
            <span class="n">subpassCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_subpasses</span><span class="p">),</span>
            <span class="n">pSubpasses</span><span class="o">=</span><span class="n">vk_subpasses</span><span class="p">,</span>
            <span class="n">dependencyCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_dependencies</span><span class="p">),</span>
            <span class="n">pDependencies</span><span class="o">=</span><span class="n">vk_dependencies</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renderpass</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateRenderPass</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">renderpass_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.Renderpass">Renderpass</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.Renderpass.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, attachments, subpasses, dependencies)</p>
    </div>
    

    
  
    <div class="desc"><p>Renderpass constructor</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code></li>
<li><code>attachments</code>: List of <code>AttachmentDescription</code></li>
<li><code>subpasses</code>: List of <code>SubpassDescription</code></li>
<li><code>dependencies</code>: List of <code>SubpassDependency</code></li>
</ul>

<p><strong>Warning: Arguments ar not checked, you must kwnow
           what you are doing.</strong></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.Renderpass.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.Renderpass.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">attachments</span><span class="p">,</span> <span class="n">subpasses</span><span class="p">,</span> <span class="n">dependencies</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Renderpass constructor</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext`</span>
<span class="sd">    - `attachments`: List of `AttachmentDescription`</span>
<span class="sd">    - `subpasses`: List of `SubpassDescription`</span>
<span class="sd">    - `dependencies`: List of `SubpassDependency`</span>
<span class="sd">    **Warning: Arguments ar not checked, you must kwnow</span>
<span class="sd">               what you are doing.**</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vk_attachments</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">attachments</span><span class="p">:</span>
        <span class="n">vk_attachments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentDescription</span><span class="p">(</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">format</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">format</span><span class="p">),</span>
            <span class="n">samples</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">samples</span><span class="p">),</span>
            <span class="n">loadOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">load</span><span class="p">),</span>
            <span class="n">storeOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">store</span><span class="p">),</span>
            <span class="n">stencilLoadOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_load</span><span class="p">),</span>
            <span class="n">stencilStoreOp</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">stencil_store</span><span class="p">),</span>
            <span class="n">initialLayout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">initial_layout</span><span class="p">),</span>
            <span class="n">finalLayout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">final_layout</span><span class="p">)</span>
        <span class="p">))</span>
    <span class="c1"># Loop through the list of subpasses to create the reference</span>
    <span class="c1"># reference key is index_layout</span>
    <span class="n">vk_references</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
        <span class="n">all_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">[])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;colors&#39;</span><span class="p">,</span> <span class="s1">&#39;inputs&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;resolves&#39;</span><span class="p">,</span> <span class="s1">&#39;preserves&#39;</span><span class="p">,</span> <span class="s1">&#39;depth_stencil&#39;</span><span class="p">)]</span>
        <span class="n">all_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">all_list</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">inputs</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">resolves</span> <span class="o">+</span>
                  <span class="n">s</span><span class="o">.</span><span class="n">preserves</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">):</span>
            <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vk_references</span><span class="p">:</span>
                <span class="n">vk_references</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkAttachmentReference</span><span class="p">(</span>
                    <span class="n">attachment</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                    <span class="n">layout</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
                <span class="p">)</span>
    <span class="c1"># Create the subpasses using references</span>
    <span class="n">vk_subpasses</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subpasses</span><span class="p">:</span>
        <span class="n">leninputs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>
        <span class="n">lenpreserves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">preserves</span><span class="p">)</span>
        <span class="n">lencolors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">colors</span><span class="p">)</span>
        <span class="n">lenresolves</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">resolves</span><span class="p">)</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">inputs</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">preserves</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">preserves</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">colors</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">resolves</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">resolves</span> <span class="ow">or</span> <span class="bp">None</span>
        <span class="n">depth_stencil</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">depth_stencil</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resolves</span> <span class="ow">and</span> <span class="n">inputs</span> <span class="ow">and</span> <span class="n">lenresolves</span> <span class="o">!=</span> <span class="n">lencolors</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;resolves and inputs list must be of the same size&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">VulkError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">vk_subpasses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDescription</span><span class="p">(</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">pipelineBindPoint</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_PIPELINE_BIND_POINT_GRAPHICS</span><span class="p">,</span>
            <span class="n">inputAttachmentCount</span><span class="o">=</span><span class="n">leninputs</span><span class="p">,</span>
            <span class="n">pInputAttachments</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
            <span class="n">colorAttachmentCount</span><span class="o">=</span><span class="n">lencolors</span><span class="p">,</span>
            <span class="n">pColorAttachments</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
            <span class="n">pResolveAttachments</span><span class="o">=</span><span class="n">resolves</span><span class="p">,</span>
            <span class="n">preserveAttachmentCount</span><span class="o">=</span><span class="n">lenpreserves</span><span class="p">,</span>
            <span class="n">pPreserveAttachments</span><span class="o">=</span><span class="n">preserves</span><span class="p">,</span>
            <span class="n">pDepthStencilAttachment</span><span class="o">=</span><span class="n">depth_stencil</span>
        <span class="p">))</span>
    <span class="c1"># Create the dependancies</span>
    <span class="n">vk_dependencies</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dependencies</span><span class="p">:</span>
        <span class="n">vk_dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vk</span><span class="o">.</span><span class="n">VkSubpassDependency</span><span class="p">(</span>
            <span class="n">dependencyFlags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">srcSubpass</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">src_subpass</span><span class="p">),</span>
            <span class="n">dstSubpass</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dst_subpass</span><span class="p">),</span>
            <span class="n">srcStageMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">src_stage</span><span class="p">),</span>
            <span class="n">dstStageMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dst_stage</span><span class="p">),</span>
            <span class="n">srcAccessMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">src_access</span><span class="p">),</span>
            <span class="n">dstAccessMask</span><span class="o">=</span><span class="n">vk_const</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dst_access</span><span class="p">)</span>
        <span class="p">))</span>
    <span class="c1"># Create the render pass</span>
    <span class="n">renderpass_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkRenderPassCreateInfo</span><span class="p">(</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO</span><span class="p">,</span>
        <span class="n">attachmentCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_attachments</span><span class="p">),</span>
        <span class="n">pAttachments</span><span class="o">=</span><span class="n">vk_attachments</span><span class="p">,</span>
        <span class="n">subpassCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_subpasses</span><span class="p">),</span>
        <span class="n">pSubpasses</span><span class="o">=</span><span class="n">vk_subpasses</span><span class="p">,</span>
        <span class="n">dependencyCount</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vk_dependencies</span><span class="p">),</span>
        <span class="n">pDependencies</span><span class="o">=</span><span class="n">vk_dependencies</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">renderpass</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateRenderPass</span><span class="p">(</span>
        <span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">renderpass_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.Renderpass.renderpass" class="name">var <span class="ident">renderpass</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.ShaderModule" class="name">class <span class="ident">ShaderModule</span></p>
      
  
    <div class="desc"><p>ShaderModule Vulkan object</p>

<p>A shader module is a Spir-V shader loaded into Vulkan.
After being created, it must be inserted in a pipeline stage.
The real Vulkan module can be accessed by the 'module' property.</p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ShaderModule', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ShaderModule" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ShaderModule</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;ShaderModule Vulkan object</span>

<span class="sd">    A shader module is a Spir-V shader loaded into Vulkan.</span>
<span class="sd">    After being created, it must be inserted in a pipeline stage.</span>
<span class="sd">    The real Vulkan module can be accessed by the &#39;module&#39; property.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Initialize the module</span>

<span class="sd">        *Parameters:*</span>

<span class="sd">        - `context`: The `VulkContext` object</span>
<span class="sd">        - `code`: Binary Spir-V loaded file (bytes)</span>

<span class="sd">        *Returns:*</span>

<span class="sd">        The created `ShaderModule`</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Type of code is not &#39;bytes&#39;, it may be an error&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>

        <span class="c1"># Create the shader module</span>
        <span class="n">shader_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkShaderModuleCreateInfo</span><span class="p">(</span>
            <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</span><span class="p">,</span>
            <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">codeSize</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">code</span><span class="p">),</span> <span class="n">pCode</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateShaderModule</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">shader_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.ShaderModule">ShaderModule</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="vulk.vulkanobject.ShaderModule.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, context, code)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize the module</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>context</code>: The <code>VulkContext</code> object</li>
<li><code>code</code>: Binary Spir-V loaded file (bytes)</li>
</ul>

<p><em>Returns:</em></p>

<p>The created <code>ShaderModule</code></p>
</div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-vulk.vulkanobject.ShaderModule.__init__', this);">Show source &equiv;</a></p>
  <div id="source-vulk.vulkanobject.ShaderModule.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Initialize the module</span>
<span class="sd">    *Parameters:*</span>
<span class="sd">    - `context`: The `VulkContext` object</span>
<span class="sd">    - `code`: Binary Spir-V loaded file (bytes)</span>
<span class="sd">    *Returns:*</span>
<span class="sd">    The created `ShaderModule`</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Type of code is not &#39;bytes&#39;, it may be an error&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>
    <span class="c1"># Create the shader module</span>
    <span class="n">shader_create</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">VkShaderModuleCreateInfo</span><span class="p">(</span>
        <span class="n">sType</span><span class="o">=</span><span class="n">vk</span><span class="o">.</span><span class="n">VK_STRUCTURE_TYPE_SHADER_MODULE_CREATE_INFO</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">codeSize</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">code</span><span class="p">),</span> <span class="n">pCode</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">vk</span><span class="o">.</span><span class="n">vkCreateShaderModule</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="n">shader_create</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.ShaderModule.code" class="name">var <span class="ident">code</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.ShaderModule.module" class="name">var <span class="ident">module</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.SubpassDependency" class="name">class <span class="ident">SubpassDependency</span></p>
      
  
    <div class="desc"><p>SubpassDependency describes all dependencies of the subpass.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>src_subpass</code>: Source subpass (int)</li>
<li><code>src_stage</code>: Source stage (VkPipelineStageFlagBits)</li>
<li><code>src_access</code>: Source access (VkAccessFlagBits)</li>
<li><code>dst_subpass</code>: Destination subpass (int)</li>
<li><code>dst_stage</code>: Destination stage (VkPipelineStageFlagBits-</li>
<li><code>dst_access</code>: Destination access (VkAccessFlagBits)</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.SubpassDependency">SubpassDependency</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.dst_access" class="name">var <span class="ident">dst_access</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 5</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.dst_stage" class="name">var <span class="ident">dst_stage</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.dst_subpass" class="name">var <span class="ident">dst_subpass</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.src_access" class="name">var <span class="ident">src_access</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.src_stage" class="name">var <span class="ident">src_stage</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDependency.src_subpass" class="name">var <span class="ident">src_subpass</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="vulk.vulkanobject.SubpassDescription" class="name">class <span class="ident">SubpassDescription</span></p>
      
  
    <div class="desc"><p>SubpassDescription describes all attachments in the subpass.
All parameters are of type AttachmentReference. The order of
If you don't want an attachment, don't set it, its default
value is an empty list.</p>

<p><em>Parameters:</em></p>

<ul>
<li><code>colors</code>: list of colors attachments</li>
<li><code>inputs</code>: list of inputs attachments</li>
<li><code>resolves</code>: list of resolves attachments (must be the same
          size as inputs)</li>
<li><code>preserves</code>: list of preserves attachments</li>
<li><code>depth_stencil</code>: list containing only one attachment</li>
</ul>
</div>
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#vulk.vulkanobject.SubpassDescription">SubpassDescription</a></li>
          <li><a href="/builtins.tuple.ext">builtins.tuple</a></li>
          <li><a href="/builtins.object.ext">builtins.object</a></li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.colors" class="name">var <span class="ident">colors</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 0</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.depth_stencil" class="name">var <span class="ident">depth_stencil</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 4</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.inputs" class="name">var <span class="ident">inputs</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 1</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.preserves" class="name">var <span class="ident">preserves</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 3</p>
</div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="vulk.vulkanobject.SubpassDescription.resolves" class="name">var <span class="ident">resolves</span></p>
            

            
  
    <div class="desc"><p>Alias for field number 2</p>
</div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

  </footer>
</div>

<script type="text/javascript">
    var em = document.querySelectorAll("em");
    var underline = ["Parameters:", "Returns:", "Exemple:"];

    for (var i = 0; i < em.length; ++i) {
        var item = em[i];
        for (var j = 0; j < underline.length; j++) {
            var search = underline[j];
            if (item.textContent == search) {
                item.style.textDecorationLine = "underline";
            }
        }
    }
</script>

</body>
</html>
